<script type="text/worker">

	on("change:character_sheet_type", function() {
		getAttrs(["character_sheet_type"], function(values) {
			var attrs = {};
			if (values["character_sheet_type"] == "Character") {
				attrs["sheet-type"] = "character";
				attrs["character_race_type"] = "Race";
			} else if (values["character_sheet_type"] == "Monster") {
				attrs["sheet-type"] = "monster";
				attrs["character_race_type"] = "Type";
			}
			setAttrs(attrs);
		});
	});

	on("change:str", function() {
	   getAttrs(["str", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["str"]) || 0;
			  setAttrs({
				 "str": total,
				 "str-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:dex", function() {
	   getAttrs(["dex", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["dex"]) || 0;
			  setAttrs({
				 "dex": total,
				 "dex-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:con", function() {
	   getAttrs(["con", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["con"]) || 0;
			  setAttrs({
				 "con": total,
				 "con-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:int", function() {
	   getAttrs(["int", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["int"]) || 0;
			  setAttrs({
				 "int": total,
				 "int-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:wis", function() {
	   getAttrs(["wis", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["wis"]) || 0;
			  setAttrs({
				 "wis": total,
				 "wis-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:cha", function() {
	   getAttrs(["cha", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["cha"]) || 0;
			  setAttrs({
				 "cha": total,
				 "cha-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	
	on("change:str-base change:str-inherent change:str-enhance change:str-misc change:str-temp", function() {
		getAttrs(["str-base","str-inherent","str-enhance","str-misc","str-temp"], function(values) {
			var base = parseInt(values["str-base"]) || 0;
			var inherent = parseInt(values["str-inherent"]) || 0;
			var enhance = parseInt(values["str-enhance"]) || 0;
			var misc = parseInt(values["str-misc"]) || 0;
			var temp = parseInt(values["str-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"str": total,
				"str-mod": Math.floor(total*1),
				"str-base": base,
				"str-inherent": inherent,
				"str-enhance": enhance,
				"str-misc": misc,
				"str-temp": temp
			});
		});
	});

	on("change:dex-base change:dex-inherent change:dex-enhance change:dex-misc change:dex-temp", function() {
		getAttrs(["dex-base","dex-inherent","dex-enhance","dex-misc","dex-temp","dodge", "int", "dex"], function(values) {
			var base = parseInt(values["dex-base"]) || 0;
			var inherent = parseInt(values["dex-inherent"]) || 0;
			var enhance = parseInt(values["dex-enhance"]) || 0;
			var misc = parseInt(values["dex-misc"]) || 0;
			var temp = parseInt(values["dex-temp"]) || 0;
			var smart = parseInt(values["int"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			var dex = parseInt(values["dex"]) || 0;
			var dodge = dex + smart;
			setAttrs({
				"dex": total,
				"dex-mod": total,
				"dex-base": base,
				"dex-inherent": inherent,
				"dex-enhance": enhance,
				"dex-misc": misc,
				"dex-temp": temp,
			    "dodge":  Math.floor(dodge / 2)
			});
		});
	});

	on("change:con-base change:con-inherent change:con-enhance change:con-misc change:con-temp", function() {
		getAttrs(["con-base","con-inherent","con-enhance","con-misc","con-temp"], function(values) {
			var base = parseInt(values["con-base"]) || 0;
			var inherent = parseInt(values["con-inherent"]) || 0;
			var enhance = parseInt(values["con-enhance"]) || 0;
			var misc = parseInt(values["con-misc"]) || 0;
			var temp = parseInt(values["con-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"con": total,
				"con-mod": total,
				"con-base": base,
				"con-inherent": inherent,
				"con-enhance": enhance,
				"con-misc": misc,
				"con-temp": temp
			});
		});
	});

	on("change:wil-base change:wil-inherent change:wil-enhance change:wil-misc change:wil-temp", function() {
		getAttrs(["wil-base","wil-inherent","wil-enhance","wil-misc","wil-temp"], function(values) {
			var base = parseInt(values["wil-base"]) || 0;
			var inherent = parseInt(values["wil-inherent"]) || 0;
			var enhance = parseInt(values["wil-enhance"]) || 0;
			var misc = parseInt(values["wil-misc"]) || 0;
			var temp = parseInt(values["wil-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"wil": total,
				"wil-mod": total,
				"wil-base": base,
				"wil-inherent": inherent,
				"wil-enhance": enhance,
				"wil-misc": misc,
				"wil-temp": temp
			});
		});
	});

	on("change:int-base change:int-inherent change:int-enhance change:int-misc change:int-temp", function() {
		getAttrs(["int-base","int-inherent","int-enhance","int-misc","int-temp","dodge","int","dex"], function(values) {
			var base = parseInt(values["int-base"]) || 0;
			var inherent = parseInt(values["int-inherent"]) || 0;
			var enhance = parseInt(values["int-enhance"]) || 0;
			var misc = parseInt(values["int-misc"]) || 0;
			var temp = parseInt(values["int-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			var smart = parseInt(values["int"]) || 0;
			var dex = parseInt(values["dex"]) || 0;
			var dodge = dex + smart;
			setAttrs({
				"int": total,
				"int-mod": total,
				"int-base": base,
				"int-inherent": inherent,
				"int-enhance": enhance,
				"int-misc": misc,
				"int-temp": temp,
			    "dodge":  Math.floor(dodge / 2)
			});
		});
	});

	on("change:cha-base change:cha-inherent change:cha-enhance change:cha-misc change:cha-temp", function() {
		getAttrs(["cha-base","cha-inherent","cha-enhance","cha-misc","cha-temp"], function(values) {
			var base = parseInt(values["cha-base"]) || 0;
			var inherent = parseInt(values["cha-inherent"]) || 0;
			var enhance = parseInt(values["cha-enhance"]) || 0;
			var misc = parseInt(values["cha-misc"]) || 0;
			var temp = parseInt(values["cha-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"cha": total,
				"cha-mod": total,
				"cha-base": base,
				"cha-inherent": inherent,
				"cha-enhance": enhance,
				"cha-misc": misc,
				"cha-temp": temp
			});
		});
	});

on("change:mag-base change:mag-inherent change:mag-enhance change:mag-misc change:mag-temp", function() {
		getAttrs(["mag-base","mag-inherent","mag-enhance","mag-misc","mag-temp","mp-max"], function(values) {
			var base = parseInt(values["mag-base"]) || 0;
			var inherent = parseInt(values["mag-inherent"]) || 0;
			var enhance = parseInt(values["mag-enhance"]) || 0;
			var misc = parseInt(values["mag-misc"]) || 0;
			var temp = parseInt(values["mag-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			var max = total*10;
			setAttrs({
				"mag": total,
				"mag-base": base,
				"mag-inherent": inherent,
				"mag-enhance": enhance,
				"mag-misc": misc,
				"mag-temp": temp,
			    "mana_max": max
			});
		});
	});
	

	on("change:is-undead change:con-mod change:cha-mod change:level change:class-0-hp change:class-1-hp change:class-2-hp change:class-3-hp change:class-fc-hp change:options-toughness", function() {
		getAttrs(["is-undead", "con-mod", "cha-mod", "level", "class-0-hp", "class-1-hp", "class-2-hp", "class-3-hp", "hp-temp", "class-fc-hp", "options-toughness"], function(values) {
			var class0 = parseInt(values["class-0-hp"]) || 0;
			var class1 = parseInt(values["class-1-hp"]) || 0;
			var class2 = parseInt(values["class-2-hp"]) || 0;
			var class3 = parseInt(values["class-3-hp"]) || 0;
			var classFC = parseInt(values["class-fc-hp"]) || 0;
			var level = parseInt(values["level"]) || 0;
			var toughnessHP;
			var toughnessDisplay = " ";

			if (values["options-toughness"] == "true") {
				toughnessHP = (level <= 3) ? 3 : level;
				toughnessDisplay = "(+" + toughnessHP + " HP)";
			} else toughnessHP = 0;

			var total = (parseInt(values["is-undead"] == "undead" ? values["cha-mod"] : values["con-mod"]) * level) + class0 + class1 + class2 + class3 + classFC + toughnessHP;

			setAttrs({
				"class-0-hp": class0,
				"class-1-hp": class1,
				"class-2-hp": class2,
				"class-3-hp": class3,
				"class-fc-hp": classFC,
				"total-hp": total,
				"options-toughness-display": toughnessDisplay,
				"hp_max": total
			});
		});
	});

	on("change:class-0-mp change:class-1-mp change:class-2-mp change:class-3-mp change:options-extra-mp change:options-extra-mp-1 change:options-extra-mp-2 change:options-extra-mp-3 change:options-extra-mp-4 change:level", function() {
		getAttrs(["class-0-mp", "class-1-mp", "class-2-mp", "class-3-mp", "options-extra-mp", "options-extra-mp-1", "options-extra-mp-2", "options-extra-mp-3", "options-extra-mp-4", "class-0-level", "class-1-level", "class-2-level", "class-3-level"], function(values) {
			var class0 = parseInt(values["class-0-mp"]) || 0;
			var class1 = parseInt(values["class-1-mp"]) || 0;
			var class2 = parseInt(values["class-2-mp"]) || 0;
			var class3 = parseInt(values["class-3-mp"]) || 0;
			var class0Level = parseInt(values["class-0-level"]) || 0;
			var class1Level = parseInt(values["class-1-level"]) || 0;
			var class2Level = parseInt(values["class-2-level"]) || 0;
			var class3Level = parseInt(values["class-3-level"]) || 0;
			var extraMP = 0;
			var extraMPDisplay = " ";

			if (values["options-extra-mp"] == "true") {
				var extraMP = 1;
				if (values["options-extra-mp-1"] == "true") {
					extraMP += Math.floor(class0Level / 2);
				}
				if (values["options-extra-mp-2"] == "true") {
					extraMP += Math.floor(class1Level / 2);
				}
				if (values["options-extra-mp-3"] == "true") {
					extraMP += Math.floor(class2Level / 2);
				}
				if (values["options-extra-mp-4"] == "true") {
					extraMP += Math.floor(class3Level / 2);
				}
				extraMPDisplay = "(+" + extraMP + " MP)";
			}

			var total = class0 + class1 + class2 + class3 + extraMP;

			setAttrs({
				"class-0-mp": class0,
				"class-1-mp": class1,
				"class-2-mp": class2,
				"class-3-mp": class3,
				"total-mp": total,
				"options-extra-mp-display": extraMPDisplay
			});
		});
	});

	on("change:class-0-bab change:class-1-bab change:class-2-bab change:class-3-bab", function() {
		getAttrs(["class-0-bab", "class-1-bab", "class-2-bab", "class-3-bab"], function(values) {
			var class0 = parseInt(values["class-0-bab"]) || 0;
			var class1 = parseInt(values["class-1-bab"]) || 0;
			var class2 = parseInt(values["class-2-bab"]) || 0;
			var class3 = parseInt(values["class-3-bab"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-bab": class0,
				"class-1-bab": class1,
				"class-2-bab": class2,
				"class-3-bab": class3,
				"total-bab": total
			});
		});
	});

	on("change:int-mod change:level change:class-0-level change:class-1-level change:class-2-level change:class-3-level change:class-0-skill change:class-1-skill change:class-2-skill change:class-3-skill change:class-fc-skill change:options-skilled", function() {
		getAttrs(["int-mod", "level", "class-0-level", "class-1-level", "class-2-level", "class-3-level", "class-0-skill", "class-1-skill", "class-2-skill", "class-3-skill", "class-fc-skill", "options-skilled"], function(values) {
			var class0 = parseInt(values["class-0-skill"]) || 0;
			var class1 = parseInt(values["class-1-skill"]) || 0;
			var class2 = parseInt(values["class-2-skill"]) || 0;
			var class3 = parseInt(values["class-3-skill"]) || 0;
			var class0total = Math.max(class0 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-0-level"]) || 0);
			var class1total = Math.max(class1 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-1-level"]) || 0);
			var class2total = Math.max(class2 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-2-level"]) || 0);
			var class3total = Math.max(class3 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-3-level"]) || 0);
			var classFC = parseInt(values["class-fc-skill"]) || 0;
			var skilledBonus;
			var skilledDisplay = " ";

			if (values["options-skilled"] == "true") {
				skilledBonus = parseInt(values["level"]) || 0;
				skilledDisplay = "(+" + skilledBonus + " skill rank(s))"
			} else skilledBonus = 0;

			var total = class0total + class1total + class2total + class3total + classFC + skilledBonus;

			setAttrs({
				"class-0-skill": class0,
				"class-1-skill": class1,
				"class-2-skill": class2,
				"class-3-skill": class3,
				"class-fc-skill": classFC,
				"total-skill": total,
				"options-skilled-display": skilledDisplay
			});
		});
	});

	on("change:class-0-fort change:class-1-fort change:class-2-fort change:class-3-fort", function() {
		getAttrs(["class-0-fort", "class-1-fort", "class-2-fort", "class-3-fort"], function(values) {
			var class0 = parseInt(values["class-0-fort"]) || 0;
			var class1 = parseInt(values["class-1-fort"]) || 0;
			var class2 = parseInt(values["class-2-fort"]) || 0;
			var class3 = parseInt(values["class-3-fort"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-fort": class0,
				"class-1-fort": class1,
				"class-2-fort": class2,
				"class-3-fort": class3,
				"total-fort": total
			});
		});
	});

	on("change:class-0-ref change:class-1-ref change:class-2-ref change:class-3-ref", function() {
		getAttrs(["class-0-ref", "class-1-ref", "class-2-ref", "class-3-ref"], function(values) {
			var class0 = parseInt(values["class-0-ref"]) || 0;
			var class1 = parseInt(values["class-1-ref"]) || 0;
			var class2 = parseInt(values["class-2-ref"]) || 0;
			var class3 = parseInt(values["class-3-ref"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-ref": class0,
				"class-1-ref": class1,
				"class-2-ref": class2,
				"class-3-ref": class3,
				"total-ref": total
			});
		});
	});

	on("change:class-0-will change:class-1-will change:class-2-will change:class-3-will", function() {
		getAttrs(["class-0-will", "class-1-will", "class-2-will", "class-3-will"], function(values) {
			var class0 = parseInt(values["class-0-will"]) || 0;
			var class1 = parseInt(values["class-1-will"]) || 0;
			var class2 = parseInt(values["class-2-will"]) || 0;
			var class3 = parseInt(values["class-3-will"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-will": class0,
				"class-1-will": class1,
				"class-2-will": class2,
				"class-3-will": class3,
				"total-will": total
			});
		});
	});

	on("change:class-0-level change:class-1-level change:class-2-level change:class-3-level", function() {
		getAttrs(["class-0-level", "class-1-level", "class-2-level", "class-3-level"], function(values) {
			var class0 = parseInt(values["class-0-level"]) || 0;
			var class1 = parseInt(values["class-1-level"]) || 0;
			var class2 = parseInt(values["class-2-level"]) || 0;
			var class3 = parseInt(values["class-3-level"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-level": class0,
				"class-1-level": class1,
				"class-2-level": class2,
				"class-3-level": class3,
				"level": total
			});
		});
	});

	on("change:hp-temp", function() {
		getAttrs(["hp-temp", "total-hp", "level", "con-mod"], function(values) {
			var tempHP = parseInt(values["hp-temp"]) || 0;
			setAttrs({
				"hp-temp": tempHP
			});
		});
	});

	on("change:mp-temp", function() {
		getAttrs(["mp-temp", "total-mp", "total-bonusmp"], function(values) {
			var tempMP = parseInt(values["hp-temp"]) || 0;
			setAttrs({
				"mp-temp": tempMP
			});
		});
	});

	on("change:total-hp change:con-mod change:hp change:hp_max change:lb-uses change:lb-uses_max change:lb-threshold", function() {
		getAttrs(["hp", "hp_max", "hp-temp", "lb-uses", "lb-uses_max", "lb-threshold"], function(values) {
			var hp = parseInt(values["hp"]) || 0;
			var hp_max = parseInt(values["hp_max"]) || 0;
			var lb = parseInt(values["lb-uses"]) || 0;
			var lb_max = parseInt(values["lb-uses_max"]) || 0;
			var lb_threshold = (parseInt(values["lb-threshold"]) || 0) / 100;

			if ((hp <= Math.floor(hp_max * lb_threshold)) && (lb < lb_max)) {
				setAttrs({
					"lb-style": "active",
					"lb": "ACTIVE",
					"hp": hp,
					"lb-uses": lb,
					"lb-uses_max": lb_max
				});
			}
			else {
				setAttrs({
					"lb-style": "inactive",
					"lb": "INACTIVE",
					"hp": hp,
					"lb-uses": lb,
					"lb-uses_max": lb_max
				});
			}
		});
	});

	var bonusMP = [
		[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
		[0, 1, 1, 1, 1, 1, 1, 1, 1, 1],
		[0, 1, 3, 3, 3, 3, 3, 3, 3, 3],
		[0, 1, 3, 6, 6, 6, 6, 6, 6, 6],
		[0, 1, 3, 6, 10, 10, 10, 10, 10, 10],
		[0, 2, 4, 7, 11, 16, 16, 16, 16, 16],
		[0, 2, 6, 9, 13, 18, 24, 24, 24, 24],
		[0, 2, 6, 12, 16, 21, 27, 34, 34, 34],
		[0, 2, 6, 12, 20, 25, 31, 38, 46, 46],
		[0, 3, 7, 13, 21, 31, 37, 44, 52, 61],
		[0, 3, 9, 15, 23, 33, 45, 52, 60, 69],
		[0, 3, 9, 18, 26, 36, 48, 62, 70, 79],
		[0, 3, 9, 18, 30, 40, 52, 66, 82, 91],
		[0, 4, 10, 19, 31, 46, 58, 72, 88, 106],
		[0, 4, 12, 21, 33, 48, 66, 80, 96, 114],
		[0, 4, 12, 24, 36, 51, 69, 90, 106, 124],
		[0, 4, 12, 24, 40, 55, 73, 94, 118, 136],
		[0, 5, 13, 25, 41, 61, 79, 100, 124, 151]
	];


	on("change:is-undead change:con-mod change:cha-mod change:total-fort change:fort-enhance change:fort-misc change:fort-temp", function() {
		getAttrs(["is-undead", "cha-mod", "con-mod", "total-fort", "fort-enhance", "fort-misc", "fort-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var enhance = parseInt(values["fort-enhance"]) || 0;
				var misc = parseInt(values["fort-misc"]) || 0;
				var temp = parseInt(values["fort-temp"]) || 0;
				var ability = parseInt(values["is-undead"] == "undead" ? values["cha-mod"] : values["con-mod"]) || 0;
				var total = parseInt(values["is-undead"] == "undead" ? values["cha-mod"] : values["con-mod"]) + parseInt(values["total-fort"]) + enhance + misc + temp;
				setAttrs({
					"fort": total,
					"fort-enhance": enhance,
					"fort-ability": ability,
					"fort-misc": misc,
					"fort-temp": temp
				});
			}
		});
	});

	on("change:dex-mod change:total-ref change:ref-enhance change:ref-misc change:ref-temp", function() {
		getAttrs(["dex-mod", "total-ref", "ref-enhance", "ref-misc", "ref-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var enhance = parseInt(values["ref-enhance"]) || 0;
				var misc = parseInt(values["ref-misc"]) || 0;
				var temp = parseInt(values["ref-temp"]) || 0;
				var total = parseInt(values["dex-mod"]) + parseInt(values["total-ref"]) + enhance + misc + temp;
				setAttrs({
					"ref": total,
					"ref-enhance": enhance,
					"ref-misc": misc,
					"ref-temp": temp
				});
			}
		});
	});

	on("change:wil-mod change:total-will change:will-enhance change:will-misc change:will-temp", function() {
		getAttrs(["wis-mod", "total-will", "will-enhance", "will-misc", "will-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var enhance = parseInt(values["will-enhance"]) || 0;
				var misc = parseInt(values["will-misc"]) || 0;
				var temp = parseInt(values["will-temp"]) || 0;
				var total = parseInt(values["wis-mod"]) + parseInt(values["total-will"]) + enhance + misc + temp;
				setAttrs({
					"will": total,
					"will-enhance": enhance,
					"will-misc": misc,
					"will-temp": temp
				});
			}
		});
	});

	on("change:size", function() {
		getAttrs(["size"], function(values) {
			if (values["size"] == "Fine") {
				setAttrs({
					"size-mod": -8,
					"size-mod-atk": 8,
					"size-mod-skill": 4
				});
			} else if (values["size"] == "Diminutive") {
				setAttrs({
					"size-mod": -4,
					"size-mod-atk": 4,
					"size-mod-skill": 3
				});
			} else if (values["size"] == "Tiny") {
				setAttrs({
					"size-mod": -2,
					"size-mod-atk": 2,
					"size-mod-skill": 2
				});
			} else if (values["size"] == "Small") {
				setAttrs({
					"size-mod": -1,
					"size-mod-atk": 1,
					"size-mod-skill": 1
				});
			} else if (values["size"] == "Medium") {
				setAttrs({
					"size-mod": 0,
					"size-mod-atk": 0,
					"size-mod-skill": 0
				});
			} else if (values["size"] == "Large") {
				setAttrs({
					"size-mod": 1,
					"size-mod-atk": -1,
					"size-mod-skill": -1
				});
			} else if (values["size"] == "Huge") {
				setAttrs({
					"size-mod": 2,
					"size-mod-atk": -2,
					"size-mod-skill": -2
				});
			} else if (values["size"] == "Gargantuan") {
				setAttrs({
					"size-mod": 4,
					"size-mod-atk": -4,
					"size-mod-skill": -3
				});
			} else {
				setAttrs({
					"size-mod": 8,
					"size-mod-atk": -8,
					"size-mod-skill": -4
				});
			}
		});
	});

	on("change:melee-other change:str-mod change:dex-mod change:con-mod change:wis-mod change:int-mod change:cha-mod", function() {
		getAttrs(["melee-other", "str-mod", "dex-mod", "con-mod", "wis-mod", "int-mod", "cha-mod"], function(values) {
			if (values["melee-other"] == "STR") {
				setAttrs({"melee-ability": parseInt(values["str-mod"])});
			} else if (values["melee-other"] == "DEX") {
				setAttrs({"melee-ability": parseInt(values["dex-mod"])});
			} else if (values["melee-other"] == "CON") {
				setAttrs({"melee-ability": parseInt(values["con-mod"])});
			} else if (values["melee-other"] == "WIS") {
				setAttrs({"melee-ability": parseInt(values["wis-mod"])});
			} else if (values["melee-other"] == "INT") {
				setAttrs({"melee-ability": parseInt(values["int-mod"])});
			} else {
				setAttrs({"melee-ability": parseInt(values["cha-mod"])});
			}
		});
	});

	on("change:ranged-other change:str-mod change:dex-mod change:con-mod change:wis-mod change:int-mod change:cha-mod", function() {
		getAttrs(["ranged-other", "str-mod", "dex-mod", "con-mod", "wis-mod", "int-mod", "cha-mod"], function(values) {
			if (values["ranged-other"] == "STR") {
				setAttrs({"ranged-ability": parseInt(values["str-mod"])});
			} else if (values["ranged-other"] == "DEX") {
				setAttrs({"ranged-ability": parseInt(values["dex-mod"])});
			} else if (values["ranged-other"] == "CON") {
				setAttrs({"ranged-ability": parseInt(values["con-mod"])});
			} else if (values["ranged-other"] == "WIS") {
				setAttrs({"ranged-ability": parseInt(values["wis-mod"])});
			} else if (values["ranged-other"] == "INT") {
				setAttrs({"ranged-ability": parseInt(values["int-mod"])});
			} else {
				setAttrs({"ranged-ability": parseInt(values["cha-mod"])});
			}
		});
	});

	on("change:cmb-other change:str-mod change:dex-mod change:con-mod change:wis-mod change:int-mod change:cha-mod", function() {
		getAttrs(["cmb-other", "str-mod", "dex-mod", "con-mod", "wis-mod", "int-mod", "cha-mod"], function(values) {
			if (values["cmb-other"] == "STR") {
				setAttrs({"cmb-ability": parseInt(values["str-mod"])});
			} else if (values["cmb-other"] == "DEX") {
				setAttrs({"cmb-ability": parseInt(values["dex-mod"])});
			} else if (values["cmb-other"] == "CON") {
				setAttrs({"cmb-ability": parseInt(values["con-mod"])});
			} else if (values["cmb-other"] == "WIS") {
				setAttrs({"cmb-ability": parseInt(values["wis-mod"])});
			} else if (values["cmb-other"] == "INT") {
				setAttrs({"cmb-ability": parseInt(values["int-mod"])});
			} else {
				setAttrs({"cmb-ability": parseInt(values["cha-mod"])});
			}
		});
	});

	on("change:total-bab change:melee-ability change:size-mod-atk change:melee-misc change:melee-temp", function() {
		getAttrs(["total-bab", "melee-ability", "size-mod-atk", "melee-misc", "melee-temp"], function(values) {
			var misc = parseInt(values["melee-misc"]) || 0;
			var temp = parseInt(values["melee-temp"]) || 0;
			var total = parseInt(values["total-bab"]) + parseInt(values["melee-ability"]) + parseInt(values["size-mod-atk"]) + misc + temp;
			setAttrs({
				"melee-misc": misc,
				"melee-temp": temp,
				"melee-total": total
			});
		});
	});

	on("change:total-bab change:ranged-ability change:size-mod-atk change:ranged-misc change:ranged-temp", function() {
		getAttrs(["total-bab", "ranged-ability", "size-mod-atk", "ranged-misc", "ranged-temp"], function(values) {
			var misc = parseInt(values["ranged-misc"]) || 0;
			var temp = parseInt(values["ranged-temp"]) || 0;
			var total = parseInt(values["total-bab"]) + parseInt(values["ranged-ability"]) + parseInt(values["size-mod-atk"]) + misc + temp;
			setAttrs({
				"ranged-misc": misc,
				"ranged-temp": temp,
				"ranged-total": total
			});
		});
	});

	on("change:total-bab change:cmb-ability change:size-mod change:cmb-misc change:cmb-temp", function() {
		getAttrs(["total-bab", "cmb-ability", "size-mod", "cmb-misc", "cmb-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var misc = parseInt(values["cmb-misc"]) || 0;
				var temp = parseInt(values["cmb-temp"]) || 0;
				var total = parseInt(values["total-bab"]) + parseInt(values["cmb-ability"]) + parseInt(values["size-mod"]) + misc + temp;
				setAttrs({
					"cmb-misc": misc,
					"cmb-temp": temp,
					"cmb-total": total
				});
			}
		});
	});

	on("change:total-bab change:cmd-ability change:size-mod change:cmd-misc change:cmd-temp change:ac-deflection-worn change:ac-deflection-bonus change:ac-dodge-bonus", function() {
		getAttrs(["total-bab", "cmd-ability", "cmd-other", "size-mod", "cmd-misc", "cmd-temp", "ac-deflection-worn", "ac-deflection-bonus", "ac-dodge-bonus", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var misc = parseInt(values["cmd-misc"]) || 0;
				var temp = parseInt(values["cmd-temp"]) || 0;
				var deflect;

				if (values["ac-deflection-worn"] == "worn") {
					deflect = parseInt(values["ac-deflection-bonus"]) || 0;
				} else {
					deflect = 0;
				}

				var dodge = parseInt(values["ac-dodge-bonus"]) || 0;
				var other = 10 + deflect + dodge;
				var total = parseInt(values["total-bab"]) + parseInt(values["cmd-ability"]) + parseInt(values["size-mod"]) + other + misc + temp;
				setAttrs({
					"cmd-other": other,
					"cmd-misc": misc,
					"cmd-temp": temp,
					"cmd-total": total
				});
			}
		});
	});

	on("change:wil-mod change:init-misc", function() {
		getAttrs(["wil-mod", "init-misc", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var initMisc = parseInt(values["init-misc"]) || 0;
				setAttrs({
					"init-total": parseInt(values["wil-mod"]) + initMisc,
					"init-misc": initMisc
				});
			}
		});
	});

	on("change:str-mod change:dex-mod change:total-bab change:size-mod change:cmd-misc change:cmd-temp", function() {
		getAttrs(["str-mod", "dex-mod", "total-bab", "size-mod", "wis-mod", "cmd-misc", "cmd-temp"], function(values) {
			setAttrs({"cmd-ability": parseInt(values["str-mod"]) + parseInt(values["dex-mod"])});
		});
	});

	var xpReq = [
	  [0, 0, 0],
	  [3000, 2000, 1300],
	  [7500, 5000, 3300],
	  [14000, 9000, 6000],
	  [23000, 15000, 10000],
	  [35000, 23000, 15000],
	  [53000, 35000, 23000],
	  [77000, 51000, 34000],
	  [115000, 75000, 50000],
	  [160000, 105000, 71000],
	  [235000, 155000, 105000],
	  [330000, 220000, 145000],
	  [475000, 315000, 210000],
	  [665000, 445000, 295000],
	  [955000, 635000, 425000],
	  [1350000, 890000, 600000],
	  [1900000, 1300000, 850000],
	  [2700000, 1800000, 1200000],
	  [3850000, 2550000, 1700000],
	  [5350000, 3600000, 2400000],
	];

	on("change:xp-rate change:level change:options-extra-lb change:options-extra-lb-amount", function() {
		getAttrs(["xp-rate", "level", "options-extra-lb", "options-extra-lb-amount"], function(values) {
			var level = parseInt(values["level"]) || 0;
			var xp;
			var lbUsesMax;
			var extraLbAmount;

			if (values["xp-rate"] == "Slow") {
				xp = xpReq[level][0];
			} else if (values["xp-rate"] == "Medium") {
				xp = xpReq[level][1];
			} else if (values["xp-rate"] == "Fast") {
				xp = xpReq[level][2];
			} else {
				return;
			}

			switch (true) {
				case (level < 5):
					lbUsesMax = 1;
					break;
				case (level < 9):
					lbUsesMax = 2;
					break;
				case (level < 13):
					lbUsesMax = 3;
					break;
				case (level <= 20):
					lbUsesMax = 4;
					break;
				default:
					lbUsesMax = 0;
					break;
			}

			if (values["options-extra-lb"] == "true") {
				extraLbAmount = parseInt(values["options-extra-lb-amount"]) || 0;
				lbUsesMax += extraLbAmount;
			} else extraLbAmount = 0;

			setAttrs({
				"xp_max": xp,
				"lb-uses_max": lbUsesMax,
				"options-extra-lb-amount": extraLbAmount
			});
		});
	});

	on("change:repeating_weapons:weapon-weight remove:repeating_weapons", function (e) {
		getSectionIDs("repeating_weapons", function (idarr) {
			if (idarr.length == 0) {
				setAttrs({"weapon-weight-total": 0 });
				return;
			}

			var totalWeight = 0;
			var weightTally = _.after(idarr.length, function () {
				totalWeight = parseFloat(totalWeight.toFixed(2));
				setAttrs({"weapon-weight-total": totalWeight });
			});
			for (var i = 0; i < idarr.length; i++) {
				getAttrs(["repeating_weapons_" + idarr[i] + "_weapon-weight"], function (v) {
					totalWeight += parseFloat(v[Object.keys(v)[0]]) || 0;
					weightTally();
				});
			}
		});
	});

	function computeAttackBonus(id) {
		getAttrs(["repeating_weapons_" + id + "_weapon-attack-modifier", "total-bab", "size-mod-atk", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod"], function (values) {
		   var attackModifier = values[Object.keys(values)[0]];
		   var attackBonus = parseInt(values["total-bab"]) + parseInt(values["size-mod-atk"]);
		   switch (attackModifier) {
			   case "---": attackBonus = 0; break;
			   case "STR": attackBonus += parseInt(values["str-mod"]); break;
			   case "DEX": attackBonus += parseInt(values["dex-mod"]); break;
			   case "CON": attackBonus += parseInt(values["con-mod"]); break;
			   case "INT": attackBonus += parseInt(values["int-mod"]); break;
			   case "WIS": attackBonus += parseInt(values["wis-mod"]); break;
			   case "CHA": attackBonus += parseInt(values["cha-mod"]); break;
			   default: attackBonus = -1;
			}
			var attrs = {};
			attrs["repeating_weapons_" + id + "_weapon-attack-bonus"] = attackBonus;
			setAttrs(attrs);
	  });
	}


	on("change:repeating_weapons:weapon-attack-modifier", function() {
		getAttrs(["repeating_weapons_weapon-attack-modifier", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "size-mod-atk", "total-bab"], function(values) {
		   var attackModifier = values[Object.keys(values)[0]];
		   var attackBonus = parseInt(values["total-bab"]) + parseInt(values["size-mod-atk"]);
		   switch (attackModifier) {
			   case "---": attackBonus = 0; break;
			   case "STR": attackBonus += parseInt(values["str-mod"]); break;
			   case "DEX": attackBonus += parseInt(values["dex-mod"]); break;
			   case "CON": attackBonus += parseInt(values["con-mod"]); break;
			   case "INT": attackBonus += parseInt(values["int-mod"]); break;
			   case "WIS": attackBonus += parseInt(values["wis-mod"]); break;
			   case "CHA": attackBonus += parseInt(values["cha-mod"]); break;
			   default: attackBonus = -1;
		   }
		   setAttrs({"repeating_weapons_weapon-attack-bonus": attackBonus});
		});
	});


	on("change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:total-bab change:size-mod-atk", function() {
		getSectionIDs("repeating_weapons", function (idarr) {
			idarr.forEach(function(id) {
				computeAttackBonus(id);
			});
		});
	});

	on("change:total-mp change:int-mod change:wis-mod change:cha-mod change:class-0-clevel change:class-1-clevel change:class-2-clevel change:class-3-clevel change:class-0-bonusmp change:class-1-bonusmp change:class-2-bonusmp change:class-3-bonusmp", function() {
		getAttrs(["int-mod", "wis-mod", "cha-mod", "total-mp", "class-0-clevel", "class-1-clevel", "class-2-clevel", "class-3-clevel", "class-0-bonusmp", "class-1-bonusmp", "class-2-bonusmp", "class-3-bonusmp", "mp-temp", "mp-lost"], function(values) {
			var bonusMP0, bonusMP1, bonusMP2, bonusMP3, bonusMP4;

			if (values["class-0-bonusmp"] == 0) {
				bonusMP0 = 0;
			} else if (values["class-0-bonusmp"] == "INT") {
				bonusMP0 = values["int-mod"];
			} else if (values["class-0-bonusmp"] == "WIS") {
				bonusMP0 = values["wis-mod"];
			} else {
				bonusMP0 = values["cha-mod"];
			}

			if (values["class-1-bonusmp"] == 0) {
				bonusMP1 = 0;
			} else if (values["class-1-bonusmp"] == "INT") {
				bonusMP1 = values["int-mod"];
			} else if (values["class-1-bonusmp"] == "WIS") {
				bonusMP1 = values["wis-mod"];
			} else {
				bonusMP1 = values["cha-mod"];
			}

			if (values["class-2-bonusmp"] == 0) {
				bonusMP2 = 0;
			} else if (values["class-2-bonusmp"] == "INT") {
				bonusMP2 = values["int-mod"];
			} else if (values["class-2-bonusmp"] == "WIS") {
				bonusMP2 = values["wis-mod"];
			} else {
				bonusMP2 = values["cha-mod"];
			}

			if (values["class-3-bonusmp"] == 0) {
				bonusMP3 = 0;
			} else if (values["class-3-bonusmp"] == "INT") {
				bonusMP3 = values["int-mod"];
			} else if (values["class-3-bonusmp"] == "WIS") {
				bonusMP3 = values["wis-mod"];
			} else {
				bonusMP3 = values["cha-mod"];
			}

			var class0 = parseInt(values["class-0-clevel"]) || 0;
			var class1 = parseInt(values["class-1-clevel"]) || 0;
			var class2 = parseInt(values["class-2-clevel"]) || 0;
			var class3 = parseInt(values["class-3-clevel"]) || 0;
			var tableMP = bonusMP[bonusMP0][class0] + bonusMP[bonusMP1][class1] + bonusMP[bonusMP2][class2] + bonusMP[bonusMP3][class3];

			setAttrs({
				"class-0-clevel": class0,
				"class-1-clevel": class1,
				"class-2-clevel": class2,
				"class-3-clevel": class3,
				"total-bonusmp": tableMP,
				"total-bonusmp-display": "+" + tableMP,
				"mp_max": tableMP + parseInt(values["total-mp"])
			});
		});
	});

	on("change:ac-armor-worn change:ac-shield-worn change:ac-spell-worn change:ac-deflection-worn change:ac-armor-bonus change:ac-shield-bonus change:ac-natural-bonus \
	change:ac-deflection-bonus change:ac-dodge-bonus change:ac-misc-bonus change:ac-armor-penalty change:ac-shield-penalty change:ac-armor-sf change:ac-shield-sf change:ac-armor-weight \
	change:ac-shield-weight change:ac-natural-weight change:ac-deflection-weight change:ac-armor-maxdex change:ac-shield-maxdex change:dex-mod", function() {
		getAttrs(["ac-armor-worn", "ac-armor-bonus", "ac-armor-penalty", "ac-armor-sf", "ac-armor-weight", "ac-armor-maxdex",
		"ac-shield-worn", "ac-spell-worn", "ac-shield-bonus", "ac-shield-penalty", "ac-shield-sf", "ac-shield-weight", "ac-shield-maxdex",
		"ac-natural-worn", "ac-natural-bonus", "ac-spell-bonus", "ac-natural-weight", "ac-deflection-worn", "ac-deflection-bonus", "ac-deflection-weight", "ac-dodge-bonus", "ac-misc-bonus", "dex-mod", "dodge"], function(values) {
			var acArmorBonus = 0, acArmorACP = 0, acArmorSF = 0, acArmorWeight = 0, acArmorMaxDEX = 0;
			var acHighestArmor = 0;
			var acShieldBonus = 0, acShieldACP = 0, acShieldSF = 0, acShieldWeight = 0, acShieldMaxDEX = 0;
			var acNaturalBonus = 0, acNaturalWeight = 0;
			var acDeflectionBonus = 0, acDeflectionWeight = 0;
			var acDodgeBonus = parseInt(values["ac-dodge-bonus"]) || 0;
			var acMiscBonus = parseInt(values["ac-misc-bonus"]) || 0;
			var dodge = parseFloat(values["dodge"]) || 0;
			var dodgetotal = parseInt(values["ac-dex"]) || 0;
			if ((values["ac-armor-worn"] == "worn") && (values["ac-spell-worn"] != "worn")) {
				acArmorBonus = parseInt(values["ac-armor-bonus"]) || 0;
				acArmorACP = parseInt(values["ac-armor-penalty"]) || 0;
				acArmorSF = parseInt(values["ac-armor-sf"]) || 0;
				acArmorWeight = parseFloat(values["ac-armor-weight"]) || 0;
				acArmorMaxDEX = parseInt(values["ac-armor-maxdex"]) || 0;
			}

			if ((values["ac-armor-worn"] != "worn") && (values["ac-spell-worn"] == "worn")) {
				acArmorBonus = parseInt(values["ac-spell-bonus"]) || 0;
				acArmorACP = parseInt(values["ac-armor-penalty"]) || 0;
				acArmorSF = parseInt(values["ac-armor-sf"]) || 0;
				acArmorWeight = parseFloat(values["ac-armor-weight"]) || 0;
				acArmorMaxDEX = parseInt(values["ac-armor-maxdex"]) || 0;
			}
			
			if ((values["ac-armor-worn"] == "worn") && (values["ac-spell-worn"] == "worn")) {
				acArmorBonus = Math.max(parseInt(values["ac-armor-bonus"]), parseInt(values["ac-spell-bonus"]));
				acArmorACP = parseInt(values["ac-armor-penalty"]) || 0;
				acArmorSF = parseInt(values["ac-armor-sf"]) || 0;
				acArmorWeight = parseFloat(values["ac-armor-weight"]) || 0;
				acArmorMaxDEX = parseInt(values["ac-armor-maxdex"]) || 0;
			}
			
			
			if ((values["ac-armor-worn"] != "worn") && (values["ac-spell-worn"] != "worn")) {
				acArmorBonus = 0;
				acArmorACP = parseInt(values["ac-armor-penalty"]) || 0;
				acArmorSF = parseInt(values["ac-armor-sf"]) || 0;
				acArmorWeight = parseFloat(values["ac-armor-weight"]) || 0;
				acArmorMaxDEX = parseInt(values["ac-armor-maxdex"]) || 0;
			}
			
			if (values["ac-shield-worn"] == "worn") {
				acShieldBonus = parseInt(values["ac-shield-bonus"]) || 0;
				acShieldACP = parseInt(values["ac-shield-penalty"]) || 0;
				acShieldSF = parseInt(values["ac-shield-sf"]) || 0;
				acShieldWeight = parseFloat(values["ac-shield-weight"]) || 0;
				acShieldMaxDEX = parseInt(values["ac-shield-maxdex"]) || 0;
			}

			if (values["ac-natural-worn"] == "worn") {
				acNaturalBonus = parseInt(values["ac-natural-bonus"]) || 0;
				acNaturalWeight = parseFloat(values["ac-natural-weight"]) || 0;
			}

			if (values["ac-deflection-worn"] == "worn") {
				acDeflectionBonus = parseInt(values["ac-deflection-bonus"]) || 0;
				acDeflectionWeight = parseFloat(values["ac-deflection-weight"]) || 0;
			}

			var totalWeight = parseFloat((acArmorWeight + acShieldWeight + acNaturalWeight + acDeflectionWeight).toFixed(2));

			setAttrs({
				"ac-armor": acArmorBonus,
				"ac-shield": acShieldBonus,
				"ac-natural": acNaturalBonus,
				"ac-deflection": acDeflectionBonus,
				"ac-armor-bonus": parseInt(values["ac-armor-bonus"]) || 0,
				"ac-shield-bonus": parseInt(values["ac-shield-bonus"]) || 0,
				"ac-natural-bonus": parseInt(values["ac-natural-bonus"]) || 0,
				"ac-deflection-bonus": parseInt(values["ac-deflection-bonus"]) || 0,
				"ac-armor-penalty": parseInt(values["ac-armor-penalty"]) || 0,
				"ac-shield-penalty": parseInt(values["ac-shield-penalty"]) || 0,
				"ac-dodge-bonus": acDodgeBonus,
				"ac-misc-bonus": acMiscBonus,
				"ac-armor-maxdex": parseInt(values["ac-armor-maxdex"]) || 0,
				"ac-shield-maxdex": parseInt(values["ac-shield-maxdex"]) || 0,
				"ac-armor-sf": parseInt(values["ac-armor-sf"]) || 0,
				"ac-shield-sf": parseInt(values["ac-shield-sf"]) || 0,
				"ac-armor-weight": parseFloat(values["ac-armor-weight"]) || 0,
				"ac-shield-weight": parseFloat(values["ac-shield-weight"]) || 0,
				"ac-natural-weight": parseFloat(values["ac-natural-weight"]) || 0,
				"ac-deflection-weight": parseFloat(values["ac-deflection-weight"]) || 0,
				"ac-total-bonus": acArmorBonus + acShieldBonus + acNaturalBonus + acDeflectionBonus + acDodgeBonus + acMiscBonus,
				"ac-total-penalty": acArmorACP + acShieldACP,
				"ac-total-sf": (acArmorSF + acShieldSF),
				"ac-weight-total": totalWeight,
			});

			if ((values["ac-armor-worn"] == "worn") && (values["ac-shield-worn"] == "worn")) {
				var maxdex = Math.min(parseInt(values["ac-armor-maxdex"]), parseInt(values["ac-armor-maxdex"]));
				setAttrs({
					"ac-total-maxdex": maxdex,
					"ac-dex": Math.min(maxdex, dodge),
				    "ac-total": acArmorBonus + acShieldBonus + parseInt(values["ac-dex"]) + acMiscBonus,
				    "ac-armor-total": acArmorBonus + acShieldBonus + parseInt(values["ac-dex"]) + acMiscBonus
				});
			} else if ((values["ac-armor-worn"] == "worn") && (values["ac-shield-worn"] != "worn")) {
				var maxdex = parseInt(values["ac-armor-maxdex"]);
				setAttrs({
					"ac-total-maxdex": maxdex,
					"ac-dex": Math.min(maxdex, dodge),
				    "ac-total": acArmorBonus + acShieldBonus + parseInt(values["ac-dex"]) + acMiscBonus,
				    "ac-armor-total": acArmorBonus + acShieldBonus + parseInt(values["ac-dex"]) + acMiscBonus
				});
			} else {
				setAttrs({
					"ac-total-maxdex": parseInt(values["dodge"]),
					"ac-dex": dodge,
				    "ac-total": acArmorBonus + acShieldBonus + parseInt(values["ac-dex"]) + acMiscBonus,
				    "ac-armor-total": acArmorBonus + acShieldBonus + parseInt(values["ac-dex"]) + acMiscBonus
				});
			}
		});
	});

	on("change:equip-head-weight change:equip-headband-weight change:equip-eyes-weight change:equip-shoulders-weight change:equip-neck-weight change:equip-chest-weight \
	change:equip-body-weight change:equip-belt-weight change:equip-wrists-weight change:equip-hands-weight change:equip-ring1-weight change:equip-ring2-weight change:equip-feet-weight", function(eventInfo) {
		getAttrs(["equip-head-weight", "equip-headband-weight", "equip-eyes-weight", "equip-shoulders-weight", "equip-neck-weight", "equip-chest-weight", "equip-body-weight",
		"equip-belt-weight", "equip-wrists-weight", "equip-hands-weight", "equip-ring1-weight", "equip-ring2-weight", "equip-feet-weight"], function(values) {
			var headWeight = parseFloat(values["equip-head-weight"]) || 0;
			var headbandWeight = parseFloat(values["equip-headband-weight"]) || 0;
			var eyesWeight = parseFloat(values["equip-eyes-weight"]) || 0;
			var shouldersWeight = parseFloat(values["equip-shoulders-weight"]) || 0;
			var neckWeight = parseFloat(values["equip-neck-weight"]) || 0;
			var chestWeight = parseFloat(values["equip-chest-weight"]) || 0;
			var bodyWeight = parseFloat(values["equip-body-weight"]) || 0;
			var beltWeight = parseFloat(values["equip-belt-weight"]) || 0;
			var wristsWeight = parseFloat(values["equip-wrists-weight"]) || 0;
			var handsWeight = parseFloat(values["equip-hands-weight"]) || 0;
			var ring1Weight = parseFloat(values["equip-ring1-weight"]) || 0;
			var ring2Weight = parseFloat(values["equip-ring2-weight"]) || 0;
			var feetWeight = parseFloat(values["equip-feet-weight"]) || 0;
			var total = parseFloat((headWeight + headbandWeight + eyesWeight + shouldersWeight + neckWeight + chestWeight + bodyWeight + beltWeight + wristsWeight + handsWeight + ring1Weight + ring2Weight + feetWeight).toFixed(2));

			setAttrs({
				"equip-weight-total": total,
				"equip-head-weight": headWeight,
				"equip-headband-weight": headbandWeight,
				"equip-eyes-weight": eyesWeight,
				"equip-shoulders-weight": shouldersWeight,
				"equip-neck-weight": neckWeight,
				"equip-chest-weight": chestWeight,
				"equip-body-weight": bodyWeight,
				"equip-belt-weight": beltWeight,
				"equip-wrists-weight": wristsWeight,
				"equip-hands-weight": handsWeight,
				"equip-ring1-weight": ring1Weight,
				"equip-ring2-weight": ring2Weight,
				"equip-feet-weight": feetWeight
			});
		});
	});

	on("change:dodge change:size-mod-atk change:ac-armor change:ac-shield change:ac-natural change:ac-deflection change:ac-dodge-bonus change:ac-misc-bonus change:ac-temp change:ac-touch-temp change:ac-flatfooted-temp change:uncanny-dodge", function(eventInfo) {
		getAttrs(["ac-dex", "size-mod-atk", "ac-armor", "ac-shield", "ac-natural", "ac-deflection", "ac-dodge-bonus", "ac-misc-bonus", "ac-temp", "ac-touch-temp", "ac-flatfooted-temp", "uncanny-dodge", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var acTemp = parseInt(values["ac-temp"]) || 0;
				var acTouchTemp = parseInt(values["ac-touch-temp"]) || 0;
				var acFlatFootedTemp = parseInt(values["ac-flatfooted-temp"]) || 0;
				var acDodgeBonus = parseInt(values["ac-dodge-bonus"]) || 0;
				var acMiscBonus = parseInt(values["ac-misc-bonus"]) || 0;

				if (values["uncanny-dodge"] == "checked") {
					setAttrs({
						"ac-temp": acTemp,
						"ac-touch-temp": acTouchTemp,
						"ac-flatfooted-temp": acFlatFootedTemp,
						"ac-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + acDodgeBonus + acTemp,
						"ac-touch-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-dodge-bonus"]) + acTouchTemp,
						"ac-flatfooted-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + acDodgeBonus + acFlatFootedTemp,
						"ac-dex-ff": parseInt(values["ac-dex"]),
						"ac-dodge-bonus-ff": acDodgeBonus
					});
				} else {
					if (values["ac-dex"] < 0 ) {
						setAttrs({
							"ac-temp": acTemp,
							"ac-touch-temp": acTouchTemp,
							"ac-flatfooted-temp": acFlatFootedTemp,
							"ac-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-dodge-bonus"]) + acTemp,
							"ac-touch-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-dodge-bonus"]) + acTouchTemp,
							"ac-flatfooted-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + acFlatFootedTemp,
							"ac-dex-ff": parseInt(values["ac-dex"]),
							"ac-dodge-bonus-ff": "---"
						});
					} else {
						setAttrs({
							"ac-temp": acTemp,
							"ac-touch-temp": acTouchTemp,
							"ac-flatfooted-temp": acFlatFootedTemp,
							"ac-total": parseInt(values["ac-dex"]) +  parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-misc-bonus"]),
							"ac-touch-total": parseInt(values["ac-dex"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]),
							"ac-flatfooted-total": parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-deflection"]) + acFlatFootedTemp,
							"ac-dex-ff": "---",
							"ac-dodge-bonus-ff": "---"
						});
					}
				}
			}
		});
	});

	on("change:weapon-weight-total change:ac-weight-total change:load-bonus change:equip-weight-total change:inventory-weight-total change:misc-weight change:str change:size", function(e) {
		getAttrs(["weapon-weight-total", "ac-weight-total", "load-bonus", "equip-weight-total", "inventory-weight-total", "misc-weight", "str", "size"], function(values) {

			var loadBonus = parseFloat(values["load-bonus"]) || 0;
			var weaponWeight = parseFloat(values["weapon-weight-total"]) || 0;
			var acWeight = parseFloat(values["ac-weight-total"]) || 0;
			var equipWeight = parseFloat(values["equip-weight-total"]) || 0;
			var inventoryWeight = parseFloat(values["inventory-weight-total"]) || 0;
			var miscWeight = parseFloat(values["misc-weight"]) || 0;
			var totalWeight = parseFloat((weaponWeight + acWeight + equipWeight + inventoryWeight + miscWeight).toFixed(2));
			var str = (parseInt(values["str"]) || 0 )+ loadBonus;
			var base = str - 10 * Math.floor(str / 10);
			var baseLookup = [25, 28.75, 32.5, 37.5, 43.75, 50, 57.5, 65, 75, 87.5];
			var maxHeavyLoad = 0;
			var sizeMultiplier = 1;
			console.log(str,loadBonus);

			switch(values["size"]) {
				case "Fine":
					sizeMultiplier = 1 / 8;
					break;
				case "Diminutive":
					sizeMultiplier = 1 / 4;
					break;
				case "Tiny":
					sizeMultiplier = 1 / 2;
					break;
				case "Small":
					sizeMultiplier = 3 / 4;
					break;
				case "Large":
					sizeMultiplier = 2;
					break;
				case "Huge":
					sizeMultiplier = 4;
					break;
				case "Gargantuan":
					sizeMultiplier = 8;
					break;
				case "Colossal":
					sizeMultiplier = 16;
					break;
				default:
					sizeMultiplier = 1;
			}

			if (str <= 10) { maxHeavyLoad = sizeMultiplier * (str * 10); }
			else { maxHeavyLoad = Math.floor(sizeMultiplier * (baseLookup[base] * Math.pow(4, Math.floor(str / 10)))); }

			var maxMediumLoad = Math.floor(maxHeavyLoad * (2/3));
			var maxLightLoad = Math.floor(maxHeavyLoad * (1/3));
			var maxLift = maxHeavyLoad * 2;
			var maxPushDrag = maxHeavyLoad * 5;
			var currentLoad = "";

			if (totalWeight <= maxLightLoad) { currentLoad = "Light"; }
			else if (totalWeight <= maxMediumLoad && totalWeight > maxLightLoad) { currentLoad = "Medium"; }
			else if (totalWeight <= maxHeavyLoad && totalWeight > maxMediumLoad) { currentLoad = "Heavy"; }
			else { currentLoad = "Overburdened"; }

			setAttrs({
				"weight-total": totalWeight,
				"misc-weight": miscWeight,
				"load-light": "0-" + maxLightLoad,
				"load-medium": (maxLightLoad + 1) + "-" + maxMediumLoad,
				"load-heavy": (maxMediumLoad + 1) + "-" + maxHeavyLoad,
				"load-current": currentLoad,
				"load-max-lift-head": maxHeavyLoad,
				"load-max-lift-ground": maxLift,
				"load-max-push-drag": maxPushDrag,
				"load-bonus": loadBonus
			});
		});
	});

	on("change:repeating_inventory:inventory-item-weight remove:repeating_inventory", function (e) {
		getSectionIDs("repeating_inventory", function (idarr) {
			if (idarr.length == 0) {
				setAttrs({ "inventory-weight-total": 0 });
				return;
			}

			var totalWeight = 0;
			var weightTally = _.after(idarr.length, function () {
				totalWeight = parseFloat(totalWeight.toFixed(2));
				setAttrs({ "inventory-weight-total": totalWeight });
			});
			for (var i = 0; i < idarr.length; i++) {
				getAttrs(["repeating_inventory_" + idarr[i] + "_inventory-item-weight"], function (v) {
					totalWeight += parseFloat(v[Object.keys(v)[0]]) || 0;
					weightTally();
				});
			}
		});
	});

	on("change:repeating_materia:materia-type", function(eventInfo) {
		getAttrs([eventInfo.sourceAttribute], function(values) {
			if (values[eventInfo.sourceAttribute] == "Type") {
				setAttrs({"repeating_materia_materia-type-style": "none"});
			} else if (values[eventInfo.sourceAttribute] == "Ability") {
				setAttrs({"repeating_materia_materia-type-style": "ability"});
			} else if (values[eventInfo.sourceAttribute] == "Independent") {
				setAttrs({"repeating_materia_materia-type-style": "independent"});
			} else if (values[eventInfo.sourceAttribute] == "Spell") {
				setAttrs({"repeating_materia_materia-type-style": "spell"});
			} else if (values[eventInfo.sourceAttribute] == "Summon") {
				setAttrs({"repeating_materia_materia-type-style": "summon"});
			} else {
				setAttrs({"repeating_materia_materia-type-style": "support"});
			}
		});
	});

	on("change:repeating_materia:materia-rarity change:repeating_materia:materia-mxp", function() {
	   getAttrs(["repeating_materia_materia-rarity", "repeating_materia_materia-mxp"], function(values) {
			var level = "????";
			var mxp = parseInt(values["repeating_materia_materia-mxp"]) || 0, mxpmax = 0;

			if (values["repeating_materia_materia-rarity"] == "Common") {
				if ((mxp >= 0) && (mxp < 500)) {
					level = "";
					mxpmax = 500;
				} else if ((mxp >= 500) && (mxp < 1000)) {
					level = "";
					mxpmax = 1000;
				} else if ((mxp >= 1000) && (mxp < 2000)) {
					level = "";
					mxpmax = 2000;
				} else if (mxp >= 2000) {
					level = "";
					mxpmax = "---";
				} else {
					level = "";
					mxpmax = "---";
				}
			} else if (values["repeating_materia_materia-rarity"] == "Uncommon") {
				if ((mxp >= 500) && (mxp < 1000)) {
					level = "";
					mxpmax = 1000;
				} else if ((mxp >= 1000) && (mxp < 2000)) {
					level = "";
					mxpmax = 2000;
				} else if ((mxp >= 2000) && (mxp < 4000)) {
					level = "";
					mxpmax = 4000;
				} else if (mxp >= 4000) {
					level = "";
					mxpmax = "---";
				} else {
					level = "";
					mxpmax = 500;
				}
			} else if (values["repeating_materia_materia-rarity"] == "Rare") {
				if ((mxp >= 750) && (mxp < 1500)) {
					level = "";
					mxpmax = 1500;
				} else if ((mxp >= 1500) && (mxp < 3000)) {
					level = "";
					mxpmax = 3000;
				} else if ((mxp >= 3000) && (mxp < 6000)) {
					level = "";
					mxpmax = 6000;
				} else if (mxp >= 6000) {
					level = "";
					mxpmax = "---";
				} else {
					level = "";
					mxpmax = 750;
				}
			} else if (values["repeating_materia_materia-rarity"] == "Legendary") {
				if ((mxp >= 1000) && (mxp < 2000)) {
					level = "";
					mxpmax = 2000;
				} else if ((mxp >= 2000) && (mxp < 4000)) {
					level = "";
					mxpmax = 4000;
				} else if ((mxp >= 4000) && (mxp < 8000)) {
					level = "";
					mxpmax = 8000;
				} else if (mxp >= 8000) {
					level = "";
					mxpmax = "---"
				} else {
					level = "";
					mxpmax = 1000;
				}
			} else {
				level = "";
				mxpmax = "---";
			}

			setAttrs({
				"repeating_materia_materia-level": level,
				"repeating_materia_materia-mxp_max": mxpmax,
				"repeating_materia_materia-mxp": mxp
			});
	   });
	});

	on("change:repeating_materia:materia-attuned", function(eventInfo) {
		getAttrs(["options-materia-attunement"], function(values) {
			if (values["options-materia-attunement"] != "true") {
				var id = eventInfo.sourceAttribute;

				getAttrs([eventInfo.sourceAttribute], function(values) {
					if (values[eventInfo.sourceAttribute] == "attuned") {
						getSectionIDs("repeating_materia", function (idarr) {
							for (var i = 0; i < idarr.length; i++) {
								if (id != "repeating_materia_" + idarr[i] + "_materia-attuned") {
									setAttrs({ ["repeating_materia_" + idarr[i] + "_materia-attuned"]: "0" });
								}
							}
						});
					}
				});
			}
		});
	});

	on("change:acrobatics-ranks change:business-ranks change:channeling-ranks change:climb-ranks change:craft1-ranks change:craft2-ranks change:craft3-ranks \
	change:diplomacy-ranks change:disabledevice-ranks change:deception-ranks change:exoticweapons-ranks change:escapeartist-ranks change:gatherinformation-ranks change:handleanimal-ranks \
	change:medicine-ranks change:intimidate-ranks change:knowarcana-ranks change:knowdungeon-ranks change:knowengineer-ranks change:knowgeography-ranks \
	change:knowhistory-ranks change:knowlocal-ranks change:knownature-ranks change:knownobility-ranks change:knowplanes-ranks change:knowreligion-ranks \
	change:knowtechnology-ranks change:leadership-ranks change:magecraft-ranks change:perception-ranks change:perform1-ranks change:perform2-ranks \
	change:perform3-ranks change:search-ranks change:prof1-ranks change:prof2-ranks change:prof3-ranks change:thrownweapons-ranks change:ride-ranks change:sensemotive-ranks \
	change:sleightofhand-ranks change:sorcery-ranks change:shamanism-ranks change:stealth-ranks change:survival-ranks change:swim-ranks change:usemagicdevice-ranks", function() {
		getAttrs(["acrobatics-ranks", "business-ranks", "channeling-ranks", "climb-ranks", "craft1-ranks", "craft2-ranks", "craft3-ranks", "diplomacy-ranks",
		"disabledevice-ranks", "deception-ranks", "exoticweapons-ranks", "escapeartist-ranks", "gatherinformation-ranks", "handleanimal-ranks", "medicine-ranks", "intimidate-ranks",
		"knowarcana-ranks", "knowdungeon-ranks", "knowengineer-ranks", "knowgeography-ranks", "knowhistory-ranks", "knowlocal-ranks", "knownature-ranks",
		"knownobility-ranks", "knowplanes-ranks", "knowreligion-ranks", "knowtechnology-ranks", "leadership-ranks", "magecraft-ranks", "perception-ranks",
		"perform1-ranks", "perform2-ranks", "perform3-ranks", "picklock-ranks", "search-ranks", "prof1-ranks", "prof2-ranks", "prof3-ranks", "thrownweapons-ranks", "ride-ranks",
		"sensemotive-ranks", "sleightofhand-ranks", "sorcery-ranks","shamanism-ranks", "stealth-ranks", "survival-ranks", "swim-ranks", "usemagicdevice-ranks"], function(values) {
			var totalRanks = (parseInt(values["acrobatics-ranks"]) || 0) + (parseInt(values["business-ranks"]) || 0) + (parseInt(values["channeling-ranks"]) || 0) +
			(parseInt(values["climb-ranks"]) || 0) + (parseInt(values["craft1-ranks"]) || 0) + (parseInt(values["craft2-ranks"]) || 0) + (parseInt(values["craft3-ranks"]) || 0) +
			(parseInt(values["diplomacy-ranks"]) || 0) + (parseInt(values["disabledevice-ranks"]) || 0) + (parseInt(values["deception-ranks"]) || 0) +
			(parseInt(values["exoticweapons-ranks"]) || 0) + (parseInt(values["escapeartist-ranks"]) || 0) + (parseInt(values["gatherinformation-ranks"]) || 0) + (parseInt(values["handleanimal-ranks"]) || 0) +
			(parseInt(values["medicine-ranks"]) || 0) + (parseInt(values["intimidate-ranks"]) || 0) + (parseInt(values["knowarcana-ranks"]) || 0) + (parseInt(values["knowdungeon-ranks"]) || 0) +
			(parseInt(values["knowengineer-ranks"]) || 0) + (parseInt(values["knowgeography-ranks"]) || 0) + (parseInt(values["knowhistory-ranks"]) || 0) +
			(parseInt(values["knowlocal-ranks"]) || 0) + (parseInt(values["knownature-ranks"]) || 0) + (parseInt(values["knownobility-ranks"]) || 0) +
			(parseInt(values["knowplanes-ranks"]) || 0) + (parseInt(values["knowreligion-ranks"]) || 0) + (parseInt(values["knowtechnology-ranks"]) || 0) +
			(parseInt(values["leadership-ranks"]) || 0) + (parseInt(values["magecraft-ranks"]) || 0) + (parseInt(values["perception-ranks"]) || 0) +
			(parseInt(values["perform1-ranks"]) || 0) + (parseInt(values["perform2-ranks"]) || 0) + (parseInt(values["perform3-ranks"]) || 0) + (parseInt(values["picklock-ranks"]) || 0) +
			(parseInt(values["search-ranks"]) || 0) + (parseInt(values["prof1-ranks"]) || 0) + (parseInt(values["prof2-ranks"]) || 0) + (parseInt(values["prof3-ranks"]) || 0) +
			(parseInt(values["thrownweapons-ranks"]) || 0) + (parseInt(values["ride-ranks"]) || 0) + (parseInt(values["sensemotive-ranks"]) || 0) +
			(parseInt(values["sleightofhand-ranks"]) || 0) + (parseInt(values["sorcery-ranks"]) || 0) + (parseInt(values["shamanism-ranks"]) || 0) + (parseInt(values["stealth-ranks"]) || 0) +
			(parseInt(values["survival-ranks"]) || 0) + (parseInt(values["swim-ranks"]) || 0) + (parseInt(values["unarmedcombat-ranks"]) || 0);

			setAttrs({"total-ranks": totalRanks});
		 });
	});

	on("change:acrobatics-ability change:acrobatics-cs change:acrobatics-ranks change:acrobatics-misc change:acrobatics-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["acrobatics-cs", "acrobatics-ability", "acrobatics-ranks", "acrobatics-misc", "acrobatics-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["acrobatics-ranks"]) || 0;
				var misc = parseInt(values["acrobatics-misc"]) || 0;
				var mod = parseInt(values[values["acrobatics-ability"]]) || 0;
				var total = 0, totalBonus = 0;

				if (values["acrobatics-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["acrobatics-acp"] == "acp") {
					total = total - parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				if (total < 1) {
					total = 1
				}	
				
				setAttrs({
					"acrobatics-mod": mod,
					"acrobatics-total": total,
					"acrobatics-ranks": ranks,
					"acrobatics-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"acrobatics-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"acrobatics-bonus": totalBonus});
				} else {
					setAttrs({"acrobatics-bonus": " "});
				}
			}
		});
	});

	on("change:business-ability change:business-cs change:business-ranks change:business-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["business-cs", "business-ranks", "business-ability", "business-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["business-ranks"]) || 0;
				var misc = parseInt(values["business-misc"]) || 0;
				var mod = parseInt(values[values["business-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["business-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"business-mod":mod,
					"business-total": total,
					"business-ranks": ranks,
					"business-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"business-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"business-bonus": totalBonus});
				} else {
					setAttrs({"business-bonus": " "});
				}
			}
		});
	});

	on("change:channeling-ability change:channeling-cs change:channeling-ranks change:channeling-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["channeling-cs", "channeling-ranks", "channeling-ability", "channeling-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["channeling-ranks"]) || 0;
				var misc = parseInt(values["channeling-misc"]) || 0;
				var mod = parseInt(values[values["channeling-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["channeling-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"channeling-mod":mod,
					"channeling-total": total,
					"channeling-ranks": ranks,
					"channeling-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"channeling-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"channeling-bonus": totalBonus});
				} else {
					setAttrs({"channeling-bonus": " "});
				}
			}
		});
	});

	on("change:climb-ability change:climb-cs change:climb-ranks change:climb-misc change:climb-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["climb-cs", "climb-ranks", "climb-ability", "climb-misc", "climb-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["climb-ranks"]) || 0;
				var misc = parseInt(values["climb-misc"]) || 0;
				var mod = parseInt(values[values["climb-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["climb-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["climb-acp"] == "acp") {
					total = total - parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				if (total < 1) {
					total = 1
				}
				
				setAttrs({
					"climb-mod":mod,
					"climb-total": total,
					"climb-ranks": ranks,
					"climb-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"climb-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"climb-bonus": totalBonus});
				} else {
					setAttrs({"climb-bonus": " "});
				}
			}
		});
	});

	on("change:craft1-ability change:craft1-cs change:craft1-ranks change:craft1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["craft1-cs", "craft1-ranks", "craft1-ability", "craft1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["craft1-ranks"]) || 0;
				var misc = parseInt(values["craft1-misc"]) || 0;
				var mod = parseInt(values[values["craft1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["craft1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"craft1-mod":mod,
					"craft1-total": total,
					"craft1-ranks": ranks,
					"craft1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"craft1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"craft1-bonus": totalBonus});
				} else {
					setAttrs({"craft1-bonus": " "});
				}
			}
		});
	});

	on("change:craft2-ability change:craft2-cs change:craft2-ranks change:craft2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["craft2-cs", "craft2-ranks", "craft2-ability", "craft2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["craft2-ranks"]) || 0;
				var misc = parseInt(values["craft2-misc"]) || 0;
				var mod = parseInt(values[values["craft2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["craft2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}


				setAttrs({
					"craft2-mod":mod,
					"craft2-total": total,
					"craft2-ranks": ranks,
					"craft2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"craft2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"craft2-bonus": totalBonus});
				} else {
					setAttrs({"craft2-bonus": " "});
				}
			}
		});
	});

	on("change:craft3-ability change:craft3-cs change:craft3-ranks change:craft3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["craft3-cs", "craft3-ranks", "craft3-ability", "craft3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["craft3-ranks"]) || 0;
				var misc = parseInt(values["craft3-misc"]) || 0;
				var mod = parseInt(values[values["craft3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["craft3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"craft3-mod":mod,
					"craft3-total": total,
					"craft3-ranks": ranks,
					"craft3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"craft3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"craft3-bonus": totalBonus});
				} else {
					setAttrs({"craft3-bonus": " "});
				}
			}
		});
	});

	on("change:diplomacy-ability change:diplomacy-cs change:diplomacy-ranks change:diplomacy-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["diplomacy-cs", "diplomacy-ranks", "diplomacy-ability", "diplomacy-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["diplomacy-ranks"]) || 0;
				var misc = parseInt(values["diplomacy-misc"]) || 0;
				var mod = parseInt(values[values["diplomacy-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["diplomacy-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"diplomacy-mod":mod,
					"diplomacy-total": total,
					"diplomacy-ranks": ranks,
					"diplomacy-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"diplomacy-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"diplomacy-bonus": totalBonus});
				} else {
					setAttrs({"diplomacy-bonus": " "});
				}
			}
		});
	});

	on("change:disabledevice-ability change:disabledevice-cs change:disabledevice-ranks change:disabledevice-misc change:disabledevice-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["disabledevice-cs", "disabledevice-ranks", "disabledevice-ability", "disabledevice-misc", "disabledevice-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["disabledevice-ranks"]) || 0;
				var misc = parseInt(values["disabledevice-misc"]) || 0;
				var mod = parseInt(values[values["disabledevice-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["disabledevice-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["disabledevice-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"disabledevice-mod":mod,
					"disabledevice-total": total,
					"disabledevice-ranks": ranks,
					"disabledevice-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"disabledevice-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"disabledevice-bonus": totalBonus});
				} else {
					setAttrs({"disabledevice-bonus": " "});
				}
			}
		});
	});

	on("change:deception-ability change:deception-cs change:deception-ranks change:deception-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["deception-cs", "deception-ranks", "deception-ability", "deception-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["deception-ranks"]) || 0;
				var misc = parseInt(values["deception-misc"]) || 0;
				var mod = parseInt(values[values["deception-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["deception-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"deception-mod":mod,
					"deception-total": total,
					"deception-ranks": ranks,
					"deception-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"deception-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"deception-bonus": totalBonus});
				} else {
					setAttrs({"deception-bonus": " "});
				}
			}
		});
	});

	on("change:exoticweapons1-ability change:exoticweapons1-cs change:exoticweapons1-ranks change:exoticweapons1-misc change:exoticweapons1-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["exoticweapons1-cs", "exoticweapons1-ranks", "exoticweapons1-ability", "exoticweapons1-misc", "exoticweapons1-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["exoticweapons1-ranks"]) || 0;
				var misc = parseInt(values["exoticweapons1-misc"]) || 0;
				var mod = parseInt(values[values["exoticweapons1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["exoticweaons1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["exoticweapons1-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"exoticweapons1-mod":mod,
					"exoticweapons1-total": total,
					"exoticweapons1-ranks": ranks,
					"exoticweapons1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"exoticweapons1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"exoticweapons1-bonus": totalBonus});
				} else {
					setAttrs({"exoticweapons1-bonus": " "});
				}
			}
		});
	});

	on("change:exoticweapons2-ability change:exoticweapons2-cs change:exoticweapons2-ranks change:exoticweapons2-misc change:exoticweapons2-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["exoticweapons2-cs", "exoticweapons2-ranks", "exoticweapons2-ability", "exoticweapons2-misc", "exoticweapons2-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["exoticweapons2-ranks"]) || 0;
				var misc = parseInt(values["exoticweapons2-misc"]) || 0;
				var mod = parseInt(values[values["exoticweapons2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["exoticweaons2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["exoticweapons2-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"exoticweapons2-mod":mod,
					"exoticweapons2-total": total,
					"exoticweapons2-ranks": ranks,
					"exoticweapons2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"exoticweapons2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"exoticweapons2-bonus": totalBonus});
				} else {
					setAttrs({"exoticweapons2-bonus": " "});
				}
			}
		});
	});	
	
	on("change:exoticweapons3-ability change:exoticweapons3-cs change:exoticweapons3-ranks change:exoticweapons3-misc change:exoticweapons3-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["exoticweapons3-cs", "exoticweapons3-ranks", "exoticweapons3-ability", "exoticweapons3-misc", "exoticweapons3-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["exoticweapons3-ranks"]) || 0;
				var misc = parseInt(values["exoticweapons3-misc"]) || 0;
				var mod = parseInt(values[values["exoticweapons3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["exoticweaons3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["exoticweapons3-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"exoticweapons3-mod":mod,
					"exoticweapons3-total": total,
					"exoticweapons3-ranks": ranks,
					"exoticweapons3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"exoticweapons3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"exoticweapons3-bonus": totalBonus});
				} else {
					setAttrs({"exoticweapons3-bonus": " "});
				}
			}
		});
	});	

	on("change:escapeartist-ability change:escapeartist-cs change:escapeartist-ranks change:escapeartist-misc change:escapeartist-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["escapeartist-cs", "escapeartist-ranks", "escapeartist-ability", "escapeartist-misc", "escapeartist-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["escapeartist-ranks"]) || 0;
				var misc = parseInt(values["escapeartist-misc"]) || 0;
				var mod = parseInt(values[values["escapeartist-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["escapeartist-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["escapeartist-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"escapeartist-mod":mod,
					"escapeartist-total": total,
					"escapeartist-ranks": ranks,
					"escapeartist-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"escapeartist-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"escapeartist-bonus": totalBonus});
				} else {
					setAttrs({"escapeartist-bonus": " "});
				}
			}
		});
	});

	on("change:gatherinformation-ability change:gatherinformation-cs change:gatherinformation-ranks change:gatherinformation-misc change:gatherinformation-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod change:ac-total-penalty change:size-mod-skill", function() {
		getAttrs(["gatherinformation-cs", "gatherinformation-ranks", "gatherinformation-ability", "gatherinformation-misc", "gatherinformation-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type","size-mod-skill"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["gatherinformation-ranks"]) || 0;
				var misc = parseInt(values["gatherinformation-misc"]) || 0;
				var mod = parseInt(values[values["gatherinformation-ability"]]) || 0;
				var size = parseInt(values["size-mod-skill"]) || 0;
				var total = 0, totalBonus = size * 2;

				if (values["gatherinformation-cs"] == "trained" && ranks >= 1) {
					totalBonus += 3
				}

				total = totalBonus + ranks + misc + mod;

				if (values["gatherinformation-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"gatherinformation-mod": mod,
					"gatherinformation-total": total,
					"gatherinformation-ranks": ranks,
					"gatherinformation-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"gatherinformation-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"gatherinformation-bonus": totalBonus});
				} else {
					setAttrs({"gatherinformation-bonus": " "});
				}
			}
		});
	});

	on("change:handleanimal-ability change:handleanimal-cs change:handleanimal-ranks change:handleanimal-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["handleanimal-cs", "handleanimal-ranks", "handleanimal-ability", "handleanimal-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["handleanimal-ranks"]) || 0;
				var misc = parseInt(values["handleanimal-misc"]) || 0;
				var mod = parseInt(values[values["handleanimal-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["handleanimal-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"handleanimal-mod":mod,
					"handleanimal-total": total,
					"handleanimal-ranks": ranks,
					"handleanimal-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"handleanimal-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"handleanimal-bonus": totalBonus});
				} else {
					setAttrs({"handleanimal-bonus": " "});
				}
			}
		});
	});

	on("change:medicine-ability change:medicine-cs change:medicine-ranks change:medicine-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["medicine-cs", "medicine-ranks", "medicine-ability", "medicine-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["medicine-ranks"]) || 0;
				var misc = parseInt(values["medicine-misc"]) || 0;
				var mod = parseInt(values[values["medicine-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["medicine-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"medicine-mod":mod,
					"medicine-total": total,
					"medicine-ranks": ranks,
					"medicine-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"medicine-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"medicine-bonus": totalBonus});
				} else {
					setAttrs({"medicine-bonus": " "});
				}
			}
		});
	});

	on("change:intimidate-ability change:intimidate-cs change:intimidate-ranks change:intimidate-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["intimidate-cs", "intimidate-ranks", "intimidate-ability", "intimidate-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["intimidate-ranks"]) || 0;
				var misc = parseInt(values["intimidate-misc"]) || 0;
				var mod = parseInt(values[values["intimidate-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["intimidate-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"intimidate-mod":mod,
					"intimidate-total": total,
					"intimidate-ranks": ranks,
					"intimidate-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"intimidate-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"intimidate-bonus": totalBonus});
				} else {
					setAttrs({"intimidate-bonus": " "});
				}
			}
		});
	});

	on("change:knowarcana-ability change:knowarcana-cs change:knowarcana-ranks change:knowarcana-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowarcana-cs", "knowarcana-ranks", "knowarcana-ability", "knowarcana-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowarcana-ranks"]) || 0;
				var misc = parseInt(values["knowarcana-misc"]) || 0;
				var mod = parseInt(values[values["knowarcana-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowarcana-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowarcana-mod":mod,
					"knowarcana-total": total,
					"knowarcana-ranks": ranks,
					"knowarcana-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowarcana-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowarcana-bonus": totalBonus});
				} else {
					setAttrs({"knowarcana-bonus": " "});
				}
			}
		});
	});

	on("change:knowdungeon-ability change:knowdungeon-cs change:knowdungeon-ranks change:knowdungeon-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowdungeon-cs", "knowdungeon-ranks", "knowdungeon-ability", "knowdungeon-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowdungeon-ranks"]) || 0;
				var misc = parseInt(values["knowdungeon-misc"]) || 0;
				var mod = parseInt(values[values["knowdungeon-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowdungeon-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowdungeon-mod":mod,
					"knowdungeon-total": total,
					"knowdungeon-ranks": ranks,
					"knowdungeon-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowdungeon-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowdungeon-bonus": totalBonus});
				} else {
					setAttrs({"knowdungeon-bonus": " "});
				}
			}
		});
	});

	on("change:knowengineer-ability change:knowengineer-cs change:knowengineer-ranks change:knowengineer-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowengineer-cs", "knowengineer-ranks", "knowengineer-ability", "knowengineer-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowengineer-ranks"]) || 0;
				var misc = parseInt(values["knowengineer-misc"]) || 0;
				var mod = parseInt(values[values["knowengineer-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowengineer-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowengineer-mod":mod,
					"knowengineer-total": total,
					"knowengineer-ranks": ranks,
					"knowengineer-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowengineer-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowengineer-bonus": totalBonus});
				} else {
					setAttrs({"knowengineer-bonus": " "});
				}
			}
		});
	});

	on("change:knowgeography-ability change:knowgeography-cs change:knowgeography-ranks change:knowgeography-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowgeography-cs", "knowgeography-ranks", "knowgeography-ability", "knowgeography-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowgeography-ranks"]) || 0;
				var misc = parseInt(values["knowgeography-misc"]) || 0;
				var mod = parseInt(values[values["knowgeography-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowgeography-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowgeography-mod":mod,
					"knowgeography-total": total,
					"knowgeography-ranks": ranks,
					"knowgeography-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowgeography-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowgeography-bonus": totalBonus});
				} else {
					setAttrs({"knowgeography-bonus": " "});
				}
			}
		});
	});

	on("change:knowhistory-ability change:knowhistory-cs change:knowhistory-ranks change:knowhistory-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowhistory-cs", "knowhistory-ranks", "knowhistory-ability", "knowhistory-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowhistory-ranks"]) || 0;
				var misc = parseInt(values["knowhistory-misc"]) || 0;
				var mod = parseInt(values[values["knowhistory-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowhistory-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowhistory-mod":mod,
					"knowhistory-total": total,
					"knowhistory-ranks": ranks,
					"knowhistory-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowhistory-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowhistory-bonus": totalBonus});
				} else {
					setAttrs({"knowhistory-bonus": " "});
				}
			}
		});
	});

	on("change:knowlocal-ability change:knowlocal-cs change:knowlocal-ranks change:knowlocal-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowlocal-cs", "knowlocal-ranks", "knowlocal-ability", "knowlocal-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowlocal-ranks"]) || 0;
				var misc = parseInt(values["knowlocal-misc"]) || 0;
				var mod = parseInt(values[values["knowlocal-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowlocal-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowlocal-mod":mod,
					"knowlocal-total": total,
					"knowlocal-ranks": ranks,
					"knowlocal-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowlocal-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowlocal-bonus": totalBonus});
				} else {
					setAttrs({"knowlocal-bonus": " "});
				}
			}
		});
	});

	on("change:knownature-ability change:knownature-cs change:knownature-ranks change:knownature-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knownature-cs", "knownature-ranks", "knownature-ability", "knownature-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knownature-ranks"]) || 0;
				var misc = parseInt(values["knownature-misc"]) || 0;
				var mod = parseInt(values[values["knownature-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knownature-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knownature-mod":mod,
					"knownature-total": total,
					"knownature-ranks": ranks,
					"knownature-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knownature-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knownature-bonus": totalBonus});
				} else {
					setAttrs({"knownature-bonus": " "});
				}
			}
		});
	});

	on("change:knownobility-ability change:knownobility-cs change:knownobility-ranks change:knownobility-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knownobility-cs", "knownobility-ranks", "knownobility-ability", "knownobility-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knownobility-ranks"]) || 0;
				var misc = parseInt(values["knownobility-misc"]) || 0;
				var mod = parseInt(values[values["knownobility-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knownobility-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knownobility-mod":mod,
					"knownobility-total": total,
					"knownobility-ranks": ranks,
					"knownobility-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knownobility-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knownobility-bonus": totalBonus});
				} else {
					setAttrs({"knownobility-bonus": " "});
				}
			}
		});
	});

	on("change:knowplanes-ability change:knowplanes-cs change:knowplanes-ranks change:knowplanes-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowplanes-cs", "knowplanes-ranks", "knowplanes-ability", "knowplanes-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowplanes-ranks"]) || 0;
				var misc = parseInt(values["knowplanes-misc"]) || 0;
				var mod = parseInt(values[values["knowplanes-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowplanes-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowplanes-mod":mod,
					"knowplanes-total": total,
					"knowplanes-ranks": ranks,
					"knowplanes-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowplanes-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowplanes-bonus": totalBonus});
				} else {
					setAttrs({"knowplanes-bonus": " "});
				}
			}
		});
	});

	on("change:knowreligion-ability change:knowreligion-cs change:knowreligion-ranks change:knowreligion-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowreligion-cs", "knowreligion-ranks", "knowreligion-ability", "knowreligion-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowreligion-ranks"]) || 0;
				var misc = parseInt(values["knowreligion-misc"]) || 0;
				var mod = parseInt(values[values["knowreligion-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowreligion-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowreligion-mod":mod,
					"knowreligion-total": total,
					"knowreligion-ranks": ranks,
					"knowreligion-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowreligion-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowreligion-bonus": totalBonus});
				} else {
					setAttrs({"knowreligion-bonus": " "});
				}
			}
		});
	});

	on("change:knowtechnology-ability change:knowtechnology-cs change:knowtechnology-ranks change:knowtechnology-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowtechnology-cs", "knowtechnology-ranks", "knowtechnology-ability", "knowtechnology-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowtechnology-ranks"]) || 0;
				var misc = parseInt(values["knowtechnology-misc"]) || 0;
				var mod = parseInt(values[values["knowtechnology-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowtechnology-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowtechnology-mod":mod,
					"knowtechnology-total": total,
					"knowtechnology-ranks": ranks,
					"knowtechnology-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowtechnology-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowtechnology-bonus": totalBonus});
				} else {
					setAttrs({"knowtechnology-bonus": " "});
				}
			}
		});
	});

	on("change:leadership-ability change:leadership-cs change:leadership-ranks change:leadership-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["leadership-cs", "leadership-ranks", "leadership-ability", "leadership-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["leadership-ranks"]) || 0;
				var misc = parseInt(values["leadership-misc"]) || 0;
				var mod = parseInt(values[values["leadership-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["leadership-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"leadership-mod":mod,
					"leadership-total": total,
					"leadership-ranks": ranks,
					"leadership-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"leadership-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"leadership-bonus": totalBonus});
				} else {
					setAttrs({"leadership-bonus": " "});
				}
			}
		});
	});

	on("change:magecraft-ability change:magecraft-cs change:magecraft-ranks change:magecraft-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["magecraft-cs", "magecraft-ranks", "magecraft-ability", "magecraft-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["magecraft-ranks"]) || 0;
				var misc = parseInt(values["magecraft-misc"]) || 0;
				var mod = parseInt(values[values["magecraft-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["magecraft-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"magecraft-mod":mod,
					"magecraft-total": total,
					"magecraft-ranks": ranks,
					"magecraft-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"magecraft-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"magecraft-bonus": totalBonus});
				} else {
					setAttrs({"magecraft-bonus": " "});
				}
			}
		});
	});

	on("change:perception-ability change:perception-cs change:perception-ranks change:perception-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perception-cs", "perception-ranks", "perception-ability", "perception-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perception-ranks"]) || 0;
				var misc = parseInt(values["perception-misc"]) || 0;
				var mod = parseInt(values[values["perception-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perception-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perception-mod":mod,
					"perception-total": total,
					"perception-ranks": ranks,
					"perception-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perception-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perception-bonus": totalBonus});
				} else {
					setAttrs({"perception-bonus": " "});
				}
			}
		});
	});

	on("change:perform1-ability change:perform1-cs change:perform1-ranks change:perform1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perform1-cs", "perform1-ranks", "perform1-ability", "perform1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perform1-ranks"]) || 0;
				var misc = parseInt(values["perform1-misc"]) || 0;
				var mod = parseInt(values[values["perform1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perform1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perform1-mod":mod,
					"perform1-total": total,
					"perform1-ranks": ranks,
					"perform1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perform1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perform1-bonus": totalBonus});
				} else {
					setAttrs({"perform1-bonus": " "});
				}
			}
		});
	});

	on("change:perform2-ability change:perform2-cs change:perform2-ranks change:perform2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perform2-cs", "perform2-ranks", "perform2-ability", "perform2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perform2-ranks"]) || 0;
				var misc = parseInt(values["perform2-misc"]) || 0;
				var mod = parseInt(values[values["perform2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perform2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perform2-mod":mod,
					"perform2-total": total,
					"perform2-ranks": ranks,
					"perform2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perform2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perform2-bonus": totalBonus});
				} else {
					setAttrs({"perform2-bonus": " "});
				}
			}
		});
	});

	on("change:perform3-ability change:perform3-cs change:perform3-ranks change:perform3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perform3-cs", "perform3-ranks", "perform3-ability", "perform3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perform3-ranks"]) || 0;
				var misc = parseInt(values["perform3-misc"]) || 0;
				var mod = parseInt(values[values["perform3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perform3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perform3-mod":mod,
					"perform3-total": total,
					"perform3-ranks": ranks,
					"perform3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perform3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perform3-bonus": totalBonus});
				} else {
					setAttrs({"perform3-bonus": " "});
				}
			}
		});
	});

	on("change:picklock-ability change:picklock-cs change:picklock-ranks change:picklock-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["picklock-cs", "picklock-ranks", "picklock-ability", "picklock-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["picklock-ranks"]) || 0;
				var misc = parseInt(values["picklock-misc"]) || 0;
				var mod = parseInt(values[values["picklock-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["picklock-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"picklock-mod":mod,
					"picklock-total": total,
					"picklock-ranks": ranks,
					"picklock-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"picklock-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"picklock-bonus": totalBonus});
				} else {
					setAttrs({"picklock-bonus": " "});
				}
			}
		});
	});
	
	on("change:search-ability change:search-cs change:search-ranks change:search-misc change:search-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["search-cs", "search-ranks", "search-ability", "search-misc", "search-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["search-ranks"]) || 0;
				var misc = parseInt(values["search-misc"]) || 0;
				var mod = parseInt(values[values["search-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["search-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["search-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"search-mod":mod,
					"search-total": total,
					"search-ranks": ranks,
					"search-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"search-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"search-bonus": totalBonus});
				} else {
					setAttrs({"search-bonus": " "});
				}
			}
		});
	});

	on("change:prof1-ability change:prof1-cs change:prof1-ranks change:prof1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["prof1-cs", "prof1-ranks", "prof1-ability", "prof1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["prof1-ranks"]) || 0;
				var misc = parseInt(values["prof1-misc"]) || 0;
				var mod = parseInt(values[values["prof1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["prof1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"prof1-mod":mod,
					"prof1-total": total,
					"prof1-ranks": ranks,
					"prof1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"prof1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"prof1-bonus": totalBonus});
				} else {
					setAttrs({"prof1-bonus": " "});
				}
			}
		});
	});

	on("change:prof2-ability change:prof2-cs change:prof2-ranks change:prof2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["prof2-cs", "prof2-ranks", "prof2-ability", "prof2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["prof2-ranks"]) || 0;
				var misc = parseInt(values["prof2-misc"]) || 0;
				var mod = parseInt(values[values["prof2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["prof2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"prof2-mod":mod,
					"prof2-total": total,
					"prof2-ranks": ranks,
					"prof2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"prof2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"prof2-bonus": totalBonus});
				} else {
					setAttrs({"prof2-bonus": " "});
				}
			}
		});
	});

	on("change:prof3-ability change:prof3-cs change:prof3-ranks change:prof3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["prof3-cs", "prof3-ranks", "prof3-ability", "prof3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["prof3-ranks"]) || 0;
				var misc = parseInt(values["prof3-misc"]) || 0;
				var mod = parseInt(values[values["prof3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["prof3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"prof3-mod":mod,
					"prof3-total": total,
					"prof3-ranks": ranks,
					"prof3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"prof3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"prof3-bonus": totalBonus});
				} else {
					setAttrs({"prof3-bonus": " "});
				}
			}
		});
	});
	
	on("change:meleeweapons1-ability change:meleeweapons1-cs change:meleeweapons1-ranks change:meleeweapons1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["meleeweapons1-cs", "meleeweapons1-ranks", "meleeweapons1-ability", "meleeweapons1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["meleeweapons1-ranks"]) || 0;
				var misc = parseInt(values["meleeweapons1-misc"]) || 0;
				var mod = parseInt(values[values["meleeweapons1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["meleeweapons1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"meleeweapons1-mod":mod,
					"meleeweapons1-total": total,
					"meleeweapson1-ranks": ranks,
					"meleeweapons1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"meleeweapons1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"meleeweapons1-bonus": totalBonus});
				} else {
					setAttrs({"meleeweapons1-bonus": " "});
				}
			}
		});
	});

	on("change:meleeweapons2-ability change:meleeweapons2-cs change:meleeweapons2-ranks change:meleeweapons2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["meleeweapons2-cs", "meleeweapons2-ranks", "meleeweapons2-ability", "meleeweapons2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["meleeweapons2-ranks"]) || 0;
				var misc = parseInt(values["meleeweapons2-misc"]) || 0;
				var mod = parseInt(values[values["meleeweapons2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["meleeweapons2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"meleeweapons2-mod":mod,
					"meleeweapons2-total": total,
					"meleeweapson2-ranks": ranks,
					"meleeweapons2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"meleeweapons2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"meleeweapons2-bonus": totalBonus});
				} else {
					setAttrs({"meleeweapons2-bonus": " "});
				}
			}
		});
	});
	

	on("change:meleeweapons3-ability change:meleeweapons3-cs change:meleeweapons3-ranks change:meleeweapons3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["meleeweapons3-cs", "meleeweapons3-ranks", "meleeweapons3-ability", "meleeweapons3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["meleeweapons3-ranks"]) || 0;
				var misc = parseInt(values["meleeweapons3-misc"]) || 0;
				var mod = parseInt(values[values["meleeweapons3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["meleeweapons3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"meleeweapons3-mod":mod,
					"meleeweapons3-total": total,
					"meleeweapson3-ranks": ranks,
					"meleeweapons3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"meleeweapons3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"meleeweapons3-bonus": totalBonus});
				} else {
					setAttrs({"meleeweapons3-bonus": " "});
				}
			}
		});
	});

	on("change:rangedweapons1-ability change:rangedweapons1-cs change:rangedweapons1-ranks change:rangedweapons1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["rangedweapons1-cs", "rangedweapons1-ranks", "rangedweapons1-ability", "rangedweapons1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["rangedweapons1-ranks"]) || 0;
				var misc = parseInt(values["rangedweapons1-misc"]) || 0;
				var mod = parseInt(values[values["rangedweapons1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["rangedweapons1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"rangedweapons1-mod":mod,
					"rangedweapons1-total": total,
					"rangedweapons1-ranks": ranks,
					"rangedweapons1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"rangedweapons1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"rangedweapons1-bonus": totalBonus});
				} else {
					setAttrs({"rangedweapons1-bonus": " "});
				}
			}
		});
	});


	on("change:rangedweapons2-ability change:rangedweapons2-cs change:rangedweapons2-ranks change:rangedweapons2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["rangedweapons2-cs", "rangedweapons2-ranks", "rangedweapons2-ability", "rangedweapons2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["rangedweapons2-ranks"]) || 0;
				var misc = parseInt(values["rangedweapons2-misc"]) || 0;
				var mod = parseInt(values[values["rangedweapons2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["rangedweapons2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"rangedweapons2-mod":mod,
					"rangedweapons2-total": total,
					"rangedweapons2-ranks": ranks,
					"rangedweapons2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"rangedweapons2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"rangedweapons2-bonus": totalBonus});
				} else {
					setAttrs({"rangedweapons2-bonus": " "});
				}
			}
		});
	});
	

	on("change:rangedweapons3-ability change:rangedweapons3-cs change:rangedweapons3-ranks change:rangedweapons3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["rangedweapons3-cs", "rangedweapons3-ranks", "rangedweapons3-ability", "rangedweapons3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["rangedweapons3-ranks"]) || 0;
				var misc = parseInt(values["rangedweapons3-misc"]) || 0;
				var mod = parseInt(values[values["rangedweapons3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["rangedweapons3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"rangedweapons3-mod":mod,
					"rangedweapons3-total": total,
					"rangedweapons3-ranks": ranks,
					"rangedweapons3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"rangedweapons3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"rangedweapons3-bonus": totalBonus});
				} else {
					setAttrs({"rangedweapons3-bonus": " "});
				}
			}
		});
	});
	
	on("change:thrownweapons1-ability change:thrownweapons1-cs change:thrownweapons1-ranks change:thrownweapons1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["thrownweapons1-cs", "thrownweapons1-ranks", "thrownweapons1-ability", "thrownweapons1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["thrownweapons1-ranks"]) || 0;
				var misc = parseInt(values["thrownweapons1-misc"]) || 0;
				var mod = parseInt(values[values["thrownweapons1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["thrownweapons1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"thrownweapons1-mod":mod,
					"thrownweapons1-total": total,
					"thrownweapson1-ranks": ranks,
					"thrownweapons1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"thrownweapons1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"thrownweapons1-bonus": totalBonus});
				} else {
					setAttrs({"thrownweapons1-bonus": " "});
				}
			}
		});
	});


	on("change:thrownweapons2-ability change:thrownweapons2-cs change:thrownweapons2-ranks change:thrownweapons2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["thrownweapons2-cs", "thrownweapons2-ranks", "thrownweapons2-ability", "thrownweapons2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["thrownweapons2-ranks"]) || 0;
				var misc = parseInt(values["thrownweapons2-misc"]) || 0;
				var mod = parseInt(values[values["thrownweapons2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["thrownweapons2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"thrownweapons2-mod":mod,
					"thrownweapons2-total": total,
					"thrownweapons2-ranks": ranks,
					"thrownweapons2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"thrownweapons2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"thrownweapons2-bonus": totalBonus});
				} else {
					setAttrs({"thrownweapons2-bonus": " "});
				}
			}
		});
	});
	

	on("change:thrownweapons3-ability change:thrownweapons3-cs change:thrownweapons3-ranks change:thrownweapons3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["thrownweapons3-cs", "thrownweapons3-ranks", "thrownweapons3-ability", "thrownweapons3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["thrownweapons3-ranks"]) || 0;
				var misc = parseInt(values["thrownweapons3-misc"]) || 0;
				var mod = parseInt(values[values["thrownweapons3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["thrownweapons3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"thrownweapons3-mod":mod,
					"thrownweapons3-total": total,
					"thrownweapons3-ranks": ranks,
					"thrownweapons3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"thrownweapons3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"thrownweapons3-bonus": totalBonus});
				} else {
					setAttrs({"thrownweapons3-bonus": " "});
				}
			}
		});
	});
	
	on("change:ride-ability change:ride-cs change:ride-ranks change:ride-misc change:ride-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["ride-cs", "ride-ranks", "ride-ability", "ride-misc", "ride-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["ride-ranks"]) || 0;
				var misc = parseInt(values["ride-misc"]) || 0;
				var mod = parseInt(values[values["ride-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["ride-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["ride-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"ride-mod":mod,
					"ride-total": total,
					"ride-ranks": ranks,
					"ride-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"ride-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"ride-bonus": totalBonus});
				} else {
					setAttrs({"ride-bonus": " "});
				}
			}
		});
	});

	on("change:sensemotive-ability change:sensemotive-cs change:sensemotive-ranks change:sensemotive-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["sensemotive-cs", "sensemotive-ranks", "sensemotive-ability", "sensemotive-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["sensemotive-ranks"]) || 0;
				var misc = parseInt(values["sensemotive-misc"]) || 0;
				var mod = parseInt(values[values["sensemotive-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["sensemotive-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"sensemotive-mod":mod,
					"sensemotive-total": total,
					"sensemotive-ranks": ranks,
					"sensemotive-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"sensemotive-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"sensemotive-bonus": totalBonus});
				} else {
					setAttrs({"sensemotive-bonus": " "});
				}
			}
		});
	});

	on("change:sleightofhand-ability change:sleightofhand-cs change:sleightofhand-ranks change:sleightofhand-misc change:sleightofhand-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["sleightofhand-cs", "sleightofhand-ranks", "sleightofhand-ability", "sleightofhand-misc", "sleightofhand-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["sleightofhand-ranks"]) || 0;
				var misc = parseInt(values["sleightofhand-misc"]) || 0;
				var mod = parseInt(values[values["sleightofhand-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["sleightofhand-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["sleightofhand-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"sleightofhand-mod":mod,
					"sleightofhand-total": total,
					"sleightofhand-ranks": ranks,
					"sleightofhand-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"sleightofhand-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"sleightofhand-bonus": totalBonus});
				} else {
					setAttrs({"sleightofhand-bonus": " "});
				}
			}
		});
	});

	on("change:shamanism-ability change:shamanism-cs change:shamanism-ranks change:shamanism-misc change:shamanism-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["shamanism-cs", "shamanism-ranks", "shamanism-ability", "shamanism-misc", "shamanism-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["shamanism-ranks"]) || 0;
				var misc = parseInt(values["shamanism-misc"]) || 0;
				var mod = parseInt(values[values["shamanism-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["shamanism-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["shamanism-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"shamanism-mod":mod,
					"shamanism-total": total,
					"shamanism-ranks": ranks,
					"shamanism-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"shamanism-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"shamanism-bonus": totalBonus});
				} else {
					setAttrs({"shamanism-bonus": " "});
				}
			}
		});
	});
	
	on("change:sorcery-ability change:sorcery-cs change:sorcery-ranks change:sorcery-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wil-mod change:cha-mod", function() {
		getAttrs(["sorcery-cs", "sorcery-ranks", "sorcery-ability", "sorcery-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wil-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["sorcery-ranks"]) || 0;
				var misc = parseInt(values["sorcery-misc"]) || 0;
				var mod = parseInt(values[values["sorcery-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["sorcery-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"sorcery-mod":mod,
					"sorcery-total": total,
					"sorcery-ranks": ranks,
					"sorcery-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"sorcery-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"sorcery-bonus": totalBonus});
				} else {
					setAttrs({"sorcery-bonus": " "});
				}
			}
		});
	});

	on("change:stealth-ability change:stealth-cs change:stealth-ranks change:stealth-misc change:stealth-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty change:size-mod-skill", function() {
		getAttrs(["stealth-cs", "stealth-ranks", "stealth-ability", "stealth-misc", "stealth-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type", "size-mod-skill"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["stealth-ranks"]) || 0;
				var misc = parseInt(values["stealth-misc"]) || 0;
				var mod = parseInt(values[values["stealth-ability"]]) || 0;
				var size = parseInt(values["size-mod-skill"]) || 0;
				var total = 0, totalBonus = size * 4;

				if (values["stealth-cs"] == "trained" && ranks >= 1) {
					totalBonus += 3;
				}

				total = totalBonus + ranks + misc + mod;

				if (values["stealth-acp"] == "acp") {
					total = total - parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				if (total < 1) {
					total = 1
				}
				
				setAttrs({
					"stealth-mod": mod,
					"stealth-total": total,
					"stealth-ranks": ranks,
					"stealth-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"stealth-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"stealth-bonus": totalBonus});
				} else {
					setAttrs({"stealth-bonus": " "});
				}
			}
		});
	});

	on("change:survival-ability change:survival-cs change:survival-ranks change:survival-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["survival-cs", "survival-ranks", "survival-ability", "survival-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["survival-ranks"]) || 0;
				var misc = parseInt(values["survival-misc"]) || 0;
				var mod = parseInt(values[values["survival-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["survival-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"survival-mod":mod,
					"survival-total": total,
					"survival-ranks": ranks,
					"survival-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"survival-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"survival-bonus": totalBonus});
				} else {
					setAttrs({"survival-bonus": " "});
				}
			}
		});
	});

	on("change:swim-ability change:swim-cs change:swim-ranks change:swim-misc change:swim-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["swim-cs", "swim-ranks", "swim-ability", "swim-misc", "swim-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["swim-ranks"]) || 0;
				var misc = parseInt(values["swim-misc"]) || 0;
				var mod = parseInt(values[values["swim-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["swim-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["swim-acp"] == "acp") {
					total = total - parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				if (total < 1) {
					total = 1
				}
				
				setAttrs({
					"swim-mod":mod,
					"swim-total": total,
					"swim-ranks": ranks,
					"swim-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"swim-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"swim-bonus": totalBonus});
				} else {
					setAttrs({"swim-bonus": " "});
				}
			}
		});
	});

	on("change:unarmedcombat1-ability change:unarmedcombat1-cs change:unarmedcombat1-ranks change:unarmedcombat1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["unarmedcombat1-cs", "unarmedcombat1-ranks", "unarmedcombat1-ability", "unarmedcombat1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["unarmedcombat1-ranks"]) || 0;
				var misc = parseInt(values["unarmedcombat1-misc"]) || 0;
				var mod = parseInt(values[values["unarmedcombat1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["unarmedcombat1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"unarmedcombat1-mod":mod,
					"unarmedcombat1-total": total,
					"unarmedcombat1-ranks": ranks,
					"unarmedcombat1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"unarmedcombat1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"unarmedcombat1-bonus": totalBonus});
				} else {
					setAttrs({"unarmedcombat1-bonus": " "});
				}
			}
		});
	});

		on("change:unarmedcombat2-ability change:unarmedcombat2-cs change:unarmedcombat2-ranks change:unarmedcombat2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["unarmedcombat2-cs", "unarmedcombat2-ranks", "unarmedcombat2-ability", "unarmedcombat2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["unarmedcombat2-ranks"]) || 0;
				var misc = parseInt(values["unarmedcombat2-misc"]) || 0;
				var mod = parseInt(values[values["unarmedcombat2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["unarmedcombat2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"unarmedcombat2-mod":mod,
					"unarmedcombat2-total": total,
					"unarmedcombat2-ranks": ranks,
					"unarmedcombat2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"unarmedcombat2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"unarmedcombat2-bonus": totalBonus});
				} else {
					setAttrs({"unarmedcombat2-bonus": " "});
				}
			}
		});
	});
	
		on("change:unarmedcombat3-ability change:unarmedcombat3-cs change:unarmedcombat3-ranks change:unarmedcombat3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["unarmedcombat3-cs", "unarmedcombat3-ranks", "unarmedcombat3-ability", "unarmedcombat3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["unarmedcombat3-ranks"]) || 0;
				var misc = parseInt(values["unarmedcombat3-misc"]) || 0;
				var mod = parseInt(values[values["unarmedcombat3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["unarmedcombat3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"unarmedcombat3-mod":mod,
					"unarmedcombat3-total": total,
					"unarmedcombat3-ranks": ranks,
					"unarmedcombat3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"unarmedcombat3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"unarmedcombat3-bonus": totalBonus});
				} else {
					setAttrs({"unarmedcombat3-bonus": " "});
				}
			}
		});
	});
	
	on("change:repeating_spells-0 remove:repeating_spells-0", function() {
		getSectionIDs("repeating_spells-0", function(idArray) {
			setAttrs({
				"spells-amount-0": idArray.length,
				"spells-amount-show-0": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-1 remove:repeating_spells-1", function() {
		getSectionIDs("repeating_spells-1", function(idArray) {
			setAttrs({
				"spells-amount-1": idArray.length,
				"spells-amount-show-1": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-2 remove:repeating_spells-2", function() {
		getSectionIDs("repeating_spells-2", function(idArray) {
			setAttrs({
				"spells-amount-2": idArray.length,
				"spells-amount-show-2": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-3 remove:repeating_spells-3", function() {
		getSectionIDs("repeating_spells-3", function(idArray) {
			setAttrs({
				"spells-amount-3": idArray.length,
				"spells-amount-show-3": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-4 remove:repeating_spells-4", function() {
		getSectionIDs("repeating_spells-4", function(idArray) {
			setAttrs({
				"spells-amount-4": idArray.length,
				"spells-amount-show-4": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-5 remove:repeating_spells-5", function() {
		getSectionIDs("repeating_spells-5", function(idArray) {
			setAttrs({
				"spells-amount-5": idArray.length,
				"spells-amount-show-5": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-6 remove:repeating_spells-6", function() {
		getSectionIDs("repeating_spells-6", function(idArray) {
			setAttrs({
				"spells-amount-6": idArray.length,
				"spells-amount-show-6": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-7 remove:repeating_spells-7", function() {
		getSectionIDs("repeating_spells-7", function(idArray) {
			setAttrs({
				"spells-amount-7": idArray.length,
				"spells-amount-show-7": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-8 remove:repeating_spells-8", function() {
		getSectionIDs("repeating_spells-8", function(idArray) {
			setAttrs({
				"spells-amount-8": idArray.length,
				"spells-amount-show-8": idArray.length + " abilities"
			});
		});
	});

	on("change:repeating_spells-9 remove:repeating_spells-9", function() {
		getSectionIDs("repeating_spells-9", function(idArray) {
			setAttrs({
				"spells-amount-9": idArray.length,
				"spells-amount-show-9": idArray.length + " abilities"
			});
		});
	});

	on("change:cr", function() {
		getAttrs(["cr", "xp-rewarded"], function(values) {
			var cr = values["cr"];
			var xpTable = ["0", "400", "600", "800", "1,200", "1,600", "2,400", "3,200", "4,800", "6,400", "9,600", "12,800", "19,200", "25,600", "38,400", "51,200", "76,800", "102,400", "153,600", "204,800", "307,200", "409,600", "614,400", "819,200", "1,228,800", "1,638,400", "2,457,600", "3,276,800", "4,915,200", "6,553,600", "9,830,400"];
			var xpRewarded = xpTable[cr] || xpTableFraction(cr);

			setAttrs({
				"cr": cr,
				"xp-rewarded": xpRewarded
			});

			function xpTableFraction(cr) {
				switch (cr) {
					case "1/8": return 50;
					case "1/6": return 65;
					case "1/4": return 100;
					case "0.25": return 100;
					case "1/3": return 135;
					case "1/2": return 200;
					case "0.5": return 200;
					default: return "N/A";
				}
			}
		});
	});

	on("change:repeating_special:special-attack-type", function() {
		getAttrs(["repeating_special_special-attack-type", "str-mod", "dex-mod", "size-mod-atk", "total-bab"], function(values) {
		   var attackType = values[Object.keys(values)[0]];
		   var strMod = parseInt(values["str-mod"]) || 0;
		   var dexMod = parseInt(values["dex-mod"]) || 0;
		   var sizeMod = parseInt(values["size-mod-atk"]) || 0;
		   var bab = parseInt(values["total-bab"]) || 0;
		   var attackMod;

		   switch (attackType) {
			   case "ranged": attackBonus = dexMod + sizeMod + bab; break;
			   case "touch": attackBonus = strMod + sizeMod + bab; break;
			   default: attackBonus = 0;
		   }

		   setAttrs({"repeating_special_special-attack-mod": attackBonus});
		});
	});

	on("change:core-tab", function() {
	   getAttrs(["core-tab"], function(values) {
		   setAttrs({"ctrl-core-tab": values["core-tab"] });
	   });
	});

	on("clicked:resetColors", x=>{
		setAttrs({
			redOne:32,
			redTwo:0,
			redThree:0,
			redFour:0,
			greenOne:32,
			greenTwo:0,
			greenThree:0,
			greenFour:0,
			blueOne:224,
			blueTwo:192,
			blueThree:160,
			blueFour:0,
		})
	})

	on("change:gmtoggle", x=>{
		var set={gmroll:""}
		if(x.newValue=="on"){
			set.gmroll = "/w gm"
		}
		setAttrs(set);
	})

</script>

<!-- custom sheet colors-->
<input type="hidden" class="sheet-options-color" name="attr_options_color" value="0" />
<input type="hidden" class="sheet-stats-color" name="attr_stats_color" value="0" />
<input type="hidden" class="sheet-rolls-color" name="attr_rolls_color" value="0" />
<input type="hidden" class="sheet-abilities-color" name="attr_abilities_color" value="0" />
<input type="hidden" class="sheet-skills-color" name="attr_skills_color" value="0" />
<input type="hidden" class="sheet-benefits-color" name="attr_benefits_color" value="0" />
<input type="hidden" class="sheet-items-color" name="attr_items_color" value="0" />
<input type="hidden" class="sheet-xp-color" name="attr_xp_color" value="0" />
<input type="hidden" class="sheet-notes-color" name="attr_notes_color" value="0" />
<input type="hidden" class="sheet-stats-border" name="attr_stats_border" value="0" />
<input type="hidden" class="sheet-rolls-border" name="attr_rolls_border" value="0" />
<input type="hidden" class="sheet-abilities-border" name="attr_abilities_border" value="0" />
<input type="hidden" class="sheet-skills-border" name="attr_skills_border" value="0" />
<input type="hidden" class="sheet-benefits-border" name="attr_benefits_border" value="0" />
<input type="hidden" class="sheet-items-border" name="attr_items_border" value="0" />
<input type="hidden" class="sheet-xp-border" name="attr_xp_border" value="0" />
<input type="hidden" class="sheet-notes-border" name="attr_notes_border" value="0" />
<input type="hidden" class="sheet-options-text" name="attr_options_text" value="0" />
<input type="hidden" class="sheet-stats-text" name="attr_stats_text" value="0" />
<input type="hidden" class="sheet-rolls-text" name="attr_rolls_text" value="0" />
<input type="hidden" class="sheet-abilities-text" name="attr_abilities_text" value="0" />
<input type="hidden" class="sheet-skills-text" name="attr_skills_text" value="0" />
<input type="hidden" class="sheet-benefits-text" name="attr_benefits_text" value="0" />
<input type="hidden" class="sheet-items-text" name="attr_items_text" value="0" />
<input type="hidden" class="sheet-xp-text" name="attr_xp_text" value="0" />
<input type="hidden" class="sheet-notes-text" name="attr_notes_text" value="0" />

<div class="sheet-wrapper">
	<div class="sheet-options-loc" style="z-index: 6;"><input type="checkbox" class="sheet-options sheet-button-options" name="attr_options-sheet" value="open" title="Sheet options"><span style="color: black; text-shadow: none;"></span></div>
	<input type="checkbox" class="sheet-controller sheet-options" name="attr_options-sheet" value="open">
	<div class="sheet-options-area sheet-custom-color sheet-options-text" style="z-index: 5; border: 1px solid black; border-radius: 5px; height: auto; padding-bottom: 5px;">
		<div class="sheet-box-title">SHEET OPTIONS</div>
		<div class="sheet-box-content">
			<div class="sheet-options-section" style="float: left; width: 150px;">
				<div class="sheet-box-title">HIDE TABS</div>
				<div class="sheet-box-content">
					<ul class="sheet-unstyled">
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-core-hidden">Stats</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-combat-hidden">Rolls</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-spells-hidden">Abilities</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-skills-hidden">Skills</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-feats-hidden">Benefits</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-items-hidden">Items</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-class-hidden">XP</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-notes-hidden">Notes</li>
					</ul>
					<ul class="sheet-unstyled">
						<li class="sheet-label-left" style="font-weight: bold;">Click to whisper rolls</li>
						<li><input type="checkbox" style="margin-right: 5px;" name="attr_gmtoggle" title="All rolls will be whispered to the GM if this is toggled (@{gmtoggle})">GM Roll</li>
					</ul>
					<div style="position: absolute; right: 0; bottom: 0; padding: 5px; font-style: italic; font-size: 80%;">
						v1.6.2 (7/11/2021) -- Original Sheet created by Azurift (Azurift88@gmail.com); Modifided for BnS by DanielGooch
					</div>
				</div>
			</div>

			<div class="sheet-options-section" style="float: left; width: 200px;">
			<ul class="sheet-box-content">
				<div class="sheet-box-title">BG COLOR OPTIONS</div>
				<div class="Sheet-box-content">
				<table>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Options:</td>
						<td style="width: 100px;">
							<select name="attr_options_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Stats:</td>
						<td style="width: 100px;">
							<select name="attr_stats_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Rolls:</td>
						<td style="width: 100px;">
							<select name="attr_rolls_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Abilities:</td>
						<td style="width: 100px;">
							<select name="attr_abilities_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Skills:</td>
						<td style="width: 100px;">
							<select name="attr_skills_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Benefits:</td>
						<td style="width: 100px;">
							<select name="attr_benefits_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Items:</td>
						<td style="width: 100px;">
							<select name="attr_items_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">XP:</td>
						<td style="width: 100px;">
							<select name="attr_xp_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Notes:</td>
						<td style="width: 100px;">
							<select name="attr_notes_color" style="max-width: fit-content;">
								<option value="1" >Paia</option>
								<option value="2">Destiny</option>
								<option value="3">Fire</option>
								<option value="4">Adept</option>
								<option value="5">Channeling</option>
								<option value="6">Magecraft</option>
								<option value="7">Shamanism</option>
								<option value="8">Sorcery</option>
								<option value="9">Jackburble</option>
								<option value="10">Colorblind</option>
								<option value="11">Storm</option>
							</select>
						</td>
					</tr>
				</div>
			</ul>
			</div>
			<div class="sheet-options-section" style="float: left; width: 200px;">
			<ul class="sheet-box-content">
				<div class="sheet-box-title">BORDER COLOR</div>
				<div class="Sheet-box-content">
				<table>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Stats:</td>
						<td style="width: 130px;">
							<select name="attr_stats_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Rolls:</td>
						<td style="width: 130px;">
							<select name="attr_rolls_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Abilities:</td>
						<td style="width: 130px;">
							<select name="attr_abilities_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Skills:</td>
						<td style="width: 130px;">
							<select name="attr_skills_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Benefits:</td>
						<td style="width: 130px;">
							<select name="attr_benefits_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Items:</td>
						<td style="width: 130px;">
							<select name="attr_items_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">XP:</td>
						<td style="width: 130px;">
							<select name="attr_xp_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Notes:</td>
						<td style="width: 130px;">
							<select name="attr_notes_border" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
				</div>
			</ul>
			</div>
						<div class="sheet-options-section" style="float: left; width: 200px;">
			<ul class="sheet-box-content">
				<div class="sheet-box-title">TEXT COLOR</div>
				<div class="Sheet-box-content">
				<table>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Options:</td>
						<td style="width: 100px;">
							<select name="attr_options_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Stats:</td>
						<td style="width: 130px;">
							<select name="attr_stats_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Rolls:</td>
						<td style="width: 130px;">
							<select name="attr_rolls_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Abilities:</td>
						<td style="width: 130px;">
							<select name="attr_abilities_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Skills:</td>
						<td style="width: 130px;">
							<select name="attr_skills_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Benefits:</td>
						<td style="width: 130px;">
							<select name="attr_benefits_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Items:</td>
						<td style="width: 130px;">
							<select name="attr_items_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">XP:</td>
						<td style="width: 130px;">
							<select name="attr_xp_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Notes:</td>
						<td style="width: 130px;">
							<select name="attr_notes_text" style="max-width: fit-content;">
								<option value="1" >Navy</option>
								<option value="2">Blue</option>
								<option value="3">Aqua</option>
								<option value="4">Teal</option>
								<option value="5">Purple</option>
								<option value="6">Brown</option>
								<option value="7">Maroon</option>
								<option value="8">Red</option>
								<option value="9">Orange</option>
								<option value="10">Amber</option>
								<option value="11">Olive</option>
								<option value="12">Green</option>
								<option value="13">Lime</option>
								<option value="14"selected>Black</option>
								<option value="15">Gray</option>
								<option value="16">Silver</option>
								<option value="17">White</option>
							</select>
						</td>
					</tr>
				</div>
			</ul>
			</div>
			<div class="colorGroup">

			</div>
			<div style="clear: both;"></div>
		</div>
	</div>
	<div class="sheet-header">
		<div class="sheet-info-section" style="float: left; width: 60%; text-align: left; color: black;">
			<table>
				<tr>
					<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Name:</td>
					<td><input title="Character name" type="text" name="attr_character_name" style="font-family: " Tahoma", "Arial" ;text-align: left;"></td>
					<td class= "sheet-label-top" style="width: 65px;  text-shadow: none; text-align: left;">Sheet Type:</td>
					<td style="width: 130px;">
						<select name="attr_character_sheet_type">
							<option value="Character" selected>Character</option>
							<option value="Monster">Monster</option>
						</select>
					</td>
				</tr>
				<tr>
					<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;"><span name="attr_character_race_type">Race:</span></td>
					<td style="width: 150px;">    
						<select name="attr_race">
                                    <option value="human">Human</option>
                                    <option value="highelf">HighElf</option>
									<option value="wildelf">WildElf</option>
									<option value="woodelf">WoodElf</option>
                                    <option value="svaald">Svaald</option>
                                    <option value="faerie">Faerie</option>
                                    <option value="troll">Troll</option>
									<option value="feran">Feran</option>
									<option value="feran">Elari</option>
									<option value="feran">Lichborne</option>
									<option value="mixed">Mixed</option>
                        </select>
					<td class="sheet-label-top" style="width: 70px;  text-shadow: none; text-align: left;">Source1:</td>
					<td style="width: 120px;">
						<select name="attr_source1">
                                    <option value="adept">Adept</option>
                                    <option value="magecraft">Magecraft</option>
									<option value="shamanism">Shamanism</option>
									<option value="channelling">Channeling</option>
                                    <option value="sorcery">Sorcery</option>
                                </select>
					</td>
				</tr>
				<tr>
					<td class="sheet-label-left" style="width: 70px;  text-shadow: none; text-align: left;">Age:</td>
					<td><input type="text" name="attr_character_age" style="font-family: " Tahoma", "Arial" ;"></td>
					<td class="sheet-label-top" style="width: 70px;  text-shadow: none; text-align: left;">Source2:</td>
					<td style="width: 120px;">
						<select name="attr_source2">
                                    <option value="None" selected>None</option>
									<option value="adept">Adept</option>
                                    <option value="magecraft">Magecraft</option>
									<option value="shamanism">Shamanism</option>
									<option value="channelling">Channeling</option>
                                    <option value="sorcery">Sorcery</option>
                        </select>
					</td>
				</tr>
			</table>
		</div>
		<div class="sheet-logo-section" style="float: right; width: 40%; display:table-cell; vertical-align:middle; text-align: center;">
			<img src="http://www.brillianceandshadow.com/mwiki/images/4/4b/Wikilogo.png" height="150" width="300">
		</div>
		<div style="clear: both;"></div>
	</div>

	<input type="radio" class="sheet-type-character" name="attr_sheet-type" style="display: none;" value="character" checked>
	<input type="radio" class="sheet-type-monster" name="attr_sheet-type" style="display: none;" value="monster">

	<div class="sheet-character">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-core-hidden" name="attr_ctrl-core-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-combat-hidden" name="attr_ctrl-combat-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-class-hidden" name="attr_ctrl-class-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-skills-hidden" name="attr_ctrl-skills-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-feats-hidden" name="attr_ctrl-feats-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-items-hidden" name="attr_ctrl-items-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-materia-hidden" name="attr_ctrl-materia-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-spells-hidden" name="attr_ctrl-spells-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-notes-hidden" name="attr_ctrl-notes-hidden">
		<input type="radio" class="sheet-controller sheet-core" name="attr_ctrl-core-tab" value="1" title="Stats"checked>
		<input type="radio" class="sheet-controller sheet-combat" name="attr_ctrl-core-tab" value="2" title="Rolls">
		<input type="radio" class="sheet-controller sheet-spells" name="attr_ctrl-core-tab" value="3" title="Abilities">
		<input type="radio" class="sheet-controller sheet-skills" name="attr_ctrl-core-tab" value="4" title="Skills">
		<input type="radio" class="sheet-controller sheet-feats" name="attr_ctrl-core-tab" value="5" title="Benefits">
		<input type="radio" class="sheet-controller sheet-items" name="attr_ctrl-core-tab" value="6" title="Items">
		<input type="radio" class="sheet-controller sheet-class" name="attr_ctrl-core-tab" value="7" title="Class" >
		<input type="radio" class="sheet-controller sheet-notes" name="attr_ctrl-core-tab" value="8" title="Notes">
		<input type="hidden" name="attr_gmroll" value="">
		<ul class="sheet-tab-menu">
			<li class="sheet-core"><input type="radio" name="attr_core-tab" value="1" title="Main">STATS</li>
			<li class="sheet-combat"><input type="radio" name="attr_core-tab" value="2" title="Main">ROLLS</li>
			<li class="sheet-spells"><input type="radio" name="attr_core-tab" value="3" title="Spells">ABILITIES</li>
			<li class="sheet-skills"><input type="radio" name="attr_core-tab" value="4" title="Skills">SKILLS</li>
			<li class="sheet-feats"><input type="radio" name="attr_core-tab" value="5" title="Feats">BENEFITS</li>
			<li class="sheet-items"><input type="radio" name="attr_core-tab" value="6" title="Items">ITEMS</li>
			<li class="sheet-class"><input type="radio" name="attr_core-tab" value="7" title="Class">XP</li>
			<li class="sheet-notes"><input type="radio" name="attr_core-tab" value="8" title="Notes">NOTES</li>
		</ul>
		<div class="sheet-section-core">
			<div class="sheet-background sheet-stats-color sheet-stats-text">
				<div class="sheet-box-outer" style="width: 45%; height: 275px; float: left; border-right: none; border-bottom: none;">
					<div class="sheet-box-middle sheet-stats-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">PRIMARY STATISTICS</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 50px;">STATISTIC</td>
										<td style="width: 50px;"></td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">Base</td>
										<td class="sheet-label-top">Enhance</td>
										<td class="sheet-label-top">Misc</td>
										<td class="sheet-label-top">Temp</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button sheet-stats-text" title="Strength check roll [strengthD10]" type="roll" name="roll_STR-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Strength Check}} {{result=[[[[{@{str-mod} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}}"></button></td>
										<td class="sheet-label-left">STRENGTH</td>
										<td style="width: 50px;"></td>
										<td><input class="sheet-total" title="@{STR}" type="number" name="attr_STR" value="@{STR}" readonly></td>
										<td><input title="@{STR-base}" type="number" name="attr_STR-base" value=0></td>
										<td><input title="@{STR-enhance}" type="number" name="attr_STR-enhance" value=0></td>
										<td><input title="@{STR-misc}" type="number" name="attr_STR-misc" value=0></td>
										<td><input title="@{STR-temp}" type="number" name="attr_STR-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button sheet-stats-text" title="Dexterity check roll [dexterityD10]" type="roll" name="roll_DEX-Check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Dexterity Check}} {{result=[[[[{@{dex-mod} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}}"></button></td>
										<td class="sheet-label-left">DEXTERITY</td>
										<td style="width: 50px;"></td>
										<td><input class="sheet-total" title="@{DEX}" type="number" name="attr_DEX" value="@{DEX}" readonly></td>
										<td><input title="@{DEX-base}" type="number" name="attr_DEX-base" value=0></td>
										<td><input title="@{DEX-enhance}" type="number" name="attr_DEX-enhance" value=0></td>
										<td><input title="@{DEX-misc}" type="number" name="attr_DEX-misc" value=0></td>
										<td><input title="@{DEX-temp}" type="number" name="attr_DEX-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button sheet-stats-text" title="Constitution check roll [1d20 + constitution modifier]" type="roll" name="roll_CON-Check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Constitution Check}} {{result=[[[[{@{con-mod} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}}"></button></td>
										<td class="sheet-label-left">CONSTITUTION</td>
										<td style="width: 50px;"></td>
										<td><input class="sheet-total" title="@{CON}" type="number" name="attr_CON" value="@{CON}" readonly></td>
										<td><input title="@{CON-base}" type="number" name="attr_CON-base" value=0></td>
										<td><input title="@{CON-enhance}" type="number" name="attr_CON-enhance" value=0></td>
										<td><input title="@{CON-misc}" type="number" name="attr_CON-misc" value=0></td>
										<td><input title="@{CON-temp}" type="number" name="attr_CON-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Intelligence check roll [1d20 + intelligence modifier]" type="roll" name="roll_INT-Check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Intelligence Check}} {{result=[[[[{@{int-mod} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}}"></button></td>
										<td class="sheet-label-left">INTELLIGENCE</td>
										<td style="width: 50px;"></td>
										<td><input class="sheet-total" title="@{INT}" type="number" name="attr_INT" value="@{INT}" readonly></td>
										<td><input title="@{INT-base}" type="number" name="attr_INT-base" value=1></td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Willpower check roll [1d10 + willpower]" type="roll" name="roll_WIS-Check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Willpower Check}} {{result=[[[[{@{wil-mod} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}}"></button></td>
										<td class="sheet-label-left">WILLPOWER</td>
										<td style="width: 50px;"></td>
										<td><input class="sheet-total" title="@{WIL}" type="number" name="attr_WIL" value="@{WIL}" readonly></td>
										<td><input title="@{WIL-base}" type="number" name="attr_WIL-base" value=0></td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Charisma check roll [1d20 + charisma modifier]" type="roll" name="roll_CHA-Check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Charisma Check}} {{result=[[[[{@{cha-mod} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}}"></button></td>
										<td class="sheet-label-left">CHARISMA</td>
										<td style="width: 50px;"></td>
										<td><input class="sheet-total" title="@{CHA}" type="number" name="attr_CHA" value="@[CHA}" readonly></td>
										<td><input title="@{CHA-base}" type="number" name="attr_CHA-base" value=0></td>
										<td><input title="@{CHA-enhance}" type="number" name="attr_CHA-enhance" value=0></td>
										<td><input title="@{CHA-misc}" type="number" name="attr_CHA-misc" value=0></td>
										<td><input title="@{CHA-temp}" type="number" name="attr_CHA-temp" value=0></td>
									</tr>
									<tr>
										<td style="width: 12px;"></td>
										<td class="sheet-label-left">MAGIC</td>
										<td style="width: 50px;"></td>
										<td><input class="sheet-total" title="@{MAG}" type="number" name="attr_MAG" value="@{MAG}" readonly></td>
										<td><input title="@{MAG-base}" type="number" name="attr_MAG-base" value=0></td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 55%; height: 100px; float: left; border-bottom: none;">
					<div class="sheet-box-middle sheet-stats-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">Resistances</div>
							<div class="sheet-box-content">
								<table>
<tr>
										<td class="sheet-label-top" style="width: 26px;"></td>
										<td class="sheet-label-top" style="width: 56px;"></td>
										<td class="sheet-label-top" style="width: 26px;"></td>
										<td class="sheet-label-top" style="width: 26px;"></td>
										<td class="sheet-label-top" style="width: 56px;"></td>
										<td class="sheet-label-top" style="width: 26px;"></td>
										<td class="sheet-label-top" style="width: 56px"></td>
									    <td class="sheet-label-top" style="width: 30%"></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Mental Resist roll [@mentalresistD10]" type="roll" name="roll_MagicResist" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Resistance}} {{rollTypeName=Mental}} {{result=[[[[{?{Modifiers?|0}+@{mentalresist},1}kh1]]d10!>10>8]]Success(es)}} {{notes=@{resistnotes}}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">Mental</td>
										<td><input class="sheet-total" title="@{mentalresist}" type="number" name="attr_mentalresist" value="0"></td>
										<td><button class="sheet-text-button" title="Physical Resist roll [@physicalresistD10]" type="roll" name="roll_PoisonResist" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Resistance}} {{rollTypeName=Physical}} {{result=[[[[{?{Modifiers?|0}+@{physicalresist},1}kh1]]d10!>10>8]]Success(es)}} {{notes=@{resistnotes}}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">Physical</td>
										<td><input class="sheet-total" title="@{physicalresist}" type="number" name="attr_physicalresist" value="0"></td>
										<td class="sheet-label-left" style="font-weight: bold;">Notes</td>
										<td><input title="resistnotes" type="text" name="attr_resistnotes"></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 55%; height: 175px; float: left; border-bottom: none;">
					<div class="sheet-box-middle sheet-stats-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">ARMOR FEATURES</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 28px;">Worn?</td>
										<td class="sheet-label-top" style="width: 76px;">Type</td>
										<td class="sheet-label-top">Armor/Spell Name</td>
										<td class="sheet-label-top" style="width: 50px;">Rating</td>
										<td class="sheet-label-top" style="width: 50px;">ACP</td>
										<td class="sheet-label-top" style="width: 52px;">Max Dodge</td>
									</tr>
									<tr>
										<td><input type="checkbox" title="@{ac-armor-worn}" name="attr_ac-armor-worn" value="worn"></td>
										<td class="sheet-label-left">Armor</td>
										<td><input title="@{ac-armor-item}" type="text" name="attr_ac-armor-item"></td>
										<td><input title="@{ac-armor-bonus}" type="number" name="attr_ac-armor-bonus" value=0></td>
										<td><input title="@{ac-armor-penalty}" type="number" name="attr_ac-armor-penalty" value=0></td>
										<td><input title="@{ac-armor-maxdodge}" type="number" name="attr_ac-armor-maxdex" value=99></td>
									</tr>
									<tr>
										<td><input type="checkbox" title="@{ac-spell-worn}" name="attr_ac-spell-worn" value="worn"></td>
										<td class="sheet-label-left">Spell</td>
										<td><input title="@{ac-spell-item}" type="text" name="attr_ac-spell-item"></td>
										<td><input title="@{ac-spell-bonus}" type="number" name="attr_ac-spell-bonus" value=0></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
									</tr>
									<tr>
										<td><input type="checkbox" title="@{ac-shield-worn}" name="attr_ac-shield-worn" value="worn"></td>
										<td class="sheet-label-left">Shield</td>
										<td><input title="@{ac-shield-item}" type="text" name="attr_ac-shield-item"></td>
										<td><input title="@{ac-shield-bonus}" type="number" name="attr_ac-shield-bonus" value=0></td>
										<td><input title="@{ac-shield-penalty}" type="number" name="attr_ac-shield-penalty" value=0></td>
										<td><input type="text" value="---" readonly></td>
									</tr>
									<tr>
										<td></td>
										<td class="sheet-label-left">Misc</td>
										<td><input title="@{ac-misc-item}" type="text" name="attr_ac-misc-item"></td>
										<td><input title="@{ac-misc-bonus}" type="number" name="attr_ac-misc-bonus" value=0></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
									</tr>
									<tr>
										<td></td>
										<td class="sheet-label-left">Totals</td>
										<td></td>
										<td><input class="sheet-total" title="@{ac-total-bonus}" type="number" name="attr_ac-total-bonus" value=0 readonly></td>
										<td><input class="sheet-total" title="@{ac-total-penalty}" type="number" name="attr_ac-total-penalty" value=0 readonly></td>
										<td><input class="sheet-total" title="@{ac-total-maxdodge}" type="number" name="attr_ac-dex" value=0 readonly></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div style="clear: both;"></div>
				<div class="sheet-box-outer" style="width: 45%; float: left; border-right: none; height: 172px;">
					<div class="sheet-box-middle sheet-stats-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">SECONDARY STATISTICS</div>
							<div class="sheet-box-content">
								<input class="sheet-controller sheet-ctrl-hide-mp" value="hide" type="checkbox" name="attr_ctrl-hide-mp">
								<input class="sheet-controller sheet-ctrl-show-energy1" value="show" type="checkbox" name="attr_ctrl-show-energy1">
								<input class="sheet-controller sheet-ctrl-show-energy2" value="show" type="checkbox" name="attr_ctrl-show-energy2">
								<input class="sheet-controller sheet-ctrl-show-energy3" value="show" type="checkbox" name="attr_ctrl-show-energy3">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 50px;"></td>
										<td class="sheet-label-top">Current</td>
										<td class="sheet-label-top" style="width: 15px;"></td>
										<td class="sheet-label-top">Max</td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">WIL</td>
										<td class="sheet-label-top">Misc</td>
									</tr>
									<tr>
										<td class="sheet-label-left">Health</td>
										<td><input title="@{hp}" type="number" name="attr_health" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{health-max}" type="number" name="attr_health_max" value="0"></td>
										<td><button class="sheet-text-button" title="Initiative roll [1d10 + total initiative bonus]" type="roll" name="roll_Init" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=Initiative}} {{result=[[1d10+@{init-total} &{tracker}]]}}"></button></td>
									    <td style="font-weight: bold;" class="sheet-label-left">Initiative:</td>
									    <td><input class="sheet-total" title="@{init-total}" type="number" name="attr_init-total" value=0 readonly></td>
										<td><input title="@{wil-mod}" type="number" name="attr_wil-mod" value=0 readonly></td>
										<td><input title="@{init-misc}" type="number" name="attr_init-misc" value=0></td>
									</tr>
									<tr class="sheet-mp-row">
										<td class="sheet-label-left">Vigor</td>
										<td><input title="@{vigor}" type="number" name="attr_vigor" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{vigor-max}" type="number" name="attr_vigor_max" value="0"></td>
									    <td></td>
									    <td></td>
										<td class="sheet-label-top">Land</td>
										<td></td>
										<td class="sheet-label-top">Air</td>
									</tr>
									<tr class="sheet-mp-row">
										<td class="sheet-label-left">Ward</td>
										<td><input title="@{ward}" type="number" name="attr_ward" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{ward-max}" type="number" name="attr_ward_max" value="0"></td>
									    <td></td>									
									    <td style="font-weight: bold; text-align=right;">Speed:</td>
									    <td><input title="@{speed-base}" type="number" name="attr_speed-base" value=0></td>
										<td></td>
										<td><input title="@{speed-fly}" type="number" name="attr_speed-fly" value=0></td>
									</tr>									
									<tr class="sheet-mp-row">
										<td class="sheet-label-left">Mana</td>
										<td><input title="@{mana}" type="number" name="attr_mana" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{mana_max}" type="number" name="attr_mana_max" value="@{mana_max}" readonly></td>
									    <td></td>
										<td style="font-weight: bold; text-align=right;">Dodge Stat:</td>									
									    <td><input style="width: 25px;" title="Dodge" type="number" name="attr_dodge" value="0" ></td></td>
										<td></td>
										<td></td>
									</tr>									
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 55%; height: 172px; float: right;">
					<div class="sheet-box-middle sheet-stats-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">TOTAL DEFENSE</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 60px;"></td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top">Dodge</td>
										<td class="sheet-label-top">Armor</td>
										<td class="sheet-label-top">Shield</td>
										<td class="sheet-label-top">Misc</td>
									</tr>
									<tr>
										<td class="sheet-label-left">Armor</td>
										<td><input class="sheet-total" title="Defense from armor" type="number" name="attr_ac-total" value=10 readonly></td>
										<td></td>
										<td><input title="@{max-dodge}" type="number" name="attr_ac-dex" value="0" readonly></td>
										<td><input title="@{ac-armor}" type="number" name="attr_ac-armor" value="0" readonly></td>
										<td><input title="@{ac-shield}" type="number" name="attr_ac-shield" value="0" readonly></td>
										<td><input title="@{ac-misc-bonus}" type="number" name="attr_ac-misc-bonus" value="0" readonly></td>
									</tr>
									<tr>
										<td class="sheet-label-top">Magic Defense</td>
										<td><input class="sheet-total" title="Total Magic Defense" type="number" name="attr_ac-magdefense" value=0 readonly></td>
										<td></td>
										<td><input type="text" name="attr_ac-dex-ff" value="---" readonly></td>
										<td><input title="@{ac-magdefense}" type="number" name="attr_ac-magdefense" value="0"></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
									</tr>
									<tr>
										<td class="sheet-label-left">DR</td>
										<td colspan="3"><input title="@{dr}" type="text" name="attr_dr"></td>
										<td class="sheet-label-left">Parry</td>
										<td colspan="3"><input title="@{parry}" type="text" name="attr_parry"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">MDR</td>
										<td colspan="3"><input title="@{mdr}" type="text" name="attr_mdr"></td>
									    <td class="sheet-label-left">APR</td>
										<td colspan="3"><input title="@{apr}" type="text" name="attr_apr"></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div style="clear: both;"></div>
			</div>
		</div>
		<div class="sheet-section-combat">
			<div class="sheet-background sheet-rolls-color sheet-rolls-text">
				<div class="sheet-box-outer" style="width: 100%; height: 100px; float: left; border-bottom: none;">
					<div class="sheet-box-middle sheet-rolls-border">
						<div class="sheet-box-inner">
								<div class="sheet-box-title">QUICK ROLLS</div>
								<table>
									<tr>
										<td><button class="sheet-text-button" title="Standard 10 Again" type="roll" name="roll_TenAgain" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=10Again}} {{result=[[?{Dice Pool|1}d10!>10>8]]Success(es)}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">10 Again</td>
									    <td><button class="sheet-text-button" title="9 Again" type="roll" name="roll_NineAgain" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=9Again}} {{result=[[?{Dice Pool|1}d10!>9>8]]Success(es)}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">9 Again</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="8 Again" type="roll" name="roll_EightAgain" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=8Again}} {{result=[[?{Dice Pool|1}d10!>8>8]]Success(es)}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">8 Again</td>
									    <td><button class="sheet-text-button" title="Crit Failure" type="roll" name="roll_CritFailure" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=Check critical fail}} {{result=[[1d10<1]] (1=botch)}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">Critical Failure Check</td>
									</tr>
								</table>
						</div>
					</div>
				</div>
				<div style="clear: both;"></div>
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle sheet-rolls-border sheet-rolls-text">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">Attacks</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 30%;">Weapon/Skill Name</td>
										<td class="sheet-label-top" style="width: 50px;">Attack Stat</td>
										<td class="sheet-label-top" style="width: 40px;">Ranks</td>
										<td class="sheet-label-top" style="width: 40px;">Bonus</td>
										<td class="sheet-label-top" style="width: 40px;">Misc. Modifier</td>
										<td class="sheet-label-top" style="width: 65px;">Type</td>
										<td class="sheet-label-top" style="width: 65px;">Range</td>
										<td class="sheet-label-top" style="width: 40%;">Notes</td>
									</tr>
								</table>
								<fieldset class="repeating_weapons">
									<table>
										<tr>
											<td style="width: 24px;"><button class="sheet-text-button" title="Attack roll [(Total)d10 success=8+ roll 10again]" type="roll" name="roll_StandardAttack" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Attack}} {{rollTypeName=@{weapon-name}}} {{result=[[[[{@{weapon-attack-modifier} +@{weapon-ranks} + @{weapon-bonus} + @{weapon-misc} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{weapon-notes}}}"></button></td>
											<td style="width: 24px;"><button class="sheet-text-button" title="Attack roll [(Total)d10 success=8+ roll 9+again]" type="roll" name="roll_9AgainAttack" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=9 Again Attack}} {{rollTypeName=@{weapon-name}}} {{result=[[[[{@{weapon-attack-modifier} +@{weapon-ranks} + @{weapon-bonus} + @{weapon-misc} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{weapon-notes}}}"></button></td>
											<td style="width: 30%;"><input class="sheet-rolls-text" title="Weapon/Skill name" type="text" name="attr_weapon-name"></td>
											<td style="width: 50px;">
												<select name="attr_weapon-attack-modifier">
													<option value="0">---</option>
													<option value="@{STR}">STR</option>
													<option value="@{DEX}">DEX</option>
													<option value="@{INT}">INT</option>
													<option value="@{WIL}">WIL</option>
													<option value="@{CHA}">CHA</option>
												</select>
											</td>
											<td style="width: 40px;"><input title="Weapon/Skill Ranks" type="number" name="attr_weapon-ranks" value=0></td>
											<td style="width: 40px;"><input title="Weapon/Skill attack bonus" type="number" name="attr_weapon-bonus" value=0></td>
											<td style="width: 40px;"><input title="Weapon/Skill attack misc. modifier" type="number" name="attr_weapon-misc" value=0></td>
											<td style="width: 65px;"><input class="sheet-rolls-text" title="Weapon type" type="text" name="attr_weapon-type"></td>
											<td style="width: 65px;"><input class="sheet-rolls-text" title="Weapon range" type="text" name="attr_weapon-range"></td>
											<td style="width: 40%;"><input class="sheet-rolls-text" title="Weapon/skill notes" type="text" name="attr_weapon-notes"></td>
										</tr>
									</table>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
						<div style="clear: both;"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-class">
			<div class="sheet-background sheet-xp-color sheet-xp-text">
				<div class="sheet-box-outer" style="width: 100%; float: left; border-bottom: none;">
					<div class="sheet-box-middle sheet-xp-border">
					<div class="sheet-box-title">EXPERIENCE</div>
						<div class="sheet-box-inner">	
							<div class="sheet-box-content">
								<table>
									<tr>
										<td style="width: 66px;"></td>
										<td class="sheet-label-top" style="width: 66px;">Current</td>
										<td style="font-size: 150%; width: 15px;"></td>
										<td class="sheet-label-top" style="width: 66px;">Earned</td>
										<td style="font-size: 150%; width: 15px;"></td>
										<td class="sheet-label-top" style="width: 66px;">Next Tier</td>
										<td class="sheet-label-top" style="width: 66px;">Tier</td>
										<td class="sheet-label-top" style="width: 66px;"></td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
									</tr>
									<tr>
										<td class="sheet-label-left" style="width: 66px;">GXP</td>
										<td><input title="@{gxp}" type="number" name="attr_gxp" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
										<td><input title="@{earned-gxp}" type="number" name="attr_earned_gxp" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
										<td>
										    <select name="attr_next-rank" title="@{next-tier}">
												<option value="Tier 2">60</option>
												<option value="Tier 3">110</option>
												<option value="Tier 4">250</option>
												<option value="Tier 5">450</option>
											</select>
										</td>
										<td><input style="width: 66px;" title="Current Rank" type="text" class="sheet-xp-text" name="attr_next-rank" value="0" readonly ></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td class="sheet-label-left" style="width: 66px;">SXP</td>
										<td><input title="@{sxp}" type="number" name="attr_sxp" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
										<td><input title="@{earned-sxp}" type="number" name="attr_earned_sxp" value="0"></td>
									</tr>
								</table>
							</div>
					    </div>
					</div>
					</div>
					<div class="sheet-box-outer" style="width: 50%; float: left;">
					<div class="sheet-box-middle sheet-xp-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">General Experience(GXP) Spend</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 85%;">Name</td>
										<td class="sheet-label-top" style="width: 15%;">Cost</td>
									</tr>
								</table>
							    <fieldset class="repeating_gxp">
									<table>
										<tr class="sheet-table-row-skill">
											<td style="width: 85%;"><input title="Name" type="text" class="sheet-xp-text" name="attr_gxp-name"></td>
											<td style="width: 15%;"><input title="Cost" type="text" style="text-align:center;" class="sheet-xp-text" name="attr_gxp-cost"></td>
										</tr>
									</table>
								</fieldset>
							</div>
						</div>
						<div style="clear: both;"></div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 50%; float: right;">
					<div class="sheet-box-middle sheet-xp-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">Skill Experience(SXP) Spend</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 85%;">Name</td>
										<td class="sheet-label-top" style="width: 15%;">Cost</td>
									</tr>
								</table>
							    <fieldset class="repeating_sxp">
									<table>
										<tr class="sheet-table-row-skill">
											<td style="width: 85%;"><input title="Skill name" type="text" class="sheet-xp-text" name="attr_skill-name"></td>
											<td style="width: 15%;"><input title="Skill Cost" type="text" style="text-align:center;" class="sheet-xp-text" name="attr_skill-cost"></td>
										</tr>
									</table>
								</fieldset>
							</div>
						</div>
						<div style="clear: both;"></div>
					</div>
				</div>
				<div style="clear: both;"></div>
			</div>
		</div>
		<div class="sheet-section-items">
			<div class="sheet-background sheet-items-color sheet-items-text">
                <div class="sheet-box-outer" style="width: 100%; float: right;">
					<div class="sheet-box-middle sheet-items-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">INVENTORY</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 40%;">Item</td>
										<td class="sheet-label-top" style="width: 40px;">Quantity/<br>Charges</td>
										<td class="sheet-label-top" style="width: 78%;">Description</td>
									    <td style="width: 24px;"><input type="checkbox" title="Expand/hide inventory" class="sheet-expander" name="attr_ctrl-item-show-details" value="hide"><span></span></td>
									</tr>
								</table>
							<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-item-show-details" value="hide">
							<div class="sheet-expansion-area">
								<fieldset class="repeating_inventory">
									<table>
										<tr>
											<td style="width: 40%;"><input title="Item name" type="text" class="sheet-items-text" name="attr_inventory-item-name"></td>
											<td style="width: 40px;"><input title="Item quantity/charges" type="number" name="attr_inventory-item-quantity" value=1 step="1"></td>
											<td style="width: 78%;"><input title="Item description" type="text" class="sheet-items-text" name="attr_inventory-item-desc"></td>
										</tr>
									</table>
								</fieldset>
							</div>	
								<table style="float: right; width: 150px;">
									<tr>
										<td class="sheet-label-left" style="width: 50px;">Gold</td>
										<td style="width: 100px;"><input title="Gold on hand (@{gold})" type="text" class="sheet-items-text" name="attr_gold" value=0 style="text-align: center;"></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
			    <div style="clear: both;"></div>
			</div>
		</div>
		<div class="sheet-section-skills">
			<div class="sheet-background sheet-skills-color sheet-skills-text" style="width: 100%;">
				<div class="sheet-box-outer">
					<div class="sheet-box-middle sheet-skills-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">SKILLS</div>
							<div class="sheet-box-content">
								<table class="sheet-table-skill">
									<tr>
										<td style="min-width: 24px; width: 24px;">Roll</td>
										<td class="sheet-label-top" style="min-width: 35px; width: 35px;">9Again</td>
										<td class="sheet-label-top" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Skill Name</td>
										<td class="sheet-label-top" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Total</td>
										<td class="sheet-label-top" style="min-width: 60px; width: 60px;">Ability</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Modifier</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Ranks</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Misc</td>
										<td class="sheet-label-top" style="min-width: 35px; width: 35px;"></td>
										<td class="sheet-label-top" style="min-width: 28px; width: 28px;">ACP</td>
										<td class="sheet-label-top" style="width: 100%;">Notes</td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td style="width: 24px;"><input type="checkbox" title="Expand/hide casting skills" class="sheet-expander" name="attr_ctrl-casting-show-details" value="hide"><span></span></td>
										<td></td>
										<td style="font-weight: bold;" class="sheet-label-skill">Casting Skills</td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
								</table>
							<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-casting-show-details" value="hide">
							<div class="sheet-expansion-area">
								<table class="sheet-table-skill">
									<tr class="sheet-table-row-skill">
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Channeling check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Channeling-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Channeling}} {{result=[[[[{@{channeling-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{channeling-notes}}}"></button></td>
										<td style="min-width: 35px; width: 35px;"><button class="sheet-text-button" title="Channeling check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Channeling-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Channeling}} {{result=[[[[{@{channeling-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{channeling-notes}}}"></button></td>
										<td class="sheet-label-skill" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Channeling</td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input class="sheet-total" title="@{channeling-total}" type="number" name="attr_channeling-total" readonly value="0"></td>
										<td class="sheet-data-skill" style="min-width: 60px; width: 60px;">
											<select title="bluff-ability" name="attr_channeling-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{channeling-mod}" type="number" name="attr_channeling-mod" value="0" readonly></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{channeling-ranks}" type="number" name="attr_channeling-ranks" value="0"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{channeling-misc}" type="number" name="attr_channeling-misc" value="0"></td>
										<td style="min-width: 35px; width: 35px;"><span class="sheet-cs-show" name="attr_channeling-bonus"></span></td>
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill sheet-skills-text" style="width: 100%;"><input title="@{channeling-notes}" type="text" name="attr_channeling-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Magecraft check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Magecraft-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Magecraft}} {{result=[[[[{@{magecraft-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{magecraft-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Magecraft check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Magecraft-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Magecraft}} {{result=[[[[{@{magecraft-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{magecraft-notes}}}"></button></td>
										<td class="sheet-label-skill">Magecraft</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{magecraft-total}" type="number" name="attr_magecraft-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="magecraft-ability" name="attr_magecraft-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{magecraft-mod}" type="number" name="attr_magecraft-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{magecraft-ranks}" type="number" name="attr_magecraft-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{magecraft-misc}" type="number" name="attr_magecraft-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_magecraft-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{magecraft-notes}" type="text" name="attr_magecraft-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Shamanism check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Shamanism-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Shamanism}} {{result=[[[[{@{shamanism-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{shamanism-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Shamanism check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Shamanism-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Shamanism}} {{result=[[[[{@{shamanism-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{shamanism-notes}}}"></button></td>
										<td class="sheet-label-skill">Shamanism</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{shamanism-total}" type="number" name="attr_shamanism-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="sorcery-ability" name="attr_shamanism-ability">
												<option value="0">---</option>
												<option value="int-mod">INT</option>
												<option value="wil-mod">WIL</option>
												</select>
										</td>
										<td class="sheet-data-skill"><input title="@{shamanism-mod}" type="number" name="attr_shamanism-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{shamanism-ranks}" type="number" name="attr_shamanism-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{shamanism-misc}" type="number" name="attr_shamanism-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_shamanism-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{shamanism-notes}" type="text" name="attr_shamanism-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Sorcery check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Sorcery-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sorcery}} {{result=[[[[{@{sorcery-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{sorcery-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Sorcery check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Sorcery-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sorcery}} {{result=[[[[{@{sorcery-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{sorcery-notes}}}"></button></td>
										<td class="sheet-label-skill">Sorcery</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{sorcery-total}" type="number" name="attr_sorcery-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="sorcery-ability" name="attr_sorcery-ability">
												<option value="0">---</option>
												<option selected value="wil-mod">WIL</option>
												</select>
										</td>
										<td class="sheet-data-skill"><input title="@{sorcery-mod}" type="number" name="attr_sorcery-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{sorcery-ranks}" type="number" name="attr_sorcery-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{sorcery-misc}" type="number" name="attr_sorcery-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_sorcery-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{sorcery-notes}" type="text" name="attr_sorcery-notes"></td>
									</tr>
							</div>
								<table class="sheet-table-skill">	
									<tr class="sheet-table-row-skill">
										<td style="width: 24px;"><input type="checkbox" title="Expand/hide combat skills" class="sheet-expander" name="attr_ctrl-combat-show-details" value="hide"><span></span></td>
										<td class="sheet-label-top" style="min-width: 43px; width: 43px;"></td>
										<td class="sheet-label-top" style="font-size: 96%; font-weight: bold;" "min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Combat Skills</td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
								</table>					
							<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-combat-show-details" value="hide">
							<div class="sheet-expansion-area">	
								<table class="sheet-table-skill">
									<tr class="sheet-table-row-skill">
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Exotic Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_ExoticWeapons1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=ExoticWeapons:@{exoticweapons1-name}}} {{result=[[[[{@{exoticweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{exoticweapons1-notes}}}"></button></td>
										<td style="min-width: 35px; width: 35px;"><button class="sheet-text-button" title="Exotic Weapons check roll [Total d10 success=8+ roll 9again]" type="roll" name="roll_ExoticWeapons1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=ExoticWEapons:@{exoticweapons1-name}}} {{result=[[[[{@{exoticweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{exoticweapons1-notes}}}"></button></td>
										<td class="sheet-label-skill" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Exotic Weapon:<input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{exoticeweapons1-name}" type="text" name="attr_exoticweapons1-name"></td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input class="sheet-total" title="@{exoticweapons1-total}" type="number" name="attr_exoticweapons1-total" readonly value="0"></td>
										<td class="sheet-data-skill" style="min-width: 60px; width: 60px;">
											<select title="drive-ability" name="attr_exoticweapons1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{exoticweapons1-mod}" type="number" name="attr_exoticweapons1-mod" value="0" readonly></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{exoticweapons1-ranks}" type="number" name="attr_exoticweapons1-ranks" value="0"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{exoticweapons1-misc}" type="number" name="attr_exoticweapons1-misc" value="0"></td>
										<td style="min-width: 35px; width: 35px;"><span class="sheet-cs-show" name="attr_exoticweapons1-bonus"></span></td>
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="width: 100%;"><input title="@{exoticweapons1-notes}" type="text" name="attr_exoticweapons1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Exotic Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_ExoticWeapons2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=ExoticWeapons:@{exoticweapons2-name}}} {{result=[[[[{@{exoticweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{exoticweapons2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Exotic Weapons check roll [Total d10 success=8+ roll 9again]" type="roll" name="roll_ExoticWeapons2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=ExoticWEapons:@{exoticweapons2-name}}} {{result=[[[[{@{exoticweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{exoticweapons2-notes}}}"></button></td>
										<td class="sheet-label-skill">Exotic Weapon:<input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{exoticweapons-name}" type="text" name="attr_exoticweapons2-name"></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{exoticweapons2-total}" type="number" name="attr_exoticweapons2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="drive-ability" name="attr_exoticweapons2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{exoticweapons2-mod}" type="number" name="attr_exoticweapons2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{exoticweapons2-ranks}" type="number" name="attr_exoticweapons2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{exoticweapons2-misc}" type="number" name="attr_exoticweapons2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_exoticweapons2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{exoticweapons2-notes}" type="text" name="attr_exoticweapons2-notes"></td>
									</tr>									
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Exotic Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_ExoticWeapons3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=ExoticWeapons:@{exoticweapons3-name}}} {{result=[[[[{@{exoticweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{exoticweapons3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Exotic Weapons check roll [Total d10 success=8+ roll 9again]" type="roll" name="roll_ExoticWeapons3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=ExoticWEapons:@{exoticweapons3-name}}} {{result=[[[[{@{exoticweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{exoticweapons3-notes}}}"></button></td>
										<td class="sheet-label-skill">Exotic Weapon:<input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{exoticweapons3-name}" type="text" name="attr_exoticweapons3-name"></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{exoticweapons3-total}" type="number" name="attr_exoticweapons3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="drive-ability" name="attr_exoticweapons3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{exoticweapons3-mod}" type="number" name="attr_exoticweapons3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{exoticweapons3-ranks}" type="number" name="attr_exoticweapons3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{exoticweapons3-misc}" type="number" name="attr_exoticweapons3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_exoticweapons3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{exoticweapons3-notes}" type="text" name="attr_exoticweapons3-notes"></td>
									</tr>									
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="MeleeWeapons1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Melee Weapons Crushing}} {{result=[[[[{@{meleeweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{meleeweapons1-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="MeleeWeapons1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Melee Weapons Crushing}} {{result=[[[[{@{meleeweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{meleeweapons1-notes}}}"></button></td>
										<td class="sheet-label-skill">Melee Crushing</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{meleeweapons1-total}" type="number" name="attr_meleeweapons1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="MeleeCrushing-ability" name="attr_meleeweapons1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{meleeweapons1-mod}" type="number" name="attr_meleeweapons1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{meleeweapons1-ranks}" type="number" name="attr_meleeweapons1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{meleeweapons1-misc}" type="number" name="attr_meleeweapons1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_meleeweapons1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{meleeweapons1-notes}" type="text" name="attr_meleeweapons1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="MeleeWeapons2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Melee Weapons Piercing}} {{result=[[[[{@{meleeweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{meleeweapons2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="MeleeWeapons2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Melee Weapons Piercing}} {{result=[[[[{@{meleeweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{meleeweapons2-notes}}}"></button></td>
										<td class="sheet-label-skill">Melee Piercing</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{meleeweapons2-total}" type="number" name="attr_meleeweapons2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="MeleePiercing-ability" name="attr_meleeweapons2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{meleeweapons2-mod}" type="number" name="attr_meleeweapons2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{meleeweapons2-ranks}" type="number" name="attr_meleeweapons2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{meleeweapons2-misc}" type="number" name="attr_meleeweapons2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_meleeweapons2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{meleeweapons2-notes}" type="text" name="attr_meleeweapons2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Melee Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="MeleeWeapons3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Melee Weapons Slashing}} {{result=[[[[{@{meleeweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{meleeweapons3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Melee Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="MeleeWeapons3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Melee Weapons Slashing}} {{result=[[[[{@{meleeweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{meleeweapons3-notes}}}"></button></td>
										<td class="sheet-label-skill">Melee Slashing</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{meleeweapons3-total}" type="number" name="attr_meleeweapons3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="MeleeSlashing-ability" name="attr_meleeweapons3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{meleeweapons3-mod}" type="number" name="attr_meleeweapons3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{meleeweapons3-ranks}" type="number" name="attr_meleeweapons3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{meleeweapons3-misc}" type="number" name="attr_meleeweapons3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_meleeweapons3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{meleeweapons3-notes}" type="text" name="attr_meleeweapons3-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Ranged Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="RangedWeapons1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ranged Bow Weapons }} {{result=[[[[{@{rangedweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{rangedweapons1-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Ranged Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="RangedWeapons1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ranged Bow Weapons }} {{result=[[[[{@{rangedweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{rangedweapons1-notes}}}"></button></td>
										<td class="sheet-label-skill">Ranged Bows</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{rangedweapons1-total}" type="number" name="attr_rangedweapons1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="RangedBows-ability" name="attr_rangedweapons1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{rangedweapons1-mod}" type="number" name="attr_rangedweapons1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{rangedweapons1-ranks}" type="number" name="attr_rangedweapons1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{rangedweapons1-misc}" type="number" name="attr_rangedweapons1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_rangedweapons1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{rangedweapons1-notes}" type="text" name="attr_rangedweapons1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Ranged Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="RangedWeapons2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ranged Weapons Crossbows}} {{result=[[[[{@{rangedweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{rangedweapons2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Ranged Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="RangedWeapons2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ranged Weapons Crossbows}} {{result=[[[[{@{rangedweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{rangedweapons2-notes}}}"></button></td>
										<td class="sheet-label-skill">Ranged Crossbows</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{rangedweapons2-total}" type="number" name="attr_rangedweapons2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="RangedXbows-ability" name="attr_rangedweapons2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{rangedweapons2-mod}" type="number" name="attr_rangedweapons2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{rangedweapons2-ranks}" type="number" name="attr_rangedweapons2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{rangedweapons2-misc}" type="number" name="attr_rangedweapons2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_rangedweapons2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{rangedweapons2-notes}" type="text" name="attr_rangedweapons2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Ranged Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="RangedWeapons3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ranged Weapons Magitech}} {{result=[[[[{@{rangedweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{rangedweapons3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Ranged Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="Rangedweapons3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ranged Weapons Magitech}} {{result=[[[[{@{rangedweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{rangedweapons3-notes}}}"></button></td>
										<td class="sheet-label-skill">Ranged Magitech</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{rangedweapons3-total}" type="number" name="attr_rangedweapons3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="RangedMagitech-ability" name="attr_rangedweapons3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{rangedweapons3-mod}" type="number" name="attr_rangedweapons3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{rangedweapons3-ranks}" type="number" name="attr_rangedweapons3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{rangedweapons3-misc}" type="number" name="attr_rangedweapons3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_rangedweapons3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{rangedweapons3-notes}" type="text" name="attr_rangedweapons3-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="ThrownWeapons1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Thrown Weapons Crushing}} {{result=[[[[{@{thrownweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{thrownweapons1-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="ThrownWeapons1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Thrown Weapons Crushing}} {{result=[[[[{@{thrownweapons1-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{thrownweapons1-notes}}}"></button></td>
										<td class="sheet-label-skill">Thrown Crushing</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{thrownweapons1-total}" type="number" name="attr_thrownweapons1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="ThrownCrushing-ability" name="attr_thrownweapons1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{thrownweapons1-mod}" type="number" name="attr_thrownweapons1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{thrownweapons1-ranks}" type="number" name="attr_thrownweapons1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{thrownweapons1-misc}" type="number" name="attr_thrownweapons1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_thrownweapons1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{thrownweapons1-notes}" type="text" name="attr_thrownweapons1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="ThrownWeapons2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Thrown Weapons Piercing}} {{result=[[[[{@{thrownweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{thrownweapons2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="ThrownWeapons2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Thrown Weapons Piercing}} {{result=[[[[{@{thrownweapons2-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{thrownweapons2-notes}}}"></button></td>
										<td class="sheet-label-skill">Thrown Piercing</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{thrownweapons2-total}" type="number" name="attr_thrownweapons2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="ThrownPiercing-ability" name="attr_thrownweapons2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{thrownweapons2-mod}" type="number" name="attr_thrownweapons2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{thrownweapons2-ranks}" type="number" name="attr_thrownweapons2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{thrownweapons2-misc}" type="number" name="attr_thrownweapons2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_thrownweapons2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{thrownweapons2-notes}" type="text" name="attr_thrownweapons2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 10again]" type="roll" name="ThrownWeapons3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Thrown Weapons Slashing}} {{result=[[[[{@{thrownweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{thrownweapons3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Thrown Weapons check roll [Total d10 success=8+ roll 9+again]" type="roll" name="Thrownweapons3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Thrown Weapons Slashing}} {{result=[[[[{@{thrownweapons3-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{thrownweapons3-notes}}}"></button></td>
										<td class="sheet-label-skill">Thrown Slashing</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{thrownweapons3-total}" type="number" name="attr_thrownweapons3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="ThrownSlashing-ability" name="attr_thrownweapons3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{thrownweapons3-mod}" type="number" name="attr_thrownweapons3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{thrownweapons3-ranks}" type="number" name="attr_thrownweapons3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{thrownweapons3-misc}" type="number" name="attr_thrownweapons3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_thrownweapons3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{thrownweapons3-notes}" type="text" name="attr_thrownweapons3-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Unarmed combat check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_UnarmedCombat1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Unarmed Grappling}} {{result=[[[[{@{unarmedcombat1-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{unarmedcombat1-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Unarmed combat check 9 again [Total d10 success=8+ roll 9+again]" type="roll" name="roll_UnarmedCombat1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Unarmed Grappling}} {{result=[[[[{@{unarmedcombat1-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{unarmedcombat1-notes}}}"></button></td>
										<td class="sheet-label-skill">Unarmed Grappling</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{unarmedcombat1-total}" type="number" name="attr_unarmedcombat1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="UnarmedGrappling-ability" name="attr_unarmedcombat1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>			
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat1-mod}" type="number" name="attr_unarmedcombat1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat1-ranks}" type="number" name="attr_unarmedcombat1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat1-misc}" type="number" name="attr_unarmedcombat1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_unarmedcombat1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{unarmedcombat1-notes}" type="text" name="attr_unarmedcombat1-notes"></td>
									</tr>								
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Unarmed combat check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_UnarmedCombat2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Unarmed Natural Weapon}} {{result=[[[[{@{unarmedcombat2-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{unarmedcombat2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Unarmed combat check 9 again [Total d10 success=8+ roll 9+again]" type="roll" name="roll_UnarmedCombat2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Unarmed Natural Weapon}} {{result=[[[[{@{unarmedcombat2-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{unarmedcombat2-notes}}}"></button></td>
										<td class="sheet-label-skill">Unarmed Natural</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{unarmedcombat2-total}" type="number" name="attr_unarmedcombat2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="UnarmedNatural-ability" name="attr_unarmedcombat2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>			
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat2-mod}" type="number" name="attr_unarmedcombat2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat2-ranks}" type="number" name="attr_unarmedcombat2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat2-misc}" type="number" name="attr_unarmedcombat2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_unarmedcombat2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{unarmedcombat-notes2}" type="text" name="attr_unarmedcombat2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Unarmed combat check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_UnarmedCombat3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Unarmed Combat Striking}} {{result=[[[[{@{unarmedcombat3-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{unarmedcombat3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Unarmed combat check 9 again [Total d10 success=8+ roll 9+again]" type="roll" name="roll_UnarmedCombat3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Unarmed Combat Striking}} {{result=[[[[{@{unarmedcombat3-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{unarmedcombat3-notes}}}"></button></td>
										<td class="sheet-label-skill">Unarmed Striking</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{unarmedcombat3-total}" type="number" name="attr_unarmedcombat3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="UnarmedStriking-ability" name="attr_unarmedcombat3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>			
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat3-mod}" type="number" name="attr_unarmedcombat3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat3-ranks}" type="number" name="attr_unarmedcombat3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{unarmedcombat3-misc}" type="number" name="attr_unarmedcombat3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_unarmedcombat3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{unarmedcombat3-notes}" type="text" name="attr_unarmedcombat3-notes"></td>
									</tr>
								</table>
							</div>		
								<table class="sheet-table-skill">	
									<tr class="sheet-table-row-skill">
										<td style="width: 24px;"><input type="checkbox" title="Expand/hide casting skills" class="sheet-expander" name="attr_ctrl-craft-show-details" value="hide"><span></span></td>
										<td style="min-width: 35px; width: 35px;"></td>
										<td style="font-weight: bold; min-width: 220px; width: 220px; text-align: left; padding-left: 8px;" class="sheet-label-skill">Crafting Skills</td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td style="min-width: 40px; width: 40px;"></td>
										<td style="min-width: 60px; width: 60px;"></td>
										<td style="min-width: 40px; width: 40px;"></td>
										<td style="min-width: 40px; width: 40px;"></td>
										<td style="min-width: 40px; width: 40px;"></td>
										<td style="min-width: 35px; width: 35px;"></td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td style="width: 100%;"></td>
									</tr>
								</table>
							<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-craft-show-details" value="hide">
							<div class="sheet-expansion-area">
								<table class="sheet-table-skill">									
									<tr class="sheet-table-row-skill">
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Craft: check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Craft1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft:@{craft1-name}}} {{result=[[[[{@{craft1-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{craft1-notes}}}"></button></td>
										<td style="min-width: 35px; width: 35px;"><button class="sheet-text-button" title="Craft: check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Craft1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft:@{craft1-name}}} {{result=[[[[{@{craft1-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{craft1-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Craft:<input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{craft1-name}" type="text" name="attr_craft1-name"></td> 
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input class="sheet-total" title="@{craft1-total}" type="number" name="attr_craft1-total" readonly value="0"></td>
										<td class="sheet-data-skill" style="min-width: 60px; width: 60px;">
											<select title="craft1-ability" name="attr_craft1-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{craft1-mod}" type="number" name="attr_craft1-mod" value="0" readonly></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{craft1-ranks}" type="number" name="attr_craft1-ranks" value="0"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{craft1-misc}" type="number" name="attr_craft1-misc" value="0"></td>
										<td style="min-width: 35px; width: 35px;"><span class="sheet-cs-show" name="attr_craft1-bonus"></span></td>
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill sheet-skills-text" style="width: 100%;"><input title="@{craft1-notes}" type="text" name="attr_craft1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Craft: check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Craft2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft:@{craft2-name}}} {{result=[[[[{@{craft2-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{craft2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Craft: check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Craft2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft:@{craft2-name}}} {{result=[[[[{@{craft2-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{craft2-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text">Craft:<input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{craft2-name}" type="text" name="attr_craft2-name"></td> 
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{craft2-total}" type="number" name="attr_craft2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="craft2-ability" name="attr_craft2-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{craft2-mod}" type="number" name="attr_craft2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{craft2-ranks}" type="number" name="attr_craft2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{craft2-misc}" type="number" name="attr_craft2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_craft2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{craft2-notes}" type="text" name="attr_craft2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Craft: check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Craft3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft:@{craft3-name}}} {{result=[[[[{@{craft3-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{craft3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Craft: check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Craft3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft:@{craft3-name}}} {{result=[[[[{@{craft3-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{craft3-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text">Craft:<input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{craft3-name}" type="text" name="attr_craft3-name"></td> 
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{craft3-total}" type="number" name="attr_craft3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="craft3-ability" name="attr_craft3-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{craft3-mod}" type="number" name="attr_craft1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{craft3-ranks}" type="number" name="attr_craft3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{craft3-misc}" type="number" name="attr_craft3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_craft3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{craft3-notes}" type="text" name="attr_craft3-notes"></td>
									</tr>
								</table>			
							</div>	
								<table class="sheet-table-skill">	
									<tr class="sheet-table-row-skill">
										<td style="width: 24px;"><input type="checkbox" title="Expand/hide knowledge skills" class="sheet-expander" name="attr_ctrl-knowledge-show-details" value="hide"><span></span></td>
										<td style="min-width: 35px; width: 35px;"></td>
										<td style="font-weight: bold; font-size: 100%;" class="sheet-label-skill">Knowledge </td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
								</table>
							<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-knowledge-show-details" value="hide">
							<div class="sheet-expansion-area">
								<table class="sheet-table-skill">
                                    <tr class="sheet-table-row-skill">
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Know:Academics check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_KnowAcademics-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Academics}} {{result=[[[[{@{knowdungeon-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{knowdungeon-notes}}}"></button></td>
										<td style="min-width: 35px; width: 35px;"><button class="sheet-text-button" title="Know:Academics check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_KnowAcademics-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Academics}} {{result=[[[[{@{knowdungeon-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{knowdungeon-notes}}}"></button></td>
										<td class="sheet-label-skill" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Knowledge: Academics</td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input class="sheet-total" title= "Know:academics-total" type="number" name="attr_knowdungeon-total" readonly value="0"></td>
										<td class="sheet-data-skill" style="min-width: 60px; width: 60px;">
											<select title="Know:academics-ability" name="attr_knowdungeon-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="Know:academics-mod}" type="number" name="attr_knowdungeon-mod" value="0" readonly></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="Know:academics-ranks" type="number" name="attr_knowdungeon-ranks" value="0"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="Know:academics-misc" type="number" name="attr_knowdungeon-misc" value="0"></td>
										<td style="min-width: 35px; width: 35px;"><span class="sheet-cs-show" name="attr_knowdungeon-bonus"></span></td>
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill sheet-skills-text" style="width: 100%;"><input title="Know:academics-notes" type="text" name="attr_knowdungeon-notes"></td>
									</tr>								    
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Know:Ancient History check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_KnowHistory-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Ancient History}} {{result=[[[[{@{knowhistory-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{knowhistory-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Know:Ancient History check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_KnowHistory-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Ancient History}} {{result=[[[[{@{knowhistory-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{knowhistory-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Ancient History</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowhistory-total}" type="number" name="attr_knowhistory-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowhistory-ability" name="attr_knowhistory-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowhistory-mod}" type="number" name="attr_knowhistory-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowhistory-ranks}" type="number" name="attr_knowhistory-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowhistory-misc}" type="number" name="attr_knowhistory-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowhistory-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowhistory-notes}" type="text" name="attr_knowhistory-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Know:Magic check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_KnowMagic-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Magic}} {{result=[[[[{@{knowarcana-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{knowarcana-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Know:Magic check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_KnowMagic-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Magic}} {{result=[[[[{@{knowarcana-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{knowarcana-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Magic</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="Know:magic-total}" type="number" name="attr_knowarcana-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="Know:magic-ability" name="attr_knowarcana-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowmagic-mod}" type="number" name="attr_knowarcana-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowmagic-ranks}" type="number" name="attr_knowarcana-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowmagic-misc}" type="number" name="attr_knowarcana-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowarcana-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{knowmagic-notes}" type="text" name="attr_knowarcana-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Know:Nature check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_KnowNature-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Nature}} {{result=[[[[{@{knownature-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{knownature-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Know:Nature check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_KnowNature-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Nature}} {{result=[[[[{@{knownature-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{knownature-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Nature</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knownature-total}" type="number" name="attr_knownature-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knownature-ability" name="attr_knownature-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knownature-mod}" type="number" name="attr_knownature-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knownature-ranks}" type="number" name="attr_knownature-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knownature-misc}" type="number" name="attr_knownature-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knownature-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{knownature-notes}" type="text" name="attr_knownature-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Know:Nautical check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_KnowNautical-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Nautical}} {{result=[[[[{@{knowengineer-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{knowengineer-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Know:Nautical check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_KnowNautical-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Nautical}} {{result=[[[[{@{Knowengineer-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{knowengineer-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Nautical</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knownautical-total}" type="number" name="attr_knowengineer-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="know:nautical-ability" name="attr_knowengineer-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knownautical-mod}" type="number" name="attr_knowengineer-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knownautical-ranks}" type="number" name="attr_knowengineer-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knownautical-misc}" type="number" name="attr_knowengineer-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowengineer-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{knownautical-notes}" type="text" name="attr_knowengineer-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Know:Planar check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_KnowPlanar-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Planar}} {{result=[[[[{@{knowplanes-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{knowplanes-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Know:Planar check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_KnowPlanar-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge Planar}} {{result=[[[[{@{knowplanes-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{knowplanes-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Planar</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowplanes-total}" type="number" name="attr_knowplanes-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowplanes-ability" name="attr_knowplanes-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowplanes-mod}" type="number" name="attr_knowplanes-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowplanes-ranks}" type="number" name="attr_knowplanes-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowplanes-misc}" type="number" name="attr_knowplanes-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowplanes-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{knowplanes-notes}" type="text" name="attr_knowplanes-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Know1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: @{know1}}} {{result=[[[[{@{knowgeography-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{know1-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Knowledge check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Know1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: @{know1}}} {{result=[[[[{@{knowgeography-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{know1-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: <input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{know:1}" name="attr_know1" type="text"></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{know1-total}" type="number" name="attr_knowgeography-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="know1-ability" name="attr_knowgeography-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{know1-mod}" type="number" name="attr_knowgeography-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{know1-ranks}" type="number" name="attr_knowgeography-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{know1-misc}" type="number" name="attr_knowgeography-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowgeography-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{know1-notes}" type="text" name="attr_know1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Know2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: @{know2}}} {{result=[[[[{@{knowlocal-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{know2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Knowledge check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Know2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: @{know2}}} {{result=[[[[{@{knowlocal-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{know2-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text">Knowledge: <input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{know:2}" name="attr_know2" type="text"></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{know2-total}" type="number" name="attr_knowlocal-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="know2-ability" name="attr_knowlocal-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowlocal-mod}" type="number" name="attr_knowlocal-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowlocal-ranks}" type="number" name="attr_knowlocal-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowlocal-misc}" type="number" name="attr_knowlocal-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowlocal-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{know2-notes}" type="text" name="attr_know2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Know3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: @{know3}}} {{result=[[[[{@{knownobility-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{know3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Knowledge check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Know3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: @{know3}}} {{result=[[[[{@{knownobility-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{know3-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text">Knowledge: <input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{know:3}" name="attr_know3" type="text"></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{know3-total}" type="number" name="attr_knownobility-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knownobility-ability" name="attr_knownobility-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{know3-mod}" type="number" name="attr_knownobility-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{know3-ranks}" type="number" name="attr_knownobility-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{know3-misc}" type="number" name="attr_knownobility-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knownobility-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{know3-notes}" type="text" name="attr_know3-notes"></td>
									</tr>
								</table>
							</div>	
								<table class="sheet-table-skill">	
									<tr>
										<td style="min-width: 24px; width: 24px;"></td>
										<td class="sheet-label-top" style="min-width: 35px; width: 35px;"></td>
										<td class="sheet-label-top" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;"></td>
										<td class="sheet-label-top" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;"></td>
										<td class="sheet-label-top" style="min-width: 60px; width: 60px;"></td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;"></td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;"></td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;"></td>
										<td class="sheet-label-top" style="min-width: 35px; width: 35px;"></td>
										<td class="sheet-label-top" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-label-top" style="width: 100%;"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Acrobatics check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Acrobatics-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Acrobatics}} {{result=[[[[{@{acrobatics-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{acrobatics-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Acrobatics check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Acrobatics-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Acrobatics}} {{result=[[[[{@{acrobatics-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{acrobatics-notes}}}"></button></td>
										<td class="sheet-label-skill">Acrobatics</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{acrobatics-total}" type="number" name="attr_acrobatics-total" value="0"></td>
										<td class="sheet-data-skill">
											<select title="acrobatics-ability" name="attr_acrobatics-ability">
												<option value="0">---</option>
												<option value="dex-mod" selected>DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{acrobatics-mod}" type="number" name="attr_acrobatics-mod" value="0"></td>
										<td class="sheet-data-skill"><input title="@{acrobatics-ranks}" type="number" name="attr_acrobatics-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{acrobatics-misc}" type="number" name="attr_acrobatics-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_acrobatics-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{acrobatics-acp}" name="attr_acrobatics-acp" value="acp" checked></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{acrobatics-notes}" type="text" name="attr_acrobatics-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Athletics check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Athletics-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Athletics}} {{result=[[[[{@{climb-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{climb-notes}}}"></button></td>
										<td style="min-width: 35px; width: 35px;"><button class="sheet-text-button" title="Athletics check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Athletics-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Athletics}} {{result=[[[[{@{climb-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{climb-notes}}}"></button></td>
										<td class="sheet-label-skill" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Athletics</td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input class="sheet-total" title="@{climb-total}" type="number" name="attr_climb-total" readonly value="0"></td>
										<td class="sheet-data-skill" style="min-width: 60px; width: 60px;">
											<select title="climb-ability" name="attr_climb-ability">
												<option value="0">---</option>
												<option selected value="str-mod">STR</option>
											    <option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{climb-mod}" type="number" name="attr_climb-mod" value="0" readonly></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{climb-ranks}" type="number" name="attr_climb-ranks" value="0"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{climb-misc}" type="number" name="attr_climb-misc" value="0"></td>
										<td style="min-width: 35px; width: 35px;"><span class="sheet-cs-show" name="attr_climb-bonus"></span></td>
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"><input type="checkbox" title="@{climb-acp}" name="attr_climb-acp" value="acp" checked></td>
										<td class="sheet-data-skill sheet-skills-text" style="width: 100%;"><input title="@{climb-notes}" type="text" name="attr_climb-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Business check roll [Total(d10) success=8+ roll 10again]" type="roll" name="roll_Business-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Business}} {{result=[[[[{@{business-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{business-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Business check roll [Total(d10) success=8+ roll 9+again]" type="roll" name="roll_Business-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Business}} {{result=[[[[{@{business-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{business-notes}}}"></button></td>
										<td class="sheet-label-skill">Business</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{business-total}" type="number" name="attr_business-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="business-ability" name="attr_business-ability">
												<option value="0">---</option>
												<option value="int-mod">INT</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{business-mod}" type="number" name="attr_business-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{business-ranks}" type="number" name="attr_business-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{business-misc}" type="number" name="attr_business-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_business-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{business-notes}" type="text" name="attr_business-notes"></td>
									</tr>	
									
								</table>
							
								
									
								<table class= "sheet-table-skill">	
									<tr class="sheet-table-row-skill">
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Deception check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Deception-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Deception}} {{result=[[[[{@{deception-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{deception-notes}}}"></button></td>
										<td style="min-width: 35px; width: 35px;"><button class="sheet-text-button" title="Deception check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Deception-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Deception}} {{result=[[[[{@{deception-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{deception-notes}}}"></button></td>
										<td class="sheet-label-skill" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Deception</td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input class="sheet-total" title="@{deception-total}" type="number" name="attr_deception-total" readonly value="0"></td>
										<td class="sheet-data-skill" style="min-width: 60px; width: 60px;">
											<select title="deception-ability" name="attr_deception-ability">
												<option value="0">---</option>
												<option value="wil-mod">WIL</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{deception-mod}" type="number" name="attr_deception-mod" value="0" readonly></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{deception-ranks}" type="number" name="attr_deception-ranks" value="0"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{deception-misc}" type="number" name="attr_deception-misc" value="0"></td>
										<td style="min-width: 35px; width: 35px;"><span class="sheet-cs-show" name="attr_deception-bonus"></span></td>
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill sheet-skills-text" style="width: 100%;"><input title="@{deception-notes}" type="text" name="attr_deception-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Diplomacy check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Diplomacy-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Diplomacy}} {{result=[[[[{@{diplomacy-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{diplomacy-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Diplomacy check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Diplomacy-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Diplomacy}} {{result=[[[[{@{diplomacy-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{diplomacy-notes}}}"></button></td>
										<td class="sheet-label-skill">Diplomacy</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{diplomacy-total}" type="number" name="attr_diplomacy-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="diplomacy-ability" name="attr_diplomacy-ability">
												<option value="0">---</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{diplomacy-mod}" type="number" name="attr_diplomacy-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{diplomacy-ranks}" type="number" name="attr_diplomacy-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{diplomacy-misc}" type="number" name="attr_diplomacy-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_diplomacy-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{diplomacy-notes}" type="text" name="attr_diplomacy-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Disable Device check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_DisableDevice-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Disabledevice}} {{result=[[[[{@{disabledevice-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{disabledevice-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Disable Device check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_DisableDevice-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Disabledevice}} {{result=[[[[{@{disabledevice-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{disabledevice-notes}}}"></button></td>
										<td class="sheet-label-skill">Disable Device</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{disabledevice-total}" type="number" name="attr_disabledevice-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="disabledevice-ability" name="attr_disabledevice-ability">
												<option value="0">---</option>
												<option selected value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{disabledevice-mod}" type="number" name="attr_disabledevice-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{disabledevice-ranks}" type="number" name="attr_disabledevice-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{disabledevice-misc}" type="number" name="attr_disabledevice-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_disabledevice-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{disabledevice-notes}" type="text" name="attr_disabledevice-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Escape artist check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_EscapeArtist-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Escapeartist}} {{result=[[[[{@{escapeartist-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{escapeartist-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Escape artist check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_EscapeArtist-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Escapeartist}} {{result=[[[[{@{escapeartist-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{escapeartist-notes}}}"></button></td>
										<td class="sheet-label-skill">Escape Artist</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{escapeartist-total}" type="number" name="attr_escapeartist-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="escapeartist-ability" name="attr_escapeartist-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">DEX</option>	
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{escapeartist-mod}" type="number" name="attr_escapeartist-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{escapeartist-ranks}" type="number" name="attr_escapeartist-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{escapeartist-misc}" type="number" name="attr_escapeartist-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_escapeartist-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{escapeartist-notes}" type="text" name="attr_escapeartist-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Gather Information check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_GatherInformation-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Gather Information}} {{result=[[[[{@{gatherinformation-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{gatherinformation-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Gather Information check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_GatherInformation-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Gather Information}} {{result=[[[[{@{gatherinformation-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{gatherinformation-notes}}}"></button></td>
										<td class="sheet-label-skill">Gather Information</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{gatherinformation-total}" type="number" name="attr_gatherinformation-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="gatherinformation-ability" name="attr_gatherinformation-ability">
												<option value="0">---</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{gatherinformation-mod}" type="number" name="attr_gatherinformation-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{gatherinformation-ranks}" type="number" name="attr_gatherinformation-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{gatherinformation-misc}" type="number" name="attr_gatherinformation-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_gatherinformation-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{gatherinformation-notes}" type="text" name="attr_gatherinformation-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Handle Animal check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_HandleAnimal-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Handle Animal}} {{result=[[[[{@{handleanimal-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{handleanimal-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Handle Animal check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_HandleAnimal-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Handle Animal}} {{result=[[[[{@{handleanimal-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{handleanimal-notes}}}"></button></td>
										<td class="sheet-label-skill">Handle Animal</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{handleanimal-total}" type="number" name="attr_handleanimal-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="handleanimal-ability" name="attr_handleanimal-ability">
												<option value="0">---</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{handleanimal-mod}" type="number" name="attr_handleanimal-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{handleanimal-ranks}" type="number" name="attr_handleanimal-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{handleanimal-misc}" type="number" name="attr_handleanimal-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_handleanimal-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{handleanimal-notes}" type="text" name="attr_handleanimal-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Intimidate check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Intimidate-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Intimidate}} {{result=[[[[{@{intimidate-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{intimidate-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Intimidate check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Intimidate-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Intimidate}} {{result=[[[[{@{intimidate-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{intimidate-notes}}}"></button></td>
										<td class="sheet-label-skill">Intimidate</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{intimidate-total}" type="number" name="attr_intimidate-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="intimidate-ability" name="attr_intimidate-ability">
												<option value="0">---</option>
												<option value="wil-mod">WIL</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{intimidate-mod}" type="number" name="attr_intimidate-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{intimidate-ranks}" type="number" name="attr_intimidate-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{intimidate-misc}" type="number" name="attr_intimidate-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_intimidate-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{intimidate-notes}" type="text" name="attr_intimidate-notes"></td>
									</tr>   									
									<tr class="sheet-table-row-skill">
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Leadership check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Leadership-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Leadership}} {{result=[[[[{@{leadership-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{leadership-notes}}}"></button></td>
										<td style="min-width: 35px; width: 35px;"><button class="sheet-text-button" title="Leadership check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Leadership-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Leadership}} {{result=[[[[{@{leadership-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{leadership-notes}}}"></button></td>
										<td class="sheet-label-skill" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Leadership</td>
										<td style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input class="sheet-total" title="@{leadership-total}" type="number" name="attr_leadership-total" readonly value="0"></td>
										<td class="sheet-data-skill" style="min-width: 60px; width: 60px;">
											<select title="leadership-ability" name="attr_leadership-ability">
												<option value="0">---</option>
												<option value="wil-mod">WIL</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{leadership-mod}" type="number" name="attr_leadership-mod" value="0" readonly></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{leadership-ranks}" type="number" name="attr_leadership-ranks" value="0"></td>
										<td class="sheet-data-skill" style="min-width: 40px; width: 40px;"><input title="@{leadership-misc}" type="number" name="attr_leadership-misc" value="0"></td>
										<td style="min-width: 35px; width: 35px;"><span class="sheet-cs-show" name="attr_leadership-bonus"></span></td>
										<td class="sheet-data-skill" style="min-width: 28px; width: 28px;"></td>
										<td class="sheet-data-skill sheet-skills-text" style="width: 100%;"><input title="@{leadership-notes}" type="text" name="attr_leadership-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Medicine check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Medicine-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Medicine}} {{result=[[[[{@{medicine-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{medicine-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Medicine check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Medicine-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Medicine}} {{result=[[[[{@{medicine-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{medicine-notes}}}"></button></td>
										<td class="sheet-label-skill">Medicine</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{medicine-total}" type="number" name="attr_medicine-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="medicine-ability" name="attr_medicine-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{medicine-mod}" type="number" name="attr_medicine-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{medicine-ranks}" type="number" name="attr_medicine-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{medicine-misc}" type="number" name="attr_medicine-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_medicine-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{medicine-notes}" type="text" name="attr_medicine-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perception check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Perception-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perception}} {{result=[[[[{@{perception-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{perception-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Perception check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Perception-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perception}} {{result=[[[[{@{perception-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{perception-notes}}}"></button></td>
										<td class="sheet-label-skill">Perception</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perception-total}" type="number" name="attr_perception-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perception-ability" name="attr_perception-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perception-mod}" type="number" name="attr_perception-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perception-ranks}" type="number" name="attr_perception-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perception-misc}" type="number" name="attr_perception-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perception-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{perception-notes}" type="text" name="attr_perception-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perform check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Perform1-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform:@{perform1}}} {{result=[[[[{@{perform1-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{perform1-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Perform check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Perform1-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform:@{perform1}}} {{result=[[[[{@{perform1-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{perform1-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text"><div class="sheet-flex-container">Perform: <input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{perform1}" name="attr_perform1" type="text"></div></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perform1-total}" type="number" name="attr_perform1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perform1-ability" name="attr_perform1-ability">
												<option value="0">---</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perform1-mod}" type="number" name="attr_perform1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perform1-ranks}" type="number" name="attr_perform1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perform1-misc}" type="number" name="attr_perform1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perform1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{perform1-notes}" type="text" name="attr_perform1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perform check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Perform2-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform:@{perform2}}} {{result=[[[[{@{perform2-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{perform2-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Perform check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Perform2-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform:@{perform2}}} {{result=[[[[{@{perform2-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{perform2-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text"><div class="sheet-flex-container">Perform: <input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{perform2}" name="attr_perform2" type="text"></div></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perform2-total}" type="number" name="attr_perform2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perform2-ability" name="attr_perform2-ability">
												<option value="0">---</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perform2-mod}" type="number" name="attr_perform2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perform2-ranks}" type="number" name="attr_perform2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perform2-misc}" type="number" name="attr_perform2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perform2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{perform2-notes}" type="text" name="attr_perform2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perform check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Perform3-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform:@{perform3}}} {{result=[[[[{@{perform3-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{perform3-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Perform check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Perform3-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform:@{perform3}}} {{result=[[[[{@{perform3-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{perform3-notes}}}"></button></td>
										<td class="sheet-data-skill sheet-skills-text"><div class="sheet-flex-container">Perform: <input style="min-width: 120px; width: 120px; padding-bottom: 5px;" title="@{perform3}" name="attr_perform3" type="text"></div></td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perform3-total}" type="number" name="attr_perform3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perform3-ability" name="attr_perform3-ability">
												<option value="0">---</option>
												<option selected value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perform3-mod}" type="number" name="attr_perform3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perform3-ranks}" type="number" name="attr_perform3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perform3-misc}" type="number" name="attr_perform3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perform3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{perform3-notes}" type="text" name="attr_perform3-notes"></td>
									</tr>
										<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Pick Lock check roll [Total d10 success=8+ roll 10again]" type="roll" name="PickLock-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=PickLock}} {{result=[[[[{@{picklock-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{picklock-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Pick Lock check roll [Total d10 success=8+ roll 9+again]" type="roll" name="PickLock-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=PickLock}} {{result=[[[[{@{picklock-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{picklock-notes}}}"></button></td>
										<td class="sheet-label-skill">PickLock</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{picklock-total}" type="number" name="attr_picklock-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="picklock-ability" name="attr_picklock-ability">
												<option value="0">---</option>											
												<option selected value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{picklock-mod}" type="number" name="attr_picklock-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{picklock-ranks}" type="number" name="attr_picklock-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{picklock-misc}" type="number" name="attr_picklock-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_picklock-bonus"></span></td>
										<td></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{picklock-notes}" type="text" name="attr_picklock-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Ride check roll [Total d10 success=8+ roll 10again]" type="roll" name="Ride-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ride}} {{result=[[[[{@{ride-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{ride-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Ride check roll [Total d10 success=8+ roll 9+again]" type="roll" name="Ride-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ride}} {{result=[[[[{@{ride-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{ride-notes}}}"></button></td>
										<td class="sheet-label-skill">Ride</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{ride-total}" type="number" name="attr_ride-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="ride-ability" name="attr_ride-ability">
												<option value="0">---</option>											
												<option selected value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{ride-mod}" type="number" name="attr_ride-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{ride-ranks}" type="number" name="attr_ride-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{ride-misc}" type="number" name="attr_ride-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_ride-bonus"></span></td>
										<td></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{ride-notes}" type="text" name="attr_ride-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Search check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Search-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Search}} {{result=[[[[{@{search-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{search-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Search check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Search-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Search}} {{result=[[[[{@{search-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{search-notes}}}"></button></td>
										<td class="sheet-label-skill">Search</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{search-total}" type="number" name="attr_search-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="search-ability" name="attr_search-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{search-mod}" type="number" name="attr_search-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{search-ranks}" type="number" name="attr_search-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{search-misc}" type="number" name="attr_search-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_search-bonus"></span></td>
										<td></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{search-notes}" type="text" name="attr_search-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Sense Motive check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_SenseMotive-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sense Motive}} {{result=[[[[{@{sensemotive-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{sensemotive-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Sense Motive check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_SenseMotive-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sense Motive}} {{result=[[[[{@{sensemotive-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{sensemotive-notes}}}"></button></td>
										<td class="sheet-label-skill">Sense Motive</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{sensemotive-total}" type="number" name="attr_sensemotive-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="sensemotive-ability" name="attr_sensemotive-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{sensemotive-mod}" type="number" name="attr_sensemotive-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{sensemotive-ranks}" type="number" name="attr_sensemotive-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{sensemotive-misc}" type="number" name="attr_sensemotive-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_sensemotive-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{sensemotive-notes}" type="text" name="attr_sensemotive-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Sleight of Hand check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_SleightofHand-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sleight of Hand}} {{result=[[[[{@{sleightofhand-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{sleightofhand-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Sleight of Hand check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_SleightofHand-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sleight of Hand}} {{result=[[[[{@{sleightofhand-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{sleightofhand-notes}}}"></button></td>
										<td class="sheet-label-skill">Sleight of Hand</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{sleightofhand-total}" type="number" name="attr_sleightofhand-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="sleightofhand-ability" name="attr_sleightofhand-ability">
												<option value="0">---</option>
												<option selected value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{sleightofhand-mod}" type="number" name="attr_sleightofhand-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{sleightofhand-ranks}" type="number" name="attr_sleightofhand-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{sleightofhand-misc}" type="number" name="attr_sleightofhand-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_sleightofhand-bonus"></span></td>
										<td></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{sleightofhand-notes}" type="text" name="attr_sleightofhand-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Stealth check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Stealth-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Stealth}} {{result=[[[[{@{stealth-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{stealth-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Stealth check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Stealth-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Stealth}} {{result=[[[[{@{stealth-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{stealth-notes}}}"></button></td>
										<td class="sheet-label-skill">Stealth</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{stealth-total}" type="number" name="attr_stealth-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="stealth-ability" name="attr_stealth-ability">
												<option value="0">---</option>
												<option selected value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{stealth-mod}" type="number" name="attr_stealth-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{stealth-ranks}" type="number" name="attr_stealth-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{stealth-misc}" type="number" name="attr_stealth-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_stealth-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{stealth-acp}" name="attr_stealth-acp" value="acp" checked></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{stealth-notes}" type="text" name="attr_stealth-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Survival check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Survival-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Survival}} {{result=[[[[{@{survival-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{survival-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Survival check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Survival-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Survival}} {{result=[[[[{@{survival-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{survival-notes}}}"></button></td>
										<td class="sheet-label-skill">Survival</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{survival-total}" type="number" name="attr_survival-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="survival-ability" name="attr_survival-ability">
												<option value="0">---</option>
												<option selected value="int-mod">INT</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{survival-mod}" type="number" name="attr_survival-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{survival-ranks}" type="number" name="attr_survival-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{survival-misc}" type="number" name="attr_survival-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_survival-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{survival-notes}" type="text" name="attr_survival-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Swim check roll [Total d10 success=8+ roll 10again]" type="roll" name="roll_Swim-check" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Swim}} {{result=[[[[{@{swim-total} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{swim-notes}}}"></button></td>
										<td><button class="sheet-text-button" title="Swim check roll [Total d10 success=8+ roll 9+again]" type="roll" name="roll_Swim-9Again" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Swim}} {{result=[[[[{@{swim-total} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{swim-notes}}}"></button></td>
										<td class="sheet-label-skill">Swim</td>
										<td></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{swim-total}" type="number" name="attr_swim-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="swim-ability" name="attr_swim-ability">
												<option value="0">---</option>
												<option selected value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{swim-mod}" type="number" name="attr_swim-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{swim-ranks}" type="number" name="attr_swim-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{swim-misc}" type="number" name="attr_swim-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_swim-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{swim-acp}" name="attr_swim-acp" value="acp" checked></td>
										<td class="sheet-data-skill sheet-skills-text"><input title="@{swim-notes}" type="text" name="attr_swim-notes"></td>
									</tr>
									<tr style="height: 25px; line-height: 23px;">
										<td></td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">untrained penalty:</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Cha/Wil=0</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Str/Dex=1</td>
										<td></td>
										<td></td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Int=2</td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"></td>
										<td><span class="sheet-cs-show"></td>
										<td></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-feats">
			<div class="sheet-background sheet-benefits-color sheet-benefits-text">
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle sheet-benefits-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">BENEFITS</div>
							<div class="sheet-box-content">
								<fieldset class="repeating_feats sheet-benefits-text">
									<table>
										<tr>
											<td class="sheet-label-top" style="width: 250px;">Name:</td>
										<tr>
											<td><input title="Benefit name" type="text" class="sheet-benefits-text" name="attr_benefit-name"></td>
											<td style="width: 40px;"><button class="button send" type="roll" title="Show benefit on chat" value="@{gmroll} &{template:special} {{charName=@{character_name}}} {{rollType=Rank @{benefit-rank} Benefit}} {{name=@{benefit-name}}} {{desc=@{feat-benefits}}}"></button></td>
											<td class="sheet-label-top" style="width: 50px;">Rank</td>
											<td style="width: 40px;"><input title="Rank" type="number" value="0" name="attr_benefit-rank"></td>
											<td class="sheet-label-left" style="width: 50px;">Uses</td>
											<td style="width: 40px;"><input title="Feature uses/day used" type="number" value="0" name="attr_feat-uses"></td>
											<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
											<td style="width: 40px;"><input title="Feature uses/day max" type="number" value="0" name="attr_feat-uses_max"></td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide feat benefits" class="sheet-expander" name="attr_ctrl-feat-show-details" value="hide"><span></span></td>
										</tr>
									</table>
									<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-feat-show-details" value="hide">
									<div class="sheet-expansion-area">
										<table>
											<tr>
												<td><textarea class="sheet-resizeable sheet-benefits-text" rows="3" cols="50" placeholder="Description" type="text" name="attr_feat-benefits"></textarea></td>
											</tr>
											<tr>
												<td><hr></td>
											</tr>
										</table>
									</div>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-spells">
			<div class="sheet-background sheet-abilities-color sheet-abilities-text">
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle sheet-abilities-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">Abilities</div>
							<div class="sheet-box-content">
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-0" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-1" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-2" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-3" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-4" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-5" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-6" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-7" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-8" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-9" value="shown" checked>
								<input type="number" name="attr_spells-amount-0" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-1" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-2" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-3" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-4" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-5" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-6" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-7" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-8" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-9" value=0 style="display: none;">
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; font-weight: bold; padding-left: 6px;">Rank 1</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-0" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-0">0 abilities</span></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-0" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
									</table>
									<fieldset class="repeating_spells-0">
										<table>
											<tr>
												<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
												<td class="sheet-label-top" style="width: 160px;">Name</td>
												<td class="sheet-label-top" style="width: 120px;">Source</td>
												<td class="sheet-label-top" style="width: 50%;">Range</td>
												<td class="sheet-label-top" style="width: 50%;">Target Area</td>
												<td class="sheet-label-top" style="width: 75px;"></td>
												<td class="sheet-label-top" style="width: 35px;"></td>
												<td class="sheet-label-top" style="width: 120px;">Casting Dice Total</td>
												<td class="sheet-label-top" style="width: 24px;"></td>
											</tr>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-damage}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{Casting=@{casting}}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{HighestRank=@{spell-resistance}}} {{ManaCost=@{mana-cost}}}  {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" class="sheet-abilities-text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 120px;"><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_spell-school"></td>
												<td style="width: 50%;"><input title="Spell range" type="text" class="sheet-abilities-text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell target/area/effect" type="text" class="sheet-abilities-text" name="attr_spell-target-area-effect"></td>
												<td style="width: 75px;"><input type="text" class="sheet-abilities-text" name="attr_spell-type" value="Area" hidden="true"></td>
												<td style="width: 35px;"></td>
												<td style="width: 120px;">
													<select type="text" name="attr_spell-damage">
														<option value="">No Check</option>
														<option value="[[[[{@{channeling-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Channeling</option>
														<option value="[[[[{@{magecraft-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Magecraft</option>
														<option value="[[[[{@{shamanism-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Shamanism</option>
														<option value="[[[[{@{sorcery-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Sorcery</option>
													</select>
												</td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
										<table>
											<tr>
												<td class="sheet-label-left" style="width: 66px;">Casting</td>
												<td><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_casting"></td>
												<td class="sheet-label-top" style="width: 66px;">Casting<br>Action</td>
												<td style="width: 125px;">
													<select type="text" name="attr_spell-casting-time">
														<option value="">---</option>
														<option value="Free Action">Free Action</option>
														<option value="Swift Action">Fast Action</option>
														<option value="Move Action">Move Action</option>
														<option selected value="Standard Action">Standard Action</option>
														<option value="Full-Round Action">Full-Round Action</option>
														<option value="Ritual Action">Ritual Action</option>
													</select>
												</td>
												<td class="sheet-label-left" style="width: 66px;">Duration</td>
												<td><input title="Spell duration" type="text" class="sheet-abilities-text" name="attr_spell-duration"></td>
											</tr>
											<tr>
													
												<td class="sheet-label-top">Highest<br>Rank</td>
												<td>
													<select type="number" name="attr_spell-resistance">
														<option value="1">Rank1</option>
														<option value="2">Rank2</option>
														<option value="3">Rank3</option>
														<option value="4">Rank4</option>
														<option value="5">Rank5</option>
													</select>
												</td>
												<td class="sheet-label-top">Mana<br>Cost</td>
												<td><input title="Spell source class" type="text" class="sheet-abilities-text" name="attr_mana-cost"></td>
											</tr>
											<tr>
												<td colspan="6">
													<textarea class="sheet-resizeable sheet-abilities-text" style="height: 50px;" cols="50" placeholder="Spell description"  name="attr_spell-description"></textarea>
													<hr>
												</td>
											</tr>
										</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; font-weight: bold; padding-left: 6px;">Rank 2</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-1" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-1">0 abilities</span></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-1" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
									</table>
									<fieldset class="repeating_spells-1">
										<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 120px;">Source</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Target Area</td>
											<td class="sheet-label-top" style="width: 75px;"></td>
											<td class="sheet-label-top" style="width: 35px;"></td>
											<td class="sheet-label-top" style="width: 120px;">Casting Dice Total</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-damage}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{Casting=@{casting}}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{HighestRank=@{spell-resistance}}} {{ManaCost=@{mana-cost}}}  {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" class="sheet-abilities-text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 120px;"><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_spell-school"></td>
												<td style="width: 50%;"><input title="Spell range" type="text" class="sheet-abilities-text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell target/area/effect" type="text" class="sheet-abilities-text" name="attr_spell-target-area-effect"></td>
												<td style="width: 75px;"><input type="text" class="sheet-abilities-text" name="attr_spell-type" value="Area" hidden="true"></td>
												<td style="width: 35px;"></td>
												<td style="width: 120px;">
													<select type="text" name="attr_spell-damage">
														<option value="">No Check</option>
														<option value="[[[[{@{channeling-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Channeling</option>
														<option value="[[[[{@{magecraft-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Magecraft</option>
														<option value="[[[[{@{shamanism-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Shamanism</option>
														<option value="[[[[{@{sorcery-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Sorcery</option>
													</select>
												</td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
										<table>
											<tr>
												<td class="sheet-label-left" style="width: 66px;">Casting</td>
												<td><input title="Spell school" type="text" name="attr_casting"></td>
												<td class="sheet-label-top" style="width: 66px;">Casting<br>Action</td>
												<td style="width: 125px;">
													<select type="text" name="attr_spell-casting-time">
														<option value="">---</option>
														<option value="Free Action">Free Action</option>
														<option value="Swift Action">Fast Action</option>
														<option value="Move Action">Move Action</option>
														<option selected value="Standard Action">Standard Action</option>
														<option value="Full-Round Action">Full-Round Action</option>
														<option value="Ritual Action">Ritual Action</option>
													</select>
												</td>
												<td class="sheet-label-left" style="width: 66px;">Duration</td>
												<td><input title="Spell duration" type="text" class="sheet-abilities-text" name="attr_spell-duration"></td>
											</tr>
											<tr>	
												<td class="sheet-label-top">Highest<br>Rank</td>
												<td>
													<select type="number" name="attr_spell-resistance">
														<option value="1">Rank1</option>
														<option value="2">Rank2</option>
														<option value="3">Rank3</option>
														<option value="4">Rank4</option>
														<option value="5">Rank5</option>
													</select>
												</td>
												<td class="sheet-label-top">Mana<br>Cost</td>
												<td><input title="Spell source class" type="text" class="sheet-abilities-text" name="attr_mana-cost"></td>
											</tr>
											<tr>
												<td colspan="6">
													<textarea class="sheet-resizeable sheet-abilities-text" style="height: 50px;" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
													<hr>
												</td>
											</tr>
										</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; font-weight: bold; padding-left: 6px;">Rank 3</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-2" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-2">0 abilities</span></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-2" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
								<table>
								</table>
									<fieldset class="repeating_spells-2">
										<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 120px;">Source</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Target Area</td>
											<td class="sheet-label-top" style="width: 75px;"></td>
											<td class="sheet-label-top" style="width: 35px;"></td>
											<td class="sheet-label-top" style="width: 120px;">Casting Dice Total</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
										<tr>
											<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-damage}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{Casting=@{casting}}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{HighestRank=@{spell-resistance}}} {{ManaCost=@{mana-cost}}}  {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
											<td style="width: 160px;"><input title="Spell name" type="text" class="sheet-abilities-text" name="attr_spell-name" placeholder="Spell name"></td>
											<td style="width: 120px;"><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_spell-school"></td>
											<td style="width: 50%;"><input title="Spell range" type="text" class="sheet-abilities-text" name="attr_spell-range"></td>
											<td style="width: 50%;"><input title="Spell target/area/effect" type="text" class="sheet-abilities-text" name="attr_spell-target-area-effect"></td>
											<td style="width: 75px;"><input type="text" class="sheet-abilities-text" name="attr_spell-type" value="Area" hidden="true"></td>
											<td style="width: 35px;"></td>
											<td style="width: 120px;">
												<select type="text" name="attr_spell-damage">
													<option value="">No Check</option>
													<option value="[[[[{@{channeling-total} + @{spell-resistance}+ ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Channeling</option>
													<option value="[[[[{@{magecraft-total} + @{spell-resistance}+ ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Magecraft</option>
													<option value="[[[[{@{shamanism-total} + @{spell-resistance}+ ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Shamanism</option>
													<option value="[[[[{@{sorcery-total} + @{spell-resistance}+ ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Sorcery</option>
												</select>
											</td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
										</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
										<table>
											<tr>
												<td class="sheet-label-left" style="width: 66px;">Casting</td>
												<td><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_casting"></td>
												<td class="sheet-label-top" style="width: 66px;">Casting<br>Action</td>
												<td style="width: 125px;">
													<select type="text" name="attr_spell-casting-time">
														<option value="">---</option>
														<option value="Free Action">Free Action</option>
														<option value="Swift Action">Fast Action</option>
														<option value="Move Action">Move Action</option>
														<option selected value="Standard Action">Standard Action</option>
														<option value="Full-Round Action">Full-Round Action</option>
													    <option value="Ritual Action">Ritual Action</option>
													</select>
												</td>
												<td class="sheet-label-left" style="width: 66px;">Duration</td>
												<td><input title="Spell duration" type="text" class="sheet-abilities-text" name="attr_spell-duration"></td>
											</tr>
											<tr>		
												<td class="sheet-label-top">Highest<br>Rank</td>
												<td>
													<select type="number" name="attr_spell-resistance">
														<option value="1">Rank1</option>
														<option value="2">Rank2</option>
														<option value="3">Rank3</option>
														<option value="4">Rank4</option>
														<option value="5">Rank5</option>
													</select>
												</td>
												<td class="sheet-label-top">Mana<br>Cost</td>
												<td><input title="Spell source class" type="text" class="sheet-abilities-text" name="attr_mana-cost"></td>
											</tr>
											<tr>
												<td colspan="6">
													<textarea class="sheet-resizeable sheet-abilities-text" style="height: 50px;" placeholder="Spell description" name="attr_spell-description"></textarea>
													<hr>
												</td>
											</tr>
										</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; font-weight: bold; padding-left: 6px;">Rank 4</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-3" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-3">0 abilities</span></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-3" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
									</table>
									<fieldset class="repeating_spells-3">
										<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 120px;">Source</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Target Area</td>
											<td class="sheet-label-top" style="width: 75px;"></td>
											<td class="sheet-label-top" style="width: 35px;"></td>
											<td class="sheet-label-top" style="width: 120px;">Casting Dice Total</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
										<tr>
											<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-damage}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{Casting=@{casting}}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{HighestRank=@{spell-resistance}}} {{ManaCost=@{mana-cost}}}  {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
											<td style="width: 160px;"><input title="Spell name" type="text" class="sheet-abilities-text" name="attr_spell-name" placeholder="Spell name"></td>
											<td style="width: 120px;"><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_spell-school"></td>
											<td style="width: 50%;"><input title="Spell range" type="text" class="sheet-abilities-text" name="attr_spell-range"></td>
											<td style="width: 50%;"><input title="Spell target/area/effect" type="text" class="sheet-abilities-text" name="attr_spell-target-area-effect"></td>
											<td style="width: 75px;"><input type="text" class="sheet-abilities-text" name="attr_spell-type" value="Area" hidden="true"></td>
											<td style="width: 35px;"></td>
											<td style="width: 120px;">
												<select type="text" name="attr_spell-damage">
													<option value="">No Check</option>
													<option value="[[[[{@{channeling-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Channeling</option>
													<option value="[[[[{@{magecraft-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Magecraft</option>
													<option value="[[[[{@{shamanism-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Shamanism</option>
													<option value="[[[[{@{sorcery-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Sorcery</option>
												</select>
											</td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
										</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
										<table>
											<tr>
												<td class="sheet-label-left" style="width: 66px;">Casting</td>
												<td><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_casting"></td>
												<td class="sheet-label-top" style="width: 66px;">Casting<br>Action</td>
												<td style="width: 125px;">
													<select type="text" name="attr_spell-casting-time">
														<option value="">---</option>
														<option value="Free Action">Free Action</option>
														<option value="Swift Action">Fast Action</option>
														<option value="Move Action">Move Action</option>
														<option selected value="Standard Action">Standard Action</option>
														<option value="Full-Round Action">Full-Round Action</option>
													    <option value="Ritual Action">Ritual Action</option>
													</select>
												</td>
												<td class="sheet-label-left" style="width: 66px;">Duration</td>
												<td><input title="Spell duration" type="text" class="sheet-abilities-text" name="attr_spell-duration"></td>
											</tr>
											<tr>		
												<td class="sheet-label-top">Highest<br>Rank</td>
												<td>
													<select type="number" name="attr_spell-resistance">
														<option value="1">Rank1</option>
														<option value="2">Rank2</option>
														<option value="3">Rank3</option>
														<option value="4">Rank4</option>
														<option value="5">Rank5</option>
													</select>
												</td>
												<td class="sheet-label-top">Mana<br>Cost</td>
												<td><input title="Spell source class" type="text" class="sheet-abilities-text" name="attr_mana-cost"></td>
											</tr>
											<tr>
												<td colspan="6">
													<textarea class="sheet-resizeable sheet-abilities-text" style="height: 50px;" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
													<hr>
												</td>
											</tr>
										</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; font-weight: bold; padding-left: 6px;">Rank 5</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-4" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-4">0 abilities</span></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-4" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
									</table>	
									<fieldset class="repeating_spells-4">
									    <table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 120px;">Source</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Target Area</td>
											<td class="sheet-label-top" style="width: 75px;"></td>
											<td class="sheet-label-top" style="width: 35px;"></td>
											<td class="sheet-label-top" style="width: 120px;">Casting Dice Total</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
										<tr>
											<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-damage}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{Casting=@{casting}}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{HighestRank=@{spell-resistance}}} {{ManaCost=@{mana-cost}}}  {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
											<td style="width: 160px;"><input title="Spell name" type="text" class="sheet-abilities-text" name="attr_spell-name" placeholder="Spell name"></td>
											<td style="width: 120px;"><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_spell-school"></td>
											<td style="width: 50%;"><input title="Spell range" type="text"  class="sheet-abilities-text" name="attr_spell-range"></td>
											<td style="width: 50%;"><input title="Spell target/area/effect" type="text" class="sheet-abilities-text" name="attr_spell-target-area-effect"></td>
											<td style="width: 75px;"><input type="text" class="sheet-abilities-text" name="attr_spell-type" value="Area" hidden="true"></td>
											<td style="width: 35px;"></td>
											<td style="width: 120px;">
												<select type="text" name="attr_spell-damage">
													<option value="">No Check</option>
													<option value="[[[[{@{channeling-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Channeling</option>
													<option value="[[[[{@{magecraft-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Magecraft</option>
													<option value="[[[[{@{shamanism-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Shamanism</option>
													<option value="[[[[{@{sorcery-total} + @{spell-resistance} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]">Sorcery</option>
												</select>
											</td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
										</tr>
									</table>
									<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
									<div class="sheet-expansion-area">
									<table>
											<tr>
												<td class="sheet-label-left" style="width: 66px;">Casting</td>
												<td><input title="Spell school" type="text" class="sheet-abilities-text" name="attr_casting"></td>
												<td class="sheet-label-top" style="width: 66px;">Casting<br>Action</td>
												<td style="width: 125px;">
													<select type="text" name="attr_spell-casting-time">
														<option value="">---</option>
														<option value="Free Action">Free Action</option>
														<option value="Swift Action">Fast Action</option>
														<option value="Move Action">Move Action</option>
														<option selected value="Standard Action">Standard Action</option>
														<option value="Full-Round Action">Full-Round Action</option>
													    <option value="Ritual Action">Ritual Action</option>
													</select>
												</td>
												<td class="sheet-label-left" style="width: 66px;">Duration</td>
												<td><input title="Spell duration" type="text" class="sheet-abilities-text" name="attr_spell-duration"></td>
											</tr>
											<tr>		
												<td class="sheet-label-top">Highest<br>Rank</td>
												<td>
													<select type="number" name="attr_spell-resistance">
														<option value="1">Rank1</option>
														<option value="2">Rank2</option>
														<option value="3">Rank3</option>
														<option value="4">Rank4</option>
														<option value="5">Rank5</option>
													</select>
												</td>
												<td class="sheet-label-top">Mana<br>Cost</td>
												<td><input title="Spell source class" type="text" class="sheet-abilities-text" name="attr_mana-cost"></td>
											</tr>
											<tr>
												<td colspan="6">
													<textarea class="sheet-resizeable sheet-abilities-text" style="height: 50px;" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
													<hr>
												</td>
											</tr>
										</table>
										</div>
									</fieldset>
								</div>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="sheet-section-notes">
			<div class="sheet-background sheet-notes-color sheet-notes-text">
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle sheet-notes-border">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">NOTES</div>
							<div class="sheet-box-content">
								<textarea class="sheet-resizeable sheet-notes" rows="22" class="sheet-notes" type="text" name="attr_notes"></textarea>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<!-- MONSTER PAGE -->

	<div class="sheet-monster">
		<div class="sheet-background">
			<div class="sheet-box-outer" style="width: 65%; float: right; border-bottom: none;">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<div class="sheet-box-title">STATS</div>
						<div class="sheet-box-content">
						        <table>
									<tr>
										<td class="sheet-label-top" style="width: 50px;"></td>
										<td class="sheet-label-top">Current</td>
										<td class="sheet-label-top" style="width: 15px;"></td>
										<td class="sheet-label-top">Max</td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Health</td>
										<td><input title="@{hp}" type="number" name="attr_health" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{health-max}" type="number" name="attr_health_max" value="0"></td>
										<td><button class="sheet-text-button" title="Initiative roll [1d10 + total initiative bonus]" type="roll" name="roll_initiative" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=Initiative}} {{result=[[1d10+@{mon-init-total} &{tracker}]]}}"></button></td>
									    <td style="font-weight: bold;" class="sheet-label-left">Initiative:</td>
									    <td><input class="sheet-total" title="@{mon-init-total}" type="number" name="attr_mon-init-total" value=0></td>
										<td></td>
										<td></td>
									</tr>
									<tr class="sheet-mp-row">
										<td class="sheet-label-left">Vigor</td>
										<td><input title="@{vigor}" type="number" name="attr_vigor" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{vigor-max}" type="number" name="attr_vigor_max" value="0"></td>
									    <td></td>
									    <td></td>
										<td class="sheet-label-top">Land</td>
										<td></td>
										<td class="sheet-label-top">Air</td>
									</tr>
									<tr class="sheet-mp-row">
										<td class="sheet-label-left">Ward</td>
										<td><input title="@{ward}" type="number" name="attr_ward" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{ward-max}" type="number" name="attr_ward_max" value="0"></td>
									    <td></td>									
									    <td style="font-weight: bold; text-align=right;">Speed:</td>
									    <td><input title="@{speed-base}" type="number" name="attr_speed-base" value=0></td>
										<td></td>
										<td><input title="@{speed-fly}" type="number" name="attr_speed-fly" value=0></td>
									</tr>									
									<tr class="sheet-mp-row">
										<td></td>
										<td class="sheet-label-top">Dodge</td>
										<td></td>
										<td class="sheet-label-top">Armor/value</td>
									    <td></td>									
									    <td class="sheet-label-top">Reduction</td>
									    <td></td>
										<td></td>
										<td></td>
									</tr>									
								    <tr class="sheet-mp-row">
										<td class="sheet-label-left">Phy.Def</td>
										<td><input title="@{MonDodge}" type="number" name="attr_MonDodge" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;"></td>
										<td><input title="@{MonArmor}" type="number" name="attr_MonArmor" value="0"></td>
									    <td class="sheet-label-left">DR</td>
									    <td><input title="@{MonDR}" type="number" name="attr_MonDR" value="0"></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr class="sheet-mp-row">
										<td class="sheet-label-left">Mag.Def</td>
										<td></td>
										<td class="sheet-label-left" style="font-size: 150%;"></td>
										<td><input title="@{MonArmor}" type="number" name="attr_MagArmor" value="0"></td>
									    <td class="sheet-label-left">MDR</td>
									    <td><input title="@{MonMDR}" type="number" name="attr_MonMDR" value="0"></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
								</table>
								<hr>
								<div class="sheet-box-title">Resistances</div>
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 66px;"></td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
										<td class="sheet-label-top"></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Magic Resist roll [@magicresistD10]" type="roll" name="roll_fort-save" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Resistance}} {{rollTypeName=Magic}} {{result=[[[[{?{Modifiers?|0}+@{magicresist},1}kh1]]d10!>10>8]]Success(es)}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">Magic</td>
										<td><input class="sheet-total" title="@{magicresist}" type="number" name="attr_magicresist" value="0"></td>
										<td></td>
										<td><button class="sheet-text-button" title="Poison Resist roll [@poisonresistD10]" type="roll" name="roll_fort-save" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Resistance}} {{rollTypeName=Poison}} {{result=[[[[{?{Modifiers?|0}+@{poisonresist},1}kh1]]d10!>10>8]]Success(es)}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">Poison</td>
										<td><input class="sheet-total" title="@{poisonresist}" type="number" name="attr_poisonresist" value="0"></td>
										<td></td>
										<td><button class="sheet-text-button" title="Disease Resist roll [@diseaseresistD10]" type="roll" name="roll_fort-save" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Resistance}} {{rollTypeName=Disease}} {{result=[[[[{?{Modifiers?|0}+@{diseaseresist},1}kh1]]d10!>10>8]]Success(es)}}"></button></td>
										<td class="sheet-label-left" style="font-weight: bold;">Disease</td>
										<td><input class="sheet-total" title="@{diseaseresist}" type="number" name="attr_diseaseresist" value="0"></td>
									</tr>
								</table>	
						</div>
					</div>
				</div>
			</div>
			<div class="sheet-box-outer" style="width: 35%; height: 283px; position: relative; border-bottom: none; margin-right: 250px;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
						<div class="sheet-box-title">QUICK ROLLS</div>
							<table>
								<tr>
									<td></td>
									<td class="sheet-label-left" style= "color: #d9d9ff;" "font-weight: bold;">_</td>
								</tr>
								<tr>
									<td><button class="sheet-text-button" title="Standard 10 Again" type="roll" name="roll_TenAgain" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=10Again}} {{result=[[?{Dice Pool|1}d10!>10>8]]Success(es)}}"></button></td>
									<td class="sheet-label-left" style="font-weight: bold;">10 Again</td>
								</tr>
								<tr>
									<td></td>
									<td class="sheet-label-left" style= "color: #d9d9ff;" "font-weight: bold;">_</td>
								</tr>
								<tr>
									<td><button class="sheet-text-button" title="9 Again" type="roll" name="roll_NineAgain" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=9Again}} {{result=[[?{Dice Pool|1}d10!>9>8]]Success(es)}}"></button></td>
									<td class="sheet-label-left" style="font-weight: bold;">9 Again</td>
								</tr>
								<tr>
									<td></td>
									<td class="sheet-label-left" style= "color: #d9d9ff;" "font-weight: bold;">_</td>
								</tr>
								<tr>
									<td><button class="sheet-text-button" title="8 Again" type="roll" name="roll_EightAgain" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=8Again}} {{result=[[?{Dice Pool|1}d10!>8>8]]Success(es)}}"></button></td>
									<td class="sheet-label-left" style="font-weight: bold;">8 Again</td>
								</tr>
								<tr>
									<td></td>
									<td class="sheet-label-left" style= "color: #d9d9ff;" "font-weight: bold;">_</td>
								</tr>
								<tr>
									<td><button class="sheet-text-button" title="Crit Failure" type="roll" name="roll_CritFailure" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Dice}} {{rollTypeName=Check critical fail}} {{result=[[1d10<1]] (1=botch)}}"></button></td>
									<td class="sheet-label-left" style="font-weight: bold;">Critical Failure Check</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			    <div style="clear: both;"></div>
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">Special Qualities</div>
							<div class="sheet-box-content">
								<fieldset class="repeating_feats">
									<table>
										<tr>
											<td><input title="Special Quality name" type="text" placeholder="Name" name="attr_benefit-name"></td>
											<td style="width: 40px;"><button class="button send" type="roll" title="Show quality on chat" value="@{gmroll} &{template:special} {{charName=@{character_name}}} {{rollType=Rank @{benefit-rank} Benefit}} {{name=@{benefit-name}}} {{desc=@{feat-benefits}}}"></button></td>
											<td class="sheet-label-top" style="width: 50px;">Rank</td>
											<td style="width: 40px;"><input title="Rank" type="number" value="0" name="attr_benefit-rank"></td>
											<td class="sheet-label-left" style="width: 50px;">Uses</td>
											<td style="width: 40px;"><input title="Feature uses/day used" type="number" value="0" name="attr_feat-uses"></td>
											<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
											<td style="width: 40px;"><input title="Feature uses/day max" type="number" value="0" name="attr_feat-uses_max"></td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide feat benefits" class="sheet-expander" name="attr_ctrl-feat-show-details" value="hide"><span></span></td>
										</tr>
									</table>
									<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-feat-show-details" value="hide">
									<div class="sheet-expansion-area">
										<table>
											<tr>
												<td><textarea class="sheet-resizeable" style="height: 50px;" placeholder="Description" type="text" name="attr_feat-benefits"></textarea></td>
											</tr>
											<tr>
												<td><hr></td>
											</tr>
										</table>
									</div>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">Attacks</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 30%;">Weapon/Skill Name</td>
										<td class="sheet-label-top" style="width: 45px;"></td>
										<td class="sheet-label-top" style="width: 40px;">Dice</td>
										<td class="sheet-label-top" style="width: 40px;">Misc. Modifier</td>
										<td class="sheet-label-top" style="width: 65px;">Type</td>
										<td class="sheet-label-top" style="width: 65px;">Range</td>
										<td class="sheet-label-top" style="width: 50%;">Notes</td>
									</tr>
								</table>
								<fieldset class="repeating_weapons sheet-rolls-text">
									<table>
										<tr>
											<td style="width: 24px;"><button class="sheet-text-button" title="Attack roll [(Total)d10 success=8+ roll 10again]" type="roll" name="roll_attack" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=Attack}} {{rollTypeName=@{weapon-name}}} {{result=[[[[{@{weapon-attack-modifier} +@{weapon-ranks} + @{weapon-bonus} + @{weapon-misc} + ?{Modifiers?|0},1}kh1]]d10!>10>8]]}} {{notes=@{weapon-notes}}}"></button></td>
											<td style="width: 24px;"><button class="sheet-text-button" title="Attack roll [(Total)d10 success=8+ roll 9+again]" type="roll" name="roll_attack" value="@{gmroll} &{template:roll-check} {{charName=@{character_name}}} {{rollType=9 Again Attack}} {{rollTypeName=@{weapon-name}}} {{result=[[[[{@{weapon-attack-modifier} +@{weapon-ranks} + @{weapon-bonus} + @{weapon-misc} + ?{Modifiers?|0},1}kh1]]d10!>9>8]]}} {{notes=@{weapon-notes}}}"></button></td>
											<td style="width: 30%;"><input title="Weapon/Skill name" type="text" name="attr_weapon-name"></td>
											<td style="width: 40px;"><input title="Weapon/Skill attack bonus" type="number" name="attr_weapon-bonus" value=0></td>
											<td style="width: 40px;"><input title="Weapon/Skill attack misc. modifier" type="number" name="attr_weapon-misc" value=0></td>
											<td style="width: 65px;"><input title="Weapon type" type="text" name="attr_weapon-type"></td>
											<td style="width: 65px;"><input title="Weapon range" type="text" name="attr_weapon-range"></td>
											<td style="width: 40%;"><input title="Weapon/skill notes" type="text" name="attr_weapon-notes"></td>
										    <td style="width: 1px;"><input title="Weapon/Skill attack bonus" type="number" name="attr_weapon-ranks" value=0 hidden=true></td>
										    <td style="width: 1px;"><input title="Weapon/Skill attack bonus" type="number" name="attr_weapon-attack-modifier" value=0 hidden=true></td>
										</tr>
									</table>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
						<div style="clear: both;"></div>
					</div>
				</div>
		</div>
		</div>
	</div>

	<rolltemplate class="sheet-rolltemplate-weapon-attack">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">Attack</td>
							</tr>
							<tr><td colspan="2"><hr class="sheet-divider"></td></tr>
						</table>
						<div class="sheet-title">{{weaponName}}</div>
						<table>
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 65px;">Attack:</td>
								<td class="sheet-roll-result" style="width: 50px;">{{attack}}</td>
								<td class="sheet-label">vs. <span class="NotHighlighted">{{#vsArmor}}Touch{{/vsArmor}}{{^vsArmor}}AC{{/vsArmor}}</span></td>
								{{#^rollLess() attack critRange}}
							<tr>
								<td class="sheet-critical" style="height: 24px;" colspan="3">CRITICAL!</td>
							</tr>
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right;">Confirm:</td>
								<td class="sheet-roll-result">{{critConfirm}}</td>
								<td class="sheet-label">vs. <span class="NotHighlighted">{{#vsArmor}}Touch{{/vsArmor}}{{^vsArmor}}AC{{/vsArmor}}</span></td>
							</tr>
							{{/^rollLess() attack critRange}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right;">Damage:</td>
								<td class="sheet-roll-result">{{damage}}</td>
								{{#rollLess() attack critRange}}
								<td></td>
								{{/rollLess() attack critRange}}
								{{#^rollLess() attack critRange}}
								<td class="sheet-label NotHighlighted" style="text-align: left;">( <span style="font-weight: bold;">{{critMultiplier}}</span>)</td>
								{{/^rollLess() attack critRange}}
							</tr>
						</table>
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
						</table>
						<table>
							<tr>
								<td class="sheet-label-small" style="width: 50%;">Type: <span class="NotHighlighted">{{weaponType}}</span></td>
								<td class="sheet-label-small" style="width: 50%;">Range: <span class="NotHighlighted">{{weaponRange}}</span></td>
							</tr>
						</table>
						{{#weaponSpecial}}
						<table>
							<tr>
								<td class="sheet-label-small">Special: <span class="NotHighlighted">{{weaponSpecial}}</span></td>
							</tr>
						</table>
						{{/weaponSpecial}}
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-roll-check">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">{{rollType}}</td>
							</tr>
							<tr><td colspan="2"><hr class="sheet-divider"></td></tr>
						</table>
						<div class="sheet-title">{{rollTypeName}}{{#descriptor}}: {{descriptor}}{{/descriptor}}</div>
						<table>
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Result:</td>
								<td class="sheet-roll-result" style="width: 100%; color: #00e8d9;">{{result}}</td>
							</tr>
						</table>
						{{#condModifiers}}
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
							<tr>
								<td class="sheet-label-small" style="width: 100%;">Cond. Modifiers: <span class="NotHighlighted">{{condModifiers}}</span></td>
							</tr>
						</table>
						{{/condModifiers}}
						{{#notes}}
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
							<tr>
								<td class="sheet-label-small" style="width: 100%;">Notes: <span class="NotHighlighted">{{notes}}</span></td>
							</tr>
						</table>
						{{/notes}}
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-special">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">{{rollType}}</td>
							</tr>
							<tr>
								<td colspan="2"><hr class="sheet-divider"></td>
							</tr>
						</table>
						<div class="sheet-title">{{name}}{{#type}} ({{type}}){{/type}}</div>
						<table>
							{{#attackType}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Attack:</td>
								<td class="sheet-roll-result" style="width: 50px;">{{attack}}</td>
								<td class="sheet-label">vs. <span class="NotHighlighted">Touch</span></td>
							</tr>
							{{/attackType}}
							{{#^rollTotal() damage 0}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Damage:</td>
								<td class="sheet-roll-result">{{damage}}</td>
								<td></td>
							</tr>
							{{/^rollTotal() damage 0}}
							{{#desc}}
							<tr>
								<td colspan="3"><hr class="sheet-divider"></td>
							</tr>
							<tr>
								<td colspan="3" class="sheet-label-small NotHighlighted"><p class="desc-holder">{{desc}}</p></td>
							</tr>
							{{/desc}}
						</table>
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-spell">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">{{rollType}}</td>
							</tr>
							<tr>
								<td colspan="2"><hr class="sheet-divider"></td>
							</tr>
						</table>
						<div class="sheet-title">{{spellName}}</div>
						<table>
							{{#rollLess() failure failChance}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Spell Failed...</td>
								<td class="sheet-roll-result" style="width: 50px;">{{failure}} < {{failChance}}</td>
							</tr>
							{{/rollLess() failure failChance}}

							{{#^rollLess() failure failChance}}
							{{#attackType}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 65px;">Casting Roll:</td>
								<td class="sheet-roll-result" style="width: 50px;">{{attackType}}</td>
							</tr>
							{{/attackType}}
							{{#^rollTotal() damage 0}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 65px;">Damage:</td>
								<td class="sheet-roll-result">{{damage}}</td>
								<td></td>
							</tr>
						</table>
						{{/^rollTotal() damage 0}}
						{{/^rollLess() failure failChance}}
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
							{{#^rollLess() failure failChance}}
							{{#savingThrow}}
							<tr>
								<td class="sheet-label-small">Save: <span class="NotHighlighted">{{savingThrow}}</span> {{#dc}}DC <span class="NotHighlighted">{{dc}}</span>{{/dc}}</td>
							</tr>
							{{/savingThrow}}
							{{/^rollLess() failure failChance}}
							{{#school}}
							<tr>
								<td class="sheet-label-small">Source: <span class="NotHighlighted">{{school}}</span></td>
							</tr>
							{{/school}}
							{{#range}}
							<tr>
								<td class="sheet-label-small">Range: <span class="NotHighlighted">{{range}}</span></td>
							</tr>
							{{/range}}
							{{#target}}
							<tr>
								<td class="sheet-label-small">{{spellType}}: <span class="NotHighlighted">{{target}}</span></td>
							</tr>
							{{/target}}
							{{#duration}}
							<tr>
								<td class="sheet-label-small">Duration: <span class="NotHighlighted">{{duration}}</span></td>
							</tr>
							{{/duration}}
							{{#Casting}}
							<tr>
								<td class="sheet-label-small">Casting: <span class="NotHighlighted">{{Casting}}</span></td>
							</tr>
							{{/Casting}}
							{{#castingTime}}
							<tr>
								<td class="sheet-label-small">Cast Action: <span class="NotHighlighted">{{castingTime}}</span></td>
							</tr>
							{{/castingTime}}
							{{#HighestRank}}
							<tr>
								<td class="sheet-label-small">HighestRank: <span class="NotHighlighted">{{HighestRank}}</span></td>
							</tr>
							{{/HighestRank}}
							{{#ManaCost}}
							<tr>
								<td class="sheet-label-small">ManaCost: <span class="NotHighlighted">{{ManaCost}}</span></td>
							</tr>
							{{/ManaCost}}
							{{#desc}}
							<tr>
								<td><hr class="sheet-divider"></td>
							</tr>
							<tr>
								<td class="sheet-label-small NotHighlighted"><p class="desc-holder">{{desc}}</p></td>
							</tr>
							{{/desc}}
						</table>
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>